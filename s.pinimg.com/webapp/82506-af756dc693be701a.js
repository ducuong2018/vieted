"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82506],{865173:function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}n.d(t,{Z:function(){return o},v:function(){return i}});var i=function(){return"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator};function o(){return a.apply(this,arguments)}function a(){var e;return e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i()){e.next=13;break}return e.prev=1,e.next=4,navigator.getInstalledRelatedApps();case 4:return t=e.sent,e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:e.next=14;break;case 13:return e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})),a=function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))},a.apply(this,arguments)}},951599:function(e,t,n){var r=n(388011),i=n(245410),o=n(282802),a=n(868489),s=n(352865),c=n(185803),l=n(389282);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function h(e){var t=e.children,n=e.invite_code,a=(0,o.B)(),l=a.isAuthenticated,u=a.isBot,p=a.unauthId,d=a.userAgent,h=d.platform,_=d.raw,v=(0,r.v)().logContextEvent,m=(0,i.F)().checkExperiment,y=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:r}}),(0,c.Z)({isAuthenticated:l,checkExperiment:m,deeplinkUri:t,fallbackUrl:i,invite_code:n,logContextEvent:v,platform:h,redirectToLite:(0,s.Rp)({isBot:u,platform:h,userAgent:_}),unauthId:p,userAgent:_,within:r});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();return t(y)}var _=function(e){return(0,l.jsx)(a.ty,{children:function(t){return(0,l.jsx)(h,p(p({},e),{},{invite_code:t}))}})};_.displayName="DeepLinkNavigator",t.Z=_},266732:function(e,t,n){n.d(t,{Z:function(){return z}});var r=n(658379),i=n(172792),o=n(249444),a=n(690108),s=n(527386),c=n(536042),l=n(630089),u=n(756513),p=n(455788),d=n(657482),f=n(767874),h=n(700453),_=n(217861),v=n(389282),m=function(e){var t=e.i18n,n=e.board,r=e.section;return r?(0,l.nk)(t._('Saved to {{sectionName}} in {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{sectionName:r&&r.title,boardName:n.name}).join(""):(0,v.jsx)(o.xv,{color:"default",weight:"bold",children:(0,l.nk)(t._('Saved to {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{boardName:n.name})})};function y(e){var t=e.board,n=e.copyGroup,i=e.hideToast,a=e.i18n,s=e.isNativeAppInstalledContext,c=e.section,u=(0,l.nk)(a._('Explore your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop1', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(o.xu,{display:"inlineBlock",children:(0,v.jsx)(o.xv,{weight:"bold",children:a._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})});return s.isNativeAppInstalled||(u="enabled_copy2"===n?(0,l.nk)(a._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(o.xu,{display:"inlineBlock",children:(0,v.jsx)(o.xv,{weight:"bold",children:a._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})}):(0,l.nk)(a._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(o.xu,{display:"inlineBlock",children:(0,v.jsx)(o.xv,{weight:"bold",children:a._('Get app', 'RepinRequest.appUpsell.cta.text2', 'app upsell cta text for repin toast success')})})})),(0,v.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"opacity .3s ease-in-out",marginBottom:"45px"}},position:"fixed",zIndex:_.k,children:(0,v.jsx)(o.xu,{marginStart:"auto",marginEnd:"auto",borderStyle:"shadow",rounding:4,dangerouslySetInlineStyle:{__style:{width:"calc(100% - 30px)"}},color:"light",children:(0,v.jsx)(h.Z,{within:"auth-save",children:function(e){var n=e.handleOpenApp;return(0,v.jsx)(o.iP,{onTap:function(){n()},children:(0,v.jsx)(o.xu,{padding:4,rounding:4,marginBottom:8,children:(0,v.jsxs)(o.kC,{children:[(0,v.jsx)(o.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(o.xu,{marginStart:1,marginEnd:5,padding:1,rounding:2,color:"lightWash",children:(0,v.jsx)(o.xu,{rounding:7,position:"relative",children:(0,v.jsx)(f.Z,{size:28})})})}),(0,v.jsx)(o.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(o.xu,{children:(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(o.xu,{marginBottom:1,children:(0,v.jsx)(m,{i18n:a,board:t,section:c})}),(0,v.jsx)(o.xv,{size:"300",children:u})]})})}),(0,v.jsx)(o.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(o.xu,{marginStart:1,children:(0,v.jsx)(o.hU,{accessibilityLabel:a._('Cancel icon', 'app_upsell.dismissable.footer.cancel.accessibilityLabel', 'accessibility label for cancel icon to dismiss this app upsell'),icon:"cancel",onClick:function(e){var t=e.event;i(),t.preventDefault(),t.stopPropagation()},size:"sm"})})})]})})})}})})})}var b=n(348597),g=n(28557),w=n(907310),x=function(e){return{duration:5e3,thumbnail:(0,v.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,v.jsx)(w.Z,{boardId:e})})}},P=n(550140),j=n(802071);function O(e){var t=e.boardId,n=e.hideToast,r=e.pinId,i=e.originalPinId,a=(0,c.ZP)(),s=(0,j.Z)();return(0,v.jsx)(P.ZP,{primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:"/pin/".concat(r,"/repin/?isEditingPin=true&pinBoardId=").concat(null!=t?t:"","&&isFromToast=true&&originalPinId=").concat(null!=i?i:""),label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:n},duration:5e3,onHide:n,text:(0,v.jsxs)(o.xv,{children:[(0,v.jsx)(o.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(o.rU,{display:"inlineBlock",href:s.isAuth?"/".concat(s.username,"/_saved"):"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,v.jsx)(o.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var I=n(894788),A=n(255655);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E="RepinResource",U=function(e){var t=e.board,n=e.section,i=(0,c.ZP)(),a="quick_saves"===t.layout?i._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):t.name;return n?(0,l.nk)(i._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:n&&n.title,boardName:t.name}).join(""):(0,v.jsxs)(r.Fragment,{children:[(0,v.jsx)(o.xv,{color:"default",children:i._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,v.jsx)(o.xv,{color:"default",weight:"bold",children:a})]})},z=function(){function e(t){var n=t.boardId,r=t.checkExperiment,o=t.isNativeAppInstalledContext,a=t.dispatch,s=t.history,c=t.isOneTapSave,l=void 0!==c&&c,u=t.isQuickSave,p=void 0!==u&&u,d=t.onSuccess,f=t.onUndo,h=t.originalPinId,_=t.pinId,v=t.section,m=t.showNewUserSavetoProfileAnimation,y=void 0!==m&&m,g=t.showRepinToasts,w=t.trackingParams,x=t.userId,P=t.viewType,j=t.historyPush,O=t.suggestedBoardIds,I=t.savePinId,S=t.pinData,k=S.trackingParams,T=S.viewParameter,U=S.pinnedToBoardId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R(this,"_getNormalizedResponse",(function(e){return(0,i.Fv)(e.resource_response.data,A.Z[E])})),this.boardId=n,this.trackingParams=w,this.checkExperiment=r,this.isNativeAppInstalledContext=o,this.clientTrackingParams=(0,b.Z)(w.clientTrackingParams||"",k),this.dispatch=a,this.history=s,this.onSuccess=d,this.onUndo=f,this.originalPinId=h,this.pinId=_,this.pinnedToBoardId=w.pinnedToBoardId||(null!=U?U:""),this.showNewUserSavetoProfileAnimation=y,this.showRepinToasts=g,this.section=v,this.isOneTapSave=l,this.isQuickSave=p,this.userId=x,this.viewType=null!=P?P:3,this.historyPush=j,this.suggestedBoardIds=O,this.savePinId=I,this.pinViewParameter=T}var t,n,r;return t=e,(n=[{key:"resourceOptions",get:function(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}},{key:"trackingData",get:function(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}},{key:"_createRepin",value:function(){return a.Z.create(E,k(k({},this.resourceOptions),{},{disable_event_log_info:!0})).callCreate()}},{key:"processRepin",value:function(e){var t=this,n=this.checkExperiment("mweb_auth_post_save_app_upsell"),r=n.anyEnabled,i=n.group;return this._createRepin().then((function(n){t.onSuccess&&t.onSuccess();var a=n.resource_response.data,l=a.board,f=t.isQuickSave,h=t.originalPinId,_=t.showNewUserSavetoProfileAnimation,m=t._getNormalizedResponse(n);if(t.dispatch((0,u.XM)(E,t.resourceOptions,n,m)),t.savePinId(t.resourceOptions.pin_id,a.id),t.originalPinId&&t.originalPinId!==t.resourceOptions.pin_id){var b=k(k({},t.resourceOptions),{},{pin_id:t.originalPinId});t.dispatch((0,u.XM)(E,b,n,m)),t.savePinId(t.originalPinId||"",a.id)}t.dispatch((0,I.M)(a.id,l.id,t.section?t.section.id:void 0,t.userId));var w=t.showRepinToasts;return w&&w((function(e){var n=e.hideToast;if(f&&!_)return(0,v.jsx)(O,{hideToast:n,pinId:a.id,boardId:a.board.id,originalPinId:h});var s,u=x(l.id).thumbnail;return r&&!d.Z.getItem("saveAppUpsellViewed")?(d.Z.setItem("saveAppUpsellViewed",!0),(0,v.jsx)(p.Z,{children:(0,v.jsx)(o.mh,{children:(0,v.jsx)(c.oz,{children:function(e){return(0,v.jsx)(y,{board:l,copyGroup:i,hideToast:n,i18n:e,isNativeAppInstalledContext:t.isNativeAppInstalledContext,section:t.section})}})})})):(0,v.jsx)(g.Z,{button:(0,v.jsx)(c.oz,{children:function(e){return(0,v.jsx)(o.zx,{fullWidth:!0,onClick:function(n){var r=n.event;r.preventDefault(),r.stopPropagation();var i,o=t.onUndo;o&&!_?o(t.pinId,a.id,l.id,null===(i=t.section)||void 0===i?void 0:i.id,e):_&&t.historyPush("/pin/".concat(a.id,"/repin/?isEditingPin=true&pinBoardId=").concat(l.id,"&&isFromToast=true&&originalPinId=").concat(null!=h?h:""))},text:_?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}}),href:t.section?"".concat(l.url).concat(null!==(s=t.section.slug)&&void 0!==s?s:""):l.url,isRepinToExistingBoard:!0,onHide:n,text:(0,v.jsx)(U,{board:l,section:t.section}),thumbnail:u})})),t.dispatch((0,s.fO)({event_type:5})),e(t.trackingData),a}))}}])&&T(t.prototype,n),r&&T(t,r),e}()},700453:function(e,t,n){n.d(t,{B:function(){return h},Z:function(){return _}});var r=n(658379),i=n(867221),o=n(40660),a=n(388011),s=n(788241),c=n(988014),l=n(98736),u=n(618569),p=n(799006),d=n(951599),f=n(389282),h=function(e){return"/"===e.pathname?"/":(0,c.am)(e)?"board/".concat(e.pathname.substr(1)):e.pathname.substr(1)};function _(e){var t=e.children,n=e.componentType,c=e.within,_=(0,i.useLocation)(),v=(0,a.v)(),m=v.flushContextEvents,y=v.logContextEvent,b=(0,s.SU)(),g=b.viewType,w=b.viewParameter,x=(0,u.Z)();(0,r.useEffect)((function(){x({action:"view",item:"download-button",within:c})}),[_,c,x]);var P=(0,r.useRef)(!1);(0,r.useEffect)((function(){g&&202!==g?(y({component:n||13106,element:10308,event_type:9976,view_type:g,view_parameter:w,aux_data:{app_upsell_type:c,app_upsell_is_dupe:P.current}}),P.current=!0):o.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:n,view_type:g,view_parameter:w,app_upsell_type:c,app_upsell_is_dupe:P.current})}),[n,y,w,g,c]);var j=(0,p.Z)();return(0,r.useEffect)((function(){j||(0,l.My)("mweb.app_upsell.forbidden_upsell.".concat(c))}),[j,c]),(0,f.jsx)(d.Z,{children:function(e){return t({handleOpenApp:function(t){var r;(x({action:"click",item:"download-button",within:c}),(0,l.NC)("press_open_app",!0),y({component:n||13106,element:10308,event_type:102,view_type:g||202,view_parameter:w,aux_data:{app_upsell_type:c}}),y({component:n||13106,element:10308,event_type:9977,view_type:g||202,view_parameter:w,aux_data:{app_upsell_type:c}}),m(!0),e)&&(y({component:n||13106,element:10308,event_type:1701,view_type:g||202,view_parameter:w,aux_data:{app_upsell_type:c}}),e(null!==(r=null==t?void 0:t.deepLinkUri)&&void 0!==r?r:h(_),c))}})}})}},799006:function(e,t,n){var r=n(261783);t.Z=function(){return(0,r.useSelector)((function(e){return e.session.canUseNativeApp}))}},726425:function(e,t,n){n.d(t,{N:function(){return d},h:function(){return f}});var r=n(658379),i=n(865173),o=n(583592),a=n(389282);function s(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,o.Z)("NativeAppInstalled"),p=u.Provider,d=u.useHook;function f(e){var t=e.children,n=c((0,r.useState)(!1),2),o=n[0],l=n[1],u=(0,r.useCallback)((function(e){l(e)}),[]);(0,r.useEffect)((function(){function e(){var t;return t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Z)();case 2:e.sent.length>0&&l(!0);case 4:case"end":return e.stop()}}),e)})),e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d=(0,r.useMemo)((function(){return{isNativeAppInstalled:o,setIsNativeAppInstalledVal:u}}),[o,u]);return(0,a.jsx)(p,{value:d,children:t})}},348597:function(e,t,n){function r(e,t){return e||(t?"".concat(null!=t?t:"","~0"):"~0")}n.d(t,{Z:function(){return r}})},352865:function(e,t,n){n.d(t,{G3:function(){return u},Rp:function(){return l},kp:function(){return c}});var r=n(736409),i=n(611756),o=n(173085),a=14*r.F4;function s(e,t,n){return e-t>n}var c=function(e){var t,n,c=(t=Date.now(),n=Number((0,i.qn)("appUpsell")),{currentTime:t,firstUpsellTime:Number((0,i.qn)("firstUpsellTime")),lastUpsellTime:n,showedAppUpsellCurrentSession:Boolean((0,o.qn)("showedAppUpsellCurrentSession"))});return e?function(e,t,n){var r=e.currentTime,o=e.firstUpsellTime,c=e.lastUpsellTime,l=e.showedAppUpsellCurrentSession;return n=n||a,!o||function(e,t,n){return e<t+n}(r,o,t)?!l:!!s(r,c,n)&&((0,i.L_)("firstUpsellTime"),!0)}(c,r.F4):function(e,t){var n=e.currentTime,r=e.lastUpsellTime;return t=t||a,!r||s(n,r,t)}(c)},l=function(e){var t=e.isBot,n=e.platform,r=e.userAgent;try{return!t&&"android"===n&&parseFloat(function(e){var t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0}(r))<7}catch(i){return!1}},u=function(e){return(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()}},185803:function(e,t,n){var r=n(40660),i=n(865173),o=n(739425);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="http://play.google.com/store/apps/details?id=com.pinterest",l=["access_token","new_password","new_password_confirm","password","next"],u=function(e,t){return t?(0,o.ru)(e,{invite_code:t}):e},p=function(e,t,n){if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){var r=e.split("/")[2];e="discover_article/".concat(r,"/?is_deeplink=1")}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?u(e,n):"ios"===t||"ipad"===t?u(e.iOS,n):"android"===t?u(e.android,n):null},d=function(e){var t=e.deeplinkUri,n=e.invite_code,r=e.platform,i=e.fallbackUrl,c=e.unauthId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({deeplink_path:p(t,r,n),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:c,utm_source:140,utm_medium:2152},i?{af_r:i}:null)};t.Z=function(e){var t=e.isAuthenticated,n=e.checkExperiment,a=e.deeplinkUri,s=e.fallbackUrl,u=e.invite_code,f=e.logContextEvent,h=e.platform,_=e.redirectToLite,v=e.unauthId,m=e.userAgent,y=e.within;null==f||f({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});var b="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==n?void 0:n(t?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":b="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":b="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":b="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":b="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":b="https://pinterest.onelink.me/TVSr/elsthgd7"}if(a){var g=d({isAuthenticated:t,deeplinkUri:a,fallbackUrl:s,invite_code:u,platform:h,unauthId:v,userAgent:m});if(r.Z.increment("mweb.deeplink",1,{platform:h}),u&&r.Z.increment("mweb.deeplink.invite_code",1),r.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(v)}),_){r.Z.increment("mweb.deeplink.lite_link",1),null==f||f({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});var w=function(e){var t=e.unauthId,n=(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:t});return{referrer:encodeURI(n)}}({unauthId:v});window.location.href=(0,o.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",w)}else if("android"===h){null==f||f({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}});var x=function(e){var t=e.deeplinkUri,n=e.invite_code,r=e.platform,i=e.unauthId,a=JSON.stringify({deeplink_path:p(t,r,n),current_page_url:(0,o.Gw)("undefined"!=typeof window?window.location.href:"",l),install_id:i});return{referrer:(0,o.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}}({deeplinkUri:a,invite_code:u,platform:h,unauthId:v});(0,i.v)()?(0,i.Z)().then((function(e){if(e.length>0){var t=(0,o.ru)(window.location.href,g);window.open(t)}else null==f||f({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,o.ru)(c,x)})).catch((function(){r.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==f||f({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,o.ru)(c,x))}else{if(r.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===h&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,o.ru)("https://pinterest.com/pinterest-predicts",g));null==f||f({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:y}}),window.location.href=(0,o.ru)(b,g)}}}},383755:function(e,t,n){n.d(t,{Hn:function(){return p},Jw:function(){return _},L7:function(){return r},Qc:function(){return i},Tt:function(){return m},UF:function(){return l},UV:function(){return a},W1:function(){return o},Ws:function(){return d},ZW:function(){return c},cK:function(){return v},cy:function(){return h},o4:function(){return f},tr:function(){return u},vF:function(){return s}});var r=1,i=2,o="female",a="male",s="unspecified",c="en-US",l="US",u=3,p="has_done_closeup",d="Gender",f="InterestPicker",h="LoadingStep",_="AppInstall",v={NUX_GENDER_STEP_NAME:d,NUX_INTEREST_PICKER_STEP_NAME:f,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:_},m=2500},28557:function(e,t,n){n.d(t,{Z:function(){return H}});var r=n(658379),i=n(541288),o=n(249444),a=n(536042),s=n(455788),c=n(272109),l=n(874261),u=n(389282);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t,n=e.addedStyles,i=e.button,a=e.headerText,s=e.icon,c=e.iconOverride,p=e.minHeight,f=e.subHeaderText;return(0,u.jsx)(o.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,u.jsxs)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:d({boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(".concat(-20,"px)")},n)},display:"flex",minHeight:p||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(t=c||(0,u.jsxs)(r.Fragment,{children:[(0,u.jsx)(l.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,u.jsx)(o.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,u.jsx)(o.JO,{accessibilityLabel:s.accessibilityLabel,color:s.color,dangerouslySetSvgPath:s.dangerouslySetSvgPath,icon:s.icon,inline:s.inline,size:s.size})})]}),(0,u.jsx)(o.xu,{marginEnd:4,children:t})),(0,u.jsxs)(o.xu,{marginEnd:"auto",children:[(0,u.jsx)(o.xv,{color:"default",weight:"bold",children:a}),!!f&&(0,u.jsx)(o.xu,{paddingY:1,children:(0,u.jsx)(o.xv,{size:"300",color:"default",children:f})})]}),(0,u.jsx)(o.xu,{display:"flex",flex:"shrink",marginStart:2,children:i})]})})}var _=n(217861);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(c){s=!0,i=c}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}(this,n)}}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=function(e,t){return(e-t)/2},S=200,k=68,T=A(k,68),R=A(k,66),E=A(k,60),U="cubicBezier(0.25, 0.1, 0.25, 1)",z="encourageToastIconContainer",C="encourageToastIconRadiateBg",N="encourageToastIconRadiateRing",Z={targets:"#".concat(z),duration:300,scale:1.4,easing:U},D={targets:"#".concat(z),duration:300,scale:1,easing:U,endDelay:1e3},B={targets:"#".concat(z),duration:300,scale:.42,easing:U},L={targets:"#".concat(C),duration:400,opacity:0,scale:1.6,easing:U},q={targets:"#".concat(N),duration:650,opacity:0,scale:2,easing:U};function F(e){var t=e.hiding;return e.visible?t?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,n,r,a=P(s);function s(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(j(e=a.call.apply(a,[this].concat(n))),"delayTimer",null),I(j(e),"requestAnimationFrameId",null),I(j(e),"playAnimation",(function(){e.requestAnimationFrameId=window.requestAnimationFrame((function(){(0,i.Z)(L),(0,i.Z)(q),(0,i.Z)(Z).finished.then((function(){(0,i.Z)(D).finished.then((function(){i.Z.set("#".concat(z),{transformOrigin:"top right"}),(0,i.Z)(B)}))}))}))})),I(j(e),"getHeaderText",(function(){var t=e.props.text;return Array.isArray(t)?t[0]:t})),I(j(e),"getIconProps",(function(){return{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}})),I(j(e),"getSubHeaderText",(function(){var t=e.props.text;return t instanceof Array&&t.length>1&&t[1]?t[1]:""})),I(j(e),"renderAnimatedIcon",(function(){return(0,u.jsxs)(o.xu,{height:k,position:"relative",width:k,children:[(0,u.jsx)(o.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:"".concat(E,"px"),top:"".concat(E,"px")}},children:e.props.thumbnail}),(0,u.jsxs)(o.xu,{id:z,height:k,width:k,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,u.jsx)(o.xu,{color:"infoBase",id:C,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:"".concat(T,"px"),top:"".concat(T,"px"),transform:"scale(0)"}}}),(0,u.jsx)(o.xu,{id:N,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:"".concat(R,"px"),top:"".concat(R,"px"),transform:"scale(0)"}}}),(0,u.jsx)(o.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:k,justifyContent:"center",minHeight:k,minWidth:k,position:"absolute",rounding:"circle",width:k,children:(0,u.jsx)(o.JO,{accessibilityLabel:e.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.delayTimer=setTimeout(this.playAnimation,700)}},{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}},{key:"render",value:function(){var e=this.props,t=e.isRepinToExistingBoard,n=e.button,r=t;return(0,u.jsx)(h,{button:n,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:r?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}])&&w(t.prototype,n),r&&w(t,r),s}(r.PureComponent);function H(e){var t=e.duration,n=e.onHide,i=(0,a.ZP)(),l=b((0,r.useState)(!1),2),p=l[0],d=l[1],f=b((0,r.useState)(!1),2),h=f[0],v=f[1],m=(0,r.useRef)(),g=function(){d(!0),m.current=setTimeout(n,S)},w=function(){m.current&&clearTimeout(m.current)};(0,c.Z)((function(){return setTimeout((function(){return v(!0)}),100),m.current=setTimeout(g,t||_.w),w}));var x=(0,u.jsx)(M,y(y({},e),{},{i18n:i}));return e.href&&(x=(0,u.jsx)(o.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:x})),(0,u.jsx)(s.Z,{children:(0,u.jsx)(o.mh,{children:(0,u.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:y({},F({hiding:p,visible:h}))},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:_.k,children:x})})})}},922204:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(261783),i=n(63262),o=n(383755),a=n(260070);function s(){var e=(0,r.useDispatch)(),t=(0,i.F9)(),n=t.showToast,s=t.showOneToast;return{showToast:n,showOneToast:s,showRepinConfirmation:function(t,r){r||e((0,a.WF)()),setTimeout((function(){r||e((0,a.a5)()),n(t)}),o.Tt)}}}},86829:function(e,t,n){n.d(t,{a:function(){return r},k:function(){return i}});var r=function(e){return{type:"ONE_TAP_SAVE",payload:e}},i=function(e){return{type:"ONE_TAP_UNSAVE",payload:e}}},540459:function(e,t,n){n.d(t,{L:function(){return s},q:function(){return c}});var r=n(690108),i=n(911767),o=n(541268),a=n(274796);function s(e){return function(t){var n=e.inSelectAll,s=e.selectedPinIds,c=e.orbacSubjectId,l=e.source,u=l.boardId,p=l.sectionId,d=n?"BulkEditSelectAllResource":"BulkEditResource",f={board_id:u,section_id:p,pin_ids:s,orbac_subject_id:c};return t((0,i.xQ)(u)),t((0,o.EX)({feedId:p||u,feedType:p?a.Z.BOARD_SECTION_PINS:a.Z.BOARDFEED,inverseSelection:n,itemIds:s,itemType:"pin"})),r.Z.create(d,f).callDelete()}}var c=function(e){var t=e.pinId,n=e.boardId,i=e.boardSectionId,o=e.clientTrackingParams;return function(e,a){var s=r.Z.create("PinResource",{id:t,client_tracking_params:o}).callDelete(),c=a().session.userId;return e(function(e,t,n,r){return{type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:r}}}(t,n,i,c)),s}}},77875:function(e,t,n){n.d(t,{w:function(){return a}});var r=n(541268),i=n(266732),o=n(648609),a=function(e){var t=e.pinId,n=e.boardId,a=e.checkExperiment,s=e.isNativeAppInstalledContext,c=e.i18n,l=e.isQuickSave,u=e.logContextEvent,p=e.onSuccess,d=e.onUndo,f=e.originalPinId,h=e.showNewUserSavetoProfileAnimation,_=e.showRepinConfirmation,v=e.showToast,m=e.section,y=e.trackingParams,b=e.isOneTapSave,g=e.viewType,w=e.historyPush,x=e.suggestedBoardIds,P=e.savePinId;return function(e,j){var O,I,A,S,k,T,R,E,U,z=j(),C=z.pins,N=z.session,Z=z.feeds,D=C[t];n&&((null===(O=null!==(I=null==D?void 0:D.shopping_flags)&&void 0!==I?I:[])||void 0===O?void 0:O.length)>0||null!=D&&D.rich_summary&&(null===(A=null!==(S=null==D||null===(k=D.rich_summary)||void 0===k?void 0:k.products)&&void 0!==S?S:[])||void 0===A?void 0:A.length)>0)&&(Z["board-shop-saved-preview:".concat(n)]&&e((0,r.Qv)("board-shop-saved-preview:".concat(n),[D],{isPrepend:!0})),Z["board-shop-saved:".concat(n)]&&e((0,r.Qv)("board-shop-saved:".concat(n),[D],{isPrepend:!0})));return new i.Z({boardId:n,checkExperiment:a,isNativeAppInstalledContext:s,dispatch:e,i18n:c,isLegoSaveStyle:!0,isOneTapSave:b,isQuickSave:l,onSuccess:p,onUndo:d,originalPinId:f,pinId:D.id,section:m,showNewUserSavetoProfileAnimation:h,showRepinToasts:function(e){return _?_(e):v?v(e):void 0},trackingParams:y,userId:N.userId,viewType:g,historyPush:w,suggestedBoardIds:x,savePinId:P,pinData:{trackingParams:D.tracking_params,viewParameter:(0,o.A)({hasRichMetadata:!!D.rich_metadata,hasRichMetadataProducts:!(null===(T=D.rich_metadata)||void 0===T||!T.products),hasRichMetadataArticle:!(null===(R=D.rich_metadata)||void 0===R||!R.article),hasRichMetadataRecipe:!(null===(E=D.rich_metadata)||void 0===E||!E.recipe)}),pinnedToBoardId:null===(U=D.pinned_to_board)||void 0===U?void 0:U.id}}).processRepin(u)}}},648609:function(e,t,n){n.d(t,{A:function(){return r}});var r=function(e){var t=e.hasRichMetadata,n=e.hasRichMetadataProducts,r=e.hasRichMetadataArticle,i=e.hasRichMetadataRecipe;return t?n?144:r?141:i?145:139:140}},217861:function(e,t,n){n.d(t,{k:function(){return a},w:function(){return o}});var r=n(249444),i=n(360675),o=2e3,a=new r.H3([i.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82506-af756dc693be701a.js.map