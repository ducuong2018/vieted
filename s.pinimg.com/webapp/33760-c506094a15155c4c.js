"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[33760],{36521:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(249444),r=n(536042),i=n(389282);function a(e){var t=e.accessibilityLabel,n=e.fixedPosition,a=e.rounding,s=(0,r.ZP)();return(0,i.jsxs)(o.xu,{children:[(0,i.jsx)(o.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:n?"fixed":"absolute",right:!0,top:!0,zIndex:new o.Ry(101),children:(0,i.jsx)(o.$j,{accessibilityLabel:t||s._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,i.jsx)(o.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:n?"fixed":"absolute",right:!0,top:!0,zIndex:new o.Ry(100),rounding:a})]})}},306597:function(e,t){t.Z=function(e){var t=e.isUnder16,n=e.isPrivateProfile;return t||n}},737311:function(e,t,n){n.d(t,{Z:function(){return h}});var o=n(658379),r=n(40660),i=n(391297);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(u,e);var t,n,o,a=c(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(d(e=a.call.apply(a,[this].concat(n))),"state",{error:null,info:null}),_(d(e),"resetError",(function(){e.setState({error:null,info:null})})),e}return t=u,(n=[{key:"componentDidCatch",value:function(e,t){try{var n,o=this.props.name,a=this.props.type||"secondary";(0,i.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:o,errorBoundaryType:a,message:e.message,name:e.name,stack:e.stack}),r.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(s){r.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props.renderErrorState,t=this.state,n=t.error,o=t.info;return n&&o?e?e({error:n,info:o,resetError:this.resetError}):null:this.props.children}}])&&s(t.prototype,n),o&&s(t,o),u}(o.Component)},604094:function(e,t,n){var o=n(737311);t.Z=o.Z},88622:function(e,t,n){n.d(t,{ZP:function(){return g},b7:function(){return a.b7},bN:function(){return p},p4:function(){return f}});var o=n(313189),r=n(549201),i=n(389282),a=n(467105),s=["isOpen","mobileAccessibilityCloseIconLabel","mobileAllowScroll","mobileHideCloseIcon","mobileIsFullscreen","mobileIsSlideUp","type","mobileIsFooter","zIndex"],l=["allowClickAndDrag","allowMediaPlay","allowScroll","role","size","_dangerouslyDisableScrollBoundaryContainer"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,o,r=h(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}var p=(0,o.ZP)({resolved:{},chunkName:function(){return"DesktopModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(51879).then(n.bind(n,943072))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var o=this.resolve(t);return n(o)},resolve:function e(){return 943072}}),f=(0,o.ZP)({resolved:{},chunkName:function(){return"MobileModal"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(72430).then(n.bind(n,894121))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var o=this.resolve(t);return n(o)},resolve:function e(){return 894121}});function g(e){var t=(0,r.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){e.isOpen,e.mobileAccessibilityCloseIconLabel,e.mobileAllowScroll,e.mobileHideCloseIcon,e.mobileIsFullscreen,e.mobileIsSlideUp,e.type,e.mobileIsFooter,e.zIndex;var o=_(e,s);return(0,i.jsx)(p,d({},o))}e.allowClickAndDrag,e.allowMediaPlay,e.allowScroll,e.role,e.size,e._dangerouslyDisableScrollBoundaryContainer;var a=_(e,l);return(0,i.jsx)(f,d(d({},a),{},{isOpen:n}))}},467105:function(e,t,n){n.d(t,{JN:function(){return _},Vf:function(){return h},ZM:function(){return d},b7:function(){return c},i_:function(){return u}});var o=n(249444),r=n(377234),i=n(360675);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=new o.Ry(1e3),d=new o.H3([i.Z]),u=12,_=function(e){var t=e.variant;return{__style:"fullscreen"===t?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===t?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===t?{border:(0,r.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===t?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"}}},h=function(e){var t=e.isFullscreen,n=e.isTablet,o=e.isShowing,i=e.isRelatedInterestsModal,a={border:(0,r.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},l=o?"translateY(0)":"translateY(100vh)";return a.height=t?"100vh":"",n&&i&&(a=s(s({},a),{width:425,left:"50%",transform:"translateX(-50%)"}),l=o?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:s(s({},a),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:l})}}},550140:function(e,t,n){n.d(t,{UZ:function(){return _},Vg:function(){return u},ZP:function(){return h}});var o=n(658379),r=n(249444),i=n(549201),a=n(272109),s=n(389282);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var d=2e3,u=200,_=function(e){var t=e.deviceType,n=e.hiding,o=e.visible,r="desktop"===t,i=0,a=r?"translateY(200px)":"translateY(-200px)",s="opacity 0.1s ease-in-out",l="hidden";return o&&!n&&(i=1,a="translateY(0)",s="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",l="visible"),o&&n&&(a="scale(1.1)",s="opacity transform ".concat(.2,"s")),{opacity:i,pointerEvents:"auto",position:"relative",marginTop:r?10:0,transform:a,transition:s,visibility:l}};function h(e){var t,n,c=e._dangerouslySetThumbnail,h=e._dangerouslySetPrimaryAction,p=e.text,f=e.primaryAction,g=e.dismissButton,m=e.helperLink,v=e.thumbnail,y=e.type,b=e.dataTestId,P=e.duration,x=void 0===P?d:P,w=e.onHide,A=e.href,S=e.onClick,j=e.openNewPage,z=e.imageUrl,k=(0,i.ZP)(),E=l((0,o.useState)(!1),2),C=E[0],D=E[1],T=l((0,o.useState)(!1),2),O=T[0],M=T[1],L=(0,o.useRef)(),I=function(){D(!0),L.current=setTimeout(w,u)},B=function(){L.current=setTimeout(I,x)},R=function(){L.current&&clearTimeout(L.current)};(0,a.Z)((function(){return setTimeout((function(){return M(!0)}),100),B(),R})),z&&(n={image:(0,s.jsx)(r.Ee,{alt:"string"==typeof p?p:"".concat(p[0]," ").concat(p[1]),fit:"cover",naturalHeight:1,naturalWidth:1,src:z})});var Z=(0,s.jsx)(r.FN,{_dangerouslySetThumbnail:c,_dangerouslySetPrimaryAction:h,primaryAction:f,text:p,thumbnail:null!==(t=n)&&void 0!==t?t:v,type:y,dismissButton:g,helperLink:m}),U=_({deviceType:k,hiding:C,visible:O}),F=U.marginTop,H=U.opacity,N=U.pointerEvents,V=U.position,G=U.transform,Y=U.transition,q=U.visibility;return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:G,transition:Y,visibility:q,pointerEvents:N}},"data-test-id":null!=b?b:"toast",onMouseEnter:R,onMouseLeave:B,opacity:H,position:V,marginTop:F,display:"flex",children:A?(0,s.jsx)(r.iP,{role:"link",href:A,onTap:function(e){var t=e.event;return null==S?void 0:S(t)},target:j?"blank":null,rounding:"pill",children:Z}):Z})}},870243:function(e,t,n){n.d(t,{qE:function(){return s},u_:function(){return l.ZP}});var o=n(249444),r=n(389282),i=function(e,t){var n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function a(e){var t=e.accessibilityLabel,n=e.name,a=e.outline,s=e.size,l=e.src,c=e.verified;return(0,r.jsx)(o.qE,{accessibilityLabel:t,name:n,outline:a,size:s,src:i(l,n)?void 0:l,verified:c})}a.displayName="Avatar";var s=a,l=n(88622);n(550140)},550941:function(e,t,n){n.d(t,{Di:function(){return _},Jl:function(){return c},R:function(){return d},ZP:function(){return m},aU:function(){return h},j2:function(){return u},pN:function(){return p},rL:function(){return v},vW:function(){return g}});var o=n(249444),r=n(870243),i=n(550140),a=n(630089),s=n(739425),l=n(389282),c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",_="account_deactivated",h="unlink_successful",p="account_switch_to_settings";function f(e,t,n){return(0,l.jsx)(o.xv,{align:n||"center",children:(0,a.nk)(e,{username:(0,l.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}function g(e){var t=e.i18n,n=e.message,o=e.multipleAccounts,r=e.username,i=void 0===r?"":r;switch(n){case d:return t._('Your account has been deleted. We\'re sad to see you go', 'unauthLoginPage.accountDeletedToast.message', 'Confirmation message after a user has successfully deleted their account');case u:return f(o?t._('An email has been sent with final steps to delete your account, {{username}} and its linked accounts', 'accountDeletedEmailToast.message.multipleAccounts', 'Confirmation message after a user has successfully requested multiple accounts deletion'):t._('An email has been sent with final steps to delete your account, {{username}}', 'accountDeletedEmailToast.message.singleAccount', 'Confirmation message after a user has successfully requested a single account deletion'),i);case _:return f(o?t._('The account, {{username}}, and its associated linked accounts have been deactivated', 'unauthLoginPage.deactivatedToast.message.multipleAccounts', 'Confirmation message after a user has successfully deactivated multiple accounts'):t._('The account, {{username}}, has been deactivated', 'unauthLoginPage.deactivatedToast.message.singleAccount', 'Confirmation message after a user has successfully deactivated a single account'),i);case h:return f(t._('Success! You\'ve unlinked this business account. You are currently in {{username}}.', 'authHomeFeedPage.unlinkAccountToast.message', 'Confirmation message after a user has successfully unlinked business account'),i,"start");case p:return f(t._('You\'ve switched into and are currently in the account {{username}}', 'accountSettings.switchAccountToAccountChanges', 'Confirmation message after a user has successfully switched accounts and got redirected to Account Changes'),i,"start");default:return""}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t||!t.search)return"";var o=(0,s.mB)(t.search).message,r=(0,s.mB)(t.search).username||n;return g({i18n:e,message:o,multipleAccounts:"true"===(0,s.mB)(t.search).multiple_accounts,username:r})}function v(e){var t=e.showOneToast,n=e.i18n,o=e.location,a=e.history,d=e.username,u=e.fullName,_=e.avatarUrl;if(o&&o.search){var f=m(n,o,d||""),g=(0,s.mB)(o.search).message,v=g===p||g===h;f&&(t((function(e){var t=e.hideToast;return(0,l.jsx)(i.ZP,{duration:c,onHide:t,text:f,thumbnail:v?{avatar:(0,l.jsx)(r.qE,{name:u||"",src:_||"",size:"md"})}:void 0})})),a.replace(o.hash?"".concat(o.pathname).concat(o.hash):o.pathname))}}},394760:function(e,t,n){n.d(t,{A:function(){return C},J:function(){return E}});var o=n(658379),r=n(867221),i=n(563962),a=n(583592),s=n(249444),l=n(88622),c=n(536042),d=n(630089),u=n(36521),_=n(900379),h=n(837792),p=n(549201),f=n(392881),g=n(389282);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function y(e){var t=e.onClose,n=e.handleSubmit,a=e.errorMessage,v=e.currentViewParameter,y=e.currentComponent,b=(0,c.ZP)(),P=(0,i.Z)(),x=(0,p.HG)(),w=(0,r.useLocation)(),A=(0,(0,_.Z)("").getSingleValidator)("passcode"),S=m((0,o.useState)(!1),2),j=S[0],z=S[1],k=m((0,o.useState)(!1),2),E=k[0],C=k[1],D=m((0,o.useState)({value:"",error:void 0}),2),T=D[0],O=D[1],M=m((0,o.useState)(),2),L=M[0],I=M[1],B=b._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),R=b._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),Z=(0,d.nk)(b._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,g.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(s.rU,{display:"inlineBlock",href:h.a$,target:"blank",underline:"hover",onClick:function(e){e.event.stopPropagation(),v&&y&&P({event_type:102,view_type:7,view_parameter:v,element:12765,component:y})},children:b._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,o.useEffect)((function(){v&&y&&P({event_type:13,view_type:7,view_parameter:v,component:y})}),[v,y,P]),(0,o.useEffect)((function(){z(!!T.value&&!T.error)}),[T]);var U=(0,o.useCallback)((function(){P({event_type:14590,view_type:7,view_parameter:v,component:14374})}),[v,P]);(0,o.useEffect)((function(){var e=w.pathname.replace(/\/$/,"");a&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(U(),C(!1)),I(a)}),[a,U,w.pathname]);var F=function(){E||(v&&y&&P({event_type:x?101:102,view_type:7,view_parameter:v,component:y,element:11925}),t())};return(0,g.jsx)(l.ZP,{accessibilityModalLabel:b._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),mobileAccessibilityCloseIconLabel:B,align:"start",size:656,mobileIsFullscreen:!0,mobileIsSlideUp:!0,closeOnOutsideClick:!E,onDismiss:F,heading:x?(0,g.jsxs)(s.kC,{justifyContent:"between",children:[(0,g.jsxs)(s.kC,{direction:"column",gap:{row:0,column:2},alignItems:"start",children:[(0,g.jsx)(s.X6,{size:"500",align:"start",accessibilityLevel:1,children:R}),(0,g.jsx)(s.xv,{children:Z})]}),(0,g.jsx)(s.hU,{accessibilityLabel:B,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:F,size:"lg"})]}):(0,g.jsx)(s.X6,{size:"300",align:"center",accessibilityLevel:"none",children:b._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),footer:(0,g.jsxs)(s.kC,{alignItems:"center",justifyContent:x?"end":"center",children:[x?(0,g.jsx)(s.xu,{paddingX:1,children:(0,g.jsx)(s.zx,{disabled:E,onClick:F,text:b._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog'),size:"lg"})}):null,(0,g.jsx)(s.xu,{paddingX:x?1:4,flex:x?"shrink":"grow",children:(0,g.jsx)(s.zx,{disabled:!j||E,color:"red",onClick:function(){C(!0),v&&y&&P({event_type:x?101:102,view_type:7,view_parameter:v,component:y,element:12019}),n(T.value),C(!1)},text:b._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog'),size:"lg",fullWidth:!x})})]}),children:(0,g.jsx)(s.xu,{paddingX:x?6:4,paddingY:3,children:(0,g.jsxs)(s.kC,{justifyContent:x?"start":"center",direction:"column",alignItems:"center",children:[x?null:(0,g.jsx)(s.xu,{marginBottom:7,maxWidth:325,children:(0,g.jsxs)(s.kC,{direction:"column",alignItems:"center",children:[(0,g.jsx)(s.xu,{marginBottom:6,children:(0,g.jsx)(s.X6,{size:"500",align:"center",accessibilityLevel:2,children:R})}),(0,g.jsx)(s.xv,{align:"center",children:Z})]})}),(0,g.jsxs)(s.xu,{position:"relative",width:"100%",marginBottom:x?0:4,children:[(0,g.jsx)(s.nv,{id:"passcode",label:b._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),name:"passcode",onChange:function(e){return function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var n=(0,f.a3)(t,A);L&&I(void 0),O({value:e,error:n})}}(e.value)},type:"text",size:"lg",value:T.value,errorMessage:T.error||L,placeholder:"XXXX",labelDisplay:x?"visible":"hidden"}),E?(0,g.jsx)(u.Z,{accessibilityLabel:b._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var z=(0,a.Z)("ParentalPasscodeValidateModal"),k=z.Provider,E=z.useHook,C=function(e){var t=e.children,n=(0,i.Z)(),a=(0,r.useLocation)(),s=A((0,o.useState)(!1),2),l=s[0],c=s[1],d=A((0,o.useState)(),2),u=d[0],_=d[1],h=A((0,o.useState)(),2),p=h[0],f=h[1],m=A((0,o.useState)(void 0),2),v=m[0],b=m[1],x=A((0,o.useState)([]),2),S=x[0],j=x[1],z=a.pathname.replace(/\/$/,""),E="/parental-passcode"===z||"/settings/account-settings"===z;(0,o.useEffect)((function(){if(l){var e=(n=z).startsWith("/settings/messages")?3709:{"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860}[n],t=function(e,t){return t?14456:14374}(0,E);f(e),_(t)}var n}),[l,z,E]);var C=(0,o.useCallback)((function(e){b(void 0),S.map((function(t){return t(e)}))}),[S]),D=(0,o.useCallback)((function(e){var t=e.handlePasscodeSent;j((function(e){return[].concat(w(e),[t])})),c(!0)}),[]),T=(0,o.useCallback)((function(e){b(e)}),[]),O=(0,o.useCallback)((function(){f(void 0),_(void 0),j([]),b(void 0),c(!1)}),[]),M=(0,o.useCallback)((function(e){e&&!E&&n({event_type:14591,view_type:7,view_parameter:p,component:14374}),O()}),[O,p,n,E]),L=(0,o.useMemo)((function(){return{handleSubmit:C,errorMessage:v,onClose:O,currentViewParameter:p,currentComponent:u}}),[C,v,O,p,u]),I=(0,o.useMemo)((function(){return{getModalProps:L,closeModal:M,isModalOpen:l,setErrorMessage:T,setModalPropsAndOpen:D}}),[L,M,l,T,D]);return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(k,{value:I,children:t}),l?(0,g.jsx)(y,P({},L)):null]})}},900379:function(e,t,n){n.d(t,{Z:function(){return l}});var o=n(536042),r=n(392881);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var s=4;function l(e){var t=(0,o.ZP)(),n=(0,r.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),a=(0,r.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),l=(0,r.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),c=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),d=(0,r.Gy)({min:s,max:s,minErrorString:c,maxErrorString:c}),u={passcode:[n,l,d],confirmPasscode:[n,l,d],backupEmail:[n,a,function(n){var o=[];return n===e&&o.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:o,warnings:[]}}],confirmBackupEmail:[n,a]},_=function(e,n){switch(e){case"confirmPasscode":return(0,r.sG)({targetValue:n.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,r.sG)({targetValue:n.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return u[e]},getValidators:function(e,t){return[].concat(i(u[e]),[_(e,t)])},getMatchingValidator:_}}},497088:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(658379),r=n(389282);function i(e){var t=e.children,n=e.fallback||null;return(0,r.jsx)(o.Suspense,{fallback:n,children:t})}},643183:function(e,t,n){var o=n(497088);t.Z=o.Z},63262:function(e,t,n){n.d(t,{F9:function(){return i},Zo:function(){return r}});var o=(0,n(583592).Z)("toastManagerContext"),r=o.Provider,i=o.useHook},272109:function(e,t,n){var o=n(658379);t.Z=function(e){(0,o.useEffect)(e,[])}},212380:function(e,t,n){var o=n(249444),r=n(536042),i=n(389282);t.Z=function(e){var t=e.isInModal,n=(0,r.ZP)();return(0,i.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:t?"absolute":"fixed",top:!0,width:"100%",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,i.jsx)(o.$j,{accessibilityLabel:n._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},360675:function(e,t,n){var o=n(249444),r=n(558533),i=new o.H3([r.Z]);t.Z=i},712968:function(e,t,n){n.d(t,{Tt:function(){return _},cm:function(){return u},kW:function(){return c},kY:function(){return h},mN:function(){return d}});var o=n(261783),r=n(583592),i=n(802071),a=n(389282),s=(0,r.Z)("Users"),l=s.Provider,c=s.useHook;function d(){var e=c();return function(t){return e[t]}}function u(){var e=c();return function(t){var n=Object.keys(e).find((function(n){return e[n].username===t}));return e[null!=n?n:""]}}function _(){var e=(0,i.Z)().id;return c()[null!=e?e:""]}function h(e){var t=e.children,n=(0,o.useSelector)((function(e){return e.users}),o.shallowEqual);return(0,a.jsx)(l,{value:n,children:t})}},515367:function(e,t,n){n.d(t,{Z:function(){return s},e:function(){return a}});var o=n(249444),r=n(282802),i=n(389282),a=new o.Ry(1);function s(e){var t=e.children,n=e.isImagePinForUnauthOnTablet,s=e.showLightClickthroughOverlay,l=(0,r.B)().isAuthenticated;return(0,i.jsxs)(o.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},zIndex:l?void 0:a,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,children:[(0,i.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:s?.2:.4,position:"absolute",right:!0,top:!0}),t]})}},558533:function(e,t,n){var o=n(249444),r=n(515367),i=new o.H3([r.e]);t.Z=i},133760:function(e,t,n){n.r(t),n.d(t,{EMAIL_REGEX:function(){return Se},default:function(){return ze}});var o=n(658379),r=n(261783),i=n(867221),a=n(249444),s=n(40660),l=n(690108),c=n(563962),d=n(93008),u=n(377234),_=n(604094),h=n(970588),p=n(870243),f=n(550140),g=n(536042),m=n(630089),v=n(943795),y=n(993869),b=n(550941),P=n(245410),x=n(282802),w=n(819079),A=n(643183),S=n(453972),j=n(306597),z=n(837792),k=n(63262),E=n(739425),C=n(802071),D=n(212380),T=n(388011),O=n(394760),M=n(315219),L=n(560999);function I(e){return{type:"ALLOW_ALL_COOKIES",payload:{userId:e}}}var B=n(903539),R=n(319416),Z=n(551570),U=n(803529),F=n(836956),H=n(720978),N=n(389282);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var $=(0,o.lazy)((function(){return Promise.all([n.e(24030),n.e(91578)]).then(n.bind(n,324030))}));function J(){var e=(0,g.ZP)(),t=(0,C.Z)(),c=(0,P.F)().checkExperiment,u=(0,C.Z)().isAuth,h=(0,x.B)().country,p=(0,i.useLocation)(),b=(0,r.useDispatch)(),j=(0,T.v)().logContextEvent,V=(0,k.F9)().showToast,W=(0,O.J)(),J=W.closeModal,K=W.isModalOpen,Q=W.setErrorMessage,ee=W.setModalPropsAndOpen,te=(0,o.useRef)(!1),ne=X((0,o.useState)(!0),2),oe=ne[0],re=ne[1],ie=t.isAuth?t.id:"",ae=(0,E.mB)(p.search),se=!!("accept-all-cookies"in ae),le=!!("manage-cookies"in ae),ce=(0,w.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.is_regulated_by_aadc"}},noCache:!0}).isLoaded,de=(0,w.Z)({name:"UserSettingsResource",noCache:!0}),ue=de.isFetching,_e=de.data,he=de.isLoaded,pe=X((0,o.useState)(le),2),fe=pe[0],ge=pe[1],me=X((0,o.useState)(!1),2),ve=me[0],ye=me[1],be=X((0,o.useState)({ads_customize_from_conversion:!(null==_e||!_e.ads_customize_from_conversion),ccpa_opted_out:!(null==_e||!_e.ccpa_opted_out),personalize_from_offsite_browsing:!(null==_e||!_e.personalize_from_offsite_browsing),third_party_marketing_tracking_enabled:!(null==_e||!_e.third_party_marketing_tracking_enabled),exclude_from_search:!(null==_e||!_e.exclude_from_search),dsa_opted_out:!(null==_e||!_e.dsa_opted_out)}),2),Pe=be[0],xe=be[1],we=X((0,o.useState)(Pe),2),Ae=we[0],Se=we[1];(0,o.useEffect)((function(){if(he){var e={ads_customize_from_conversion:!(null==_e||!_e.ads_customize_from_conversion),ccpa_opted_out:!(null==_e||!_e.ccpa_opted_out),personalize_from_offsite_browsing:!(null==_e||!_e.personalize_from_offsite_browsing),third_party_marketing_tracking_enabled:!(null==_e||!_e.third_party_marketing_tracking_enabled),exclude_from_search:!(null==_e||!_e.exclude_from_search),dsa_opted_out:!(null==_e||!_e.dsa_opted_out)};xe(e),Se(e)}}),[_e,he]),(0,o.useEffect)((function(){!K&&te.current&&oe&&xe(Ae),te.current=K}),[K,oe,Ae]);var je=c("uup_dsa_relaunch_mweb").anyEnabled||c("uup_dsa_launch_mweb").anyEnabled,ze=c("mweb_profile_visibility_settings").anyEnabled,ke=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,o,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(85225).then(n.bind(n,685225));case 2:return t=e.sent,o=t.getGPCSignalState,r=t.getThirdPartyMarketingTrackingEnabledAfterGPC,i=t.setThirdPartyMarketingTrackingEnabledAfterGPC,e.next=8,o();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,r();case 13:if(!e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,i();case 18:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){q(i,o,r,a,s,"next",e)}function s(e){q(i,o,r,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Ee=e._('Privacy and data saved!', 'profileSettings.Edit.Privacy&Data.GenericSaveMessage', 'Toast shown when user settings have been saved'),Ce=function e(t,n,o){b((0,R._L)({field:t,value:n,passcode:o,onSettingSavedHn:function(){re(!1),Se(G(G({},Ae),{},Y({},t,n))),o&&J(!0),"exclude_from_search"===t&&n&&ye(!0),V((function(e){var t=e.hideToast;return(0,N.jsx)(f.ZP,{text:Ee,onHide:t})}))},showErrorHn:function(o){o&&o.api_error_code===M.mX?ee({handlePasscodeSent:function(o){e(t,n,o)}}):o&&o.api_error_code===M.RR&&Q(o.message)},surfaceTag:S.i.SETTINGS,userId:ie}))},De=function(e,t){re(!0),Ce(e,t),je&&"dsa_opted_out"===e&&j({component:13764,element:13561,event_type:t?107:106}),xe(G(G({},Pe),{},Y({},e,t))),"third_party_marketing_tracking_enabled"===e&&t&&ke()},Te=t.isUnder18,Oe=c("mweb_auth_eu_cookie_consent_tier_1",{dangerouslySkipActivation:!0}).group,Me=c("mweb_auth_eu_cookie_consent_non_tier_1",{dangerouslySkipActivation:!0}).group,Le=!1;(["control","employees","enabled"].includes(Oe)||["control","employees","enabled"].includes(Me)||d.Z.includes(h)||se||le)&&(Le=!0);var Ie=function(){s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_mobile_routes_EditPrivacyAndDataPage_handleAcceptAllCookies"}),l.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:S.i.SETTINGS}).callUpdate().then((function(){!function(e){b(I(e))}(ie),V((function(t){var n=t.hideToast;return(0,N.jsx)(f.ZP,{text:e._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'profileSettings.Edit.PrivacyAndData.CookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies'),onHide:n})}))}))},Be=function(){ge(!fe)};return(0,o.useEffect)((function(){se&&Ie(),j({event_type:13,view_type:7,view_parameter:3707})}),[]),u?!_e||ue?(0,N.jsx)(D.Z,{}):ce?(0,N.jsxs)(y.default,{hasFixedHeader:!0,children:[(0,N.jsxs)(a.xu,{marginBottom:2,children:[(0,N.jsx)(v.FixedHeader,{zIndexForGestaltBug:2,children:(0,N.jsx)(L.default,{heading:e._('Privacy and data', 'profileSettings.Edit.PrivacyAndData', 'Edit Privacy & Data page Top Navbar'),previousUrl:"/settings/",legoSettingsEnabled:!0})}),(0,N.jsx)(a.xu,{paddingX:3,marginBottom:6,"data-test-id":"edit-privacy-data-data-page",children:(0,N.jsx)(a.xv,{color:"subtle",children:(0,m.nk)(e._('Decide whether your Pinterest profile will be hidden from search engines, and what kinds of data you want us to use to improve the recommendations and ads you see. {{ learnMore }}', 'settings.privacyAndData.Explanation.Text', 'Description for Privacy and Data. learnMore: Learn more link'),{learnMore:(0,N.jsx)(a.xv,{inline:!0,weight:"bold",color:"subtle",children:(0,N.jsx)(a.rU,{display:"inlineBlock",href:z.Hl,target:"blank",underline:"hover",children:e._('Learn more', 'settings.privacyAndData.Explanation.LearnMoreLink', 'Text link for learning more about privacy and data')})},"login")})})}),(0,N.jsxs)(a.xu,{paddingX:3,children:[ze?null:(0,N.jsxs)(o.Fragment,{children:[(0,N.jsx)(a.xu,{marginBottom:4,children:(0,N.jsx)(a.xv,{children:e._('Search', 'settings.privacyAndData.Search', 'Search section heading')})}),(0,N.jsx)(H.Z,{heading:e._('Search privacy', 'profileSettings.Edit.Privacy&Data.SearchPrivacy', 'Label for Search privacy on Edit Privacy & Data page'),href:z.Mv,id:"searchPrivacySwitch",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.SearchPrivacy.LearnMore', 'Learn More on Search Privacy on Edit Privacy & Data page'),text:Te?e._('We tell search engines to exclude your profile and boards from their results. ', 'profileSettings.Edit.Privacy&Data.SearchPrivacy.Under18Description', 'Description for Search Privacy section for users under 18'):e._('Hide your profile and boards from search engines (E.g. Google)', 'profileSettings.Edit.Privacy&Data.SearchPrivacy.Description', 'Description for Search Privacy on Edit Privacy & Data page'),marginBottom:8,children:Te?null:(0,N.jsx)(a.rs,{id:"searchPrivacySwitch",onChange:function(e){var t=e.value;De("exclude_from_search",t)},switched:Pe.exclude_from_search})})]}),(0,N.jsx)(F.Z,{handleChange:De,settings:Pe,platform:"mobile"}),Le&&(0,N.jsxs)(a.xu,{display:"flex",marginBottom:8,marginTop:8,children:[(0,N.jsxs)(a.xu,{marginEnd:7,children:[(0,N.jsx)(a.xu,{marginBottom:2,children:(0,N.jsx)(a.X6,{size:"400",accessibilityLevel:2,children:e._('Cookie Preferences', 'profileSettings.cookiePreferences.title', 'Cookie preferences settings title')})}),(0,N.jsx)(a.xu,{children:(0,N.jsxs)(a.xv,{color:"subtle",size:"300",children:[e._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'profileSettings.cookiePreferences.description', 'Description about why we use cookies')," ",(0,N.jsx)(a.rU,{display:"inlineBlock",target:"blank",rel:"nofollow",tapStyle:"none",href:z._I,underline:"hover",children:(0,N.jsx)(a.xv,{size:"300",weight:"bold",color:"subtle",children:e._('Cookie policy', 'profileSettings.cookiePreferences.cookiePolicyLink', 'Cookie policy link')})})]})})]}),(0,N.jsx)(a.xu,{flex:"none",children:(0,N.jsx)(a.zx,{onClick:Be,size:"lg",text:e._('Edit', 'profileSettings.cookiePreferences.editButton', 'Edit cookies preferences button')})})]}),fe&&(0,N.jsx)(_.Z,{name:"SafeSuspense_EditPrivacyAndDataPage_CookieSettingsModal",children:(0,N.jsx)(A.Z,{children:(0,N.jsx)($,{dismissIcon:"arrow-back",onClose:Be})})}),je&&(0,N.jsx)(o.Fragment,{children:(0,N.jsx)(H.Z,{heading:e._('Inferred signals about you', 'profileSettings.Edit.Privacy&Data.InferredSignals', 'Label for Inferred signals about you on Edit Privacy & Data page'),href:z.Hl,id:"InferredSignalsSwitch",linkText:e._('Learn more', 'profileSettings.Edit.Privacy&Data.InferredSignals.LearnMore', 'Learn More on Inferred signals about you on Edit Privacy & Data page'),text:e._('Allow Pinterest to use information like your offsite data and inferences about your preferences to further personalize the ideas you see. ', 'profileSettings.Edit.Privacy&Data.InferredSignals.Description', 'Description for Inferred signals about you on Edit Privacy & Data page'),marginBottom:4,children:(0,N.jsx)(a.rs,{id:"InferredSignalsSwitch",onChange:function(e){var t=e.value;De("dsa_opted_out",!t)},switched:!Pe.dsa_opted_out})})}),(0,N.jsx)(a.xu,{marginBottom:8,children:(0,N.jsx)(U.Z,{heading:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),description:e._('Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount', 'Delete your data and account label on Edit Privacy & Data Page'),iconAccessibilityLabel:e._('Go to Delete your data and account', 'profileSettings.Edit.Privacy&Data.DeleteAccount.icon', 'Delete your data and account icon on Edit Privacy & Data Page'),to:"/close-account",headingAccessibilityLevel:2})}),c("mweb_data_download").anyEnabled&&(0,N.jsx)(a.xu,{marginBottom:8,children:(0,N.jsx)(U.Z,{heading:e._('Request your data', 'Settings.Privacy&Data.RequestData.Header', 'Request your data header on Edit Privacy & Data Page'),description:(0,m.nk)(e._('Request a copy of the info Pinterest collects about you. {{ learnMore }}', 'Settings.Privacy&Data.RequestData.Description', 'Description for Request Your Data section on Settings page. learnMore: Link to learn more'),{learnMore:(0,N.jsx)(a.xv,{inline:!0,weight:"bold",color:"subtle",children:(0,N.jsx)(a.rU,{display:"inlineBlock",href:z.Hl,target:"blank",underline:"hover",onClick:function(){j({event_type:102,view_type:7,view_parameter:3707,component:14780,element:12765})},children:e._('Learn more', 'Settings.Privacy&Data.RequestData.Description.LearnMore', 'Text link for learning more about Request Data Download')})},"login")}),iconAccessibilityLabel:e._('Go to Request your data settings page', 'Settings.Privacy&Data.RequestData.Icon', 'Request your data label on Edit Privacy & Data Page'),to:"/request-data",headingAccessibilityLevel:2})}),(0,N.jsxs)(a.xu,{marginBottom:7,children:[(0,N.jsx)(a.xu,{marginBottom:4,children:(0,N.jsx)(a.xv,{size:"200",children:e._('Cached data', 'profileSettings.Edit.Privacy&Data.CachedData.Description', 'Text for describing Cached data')})}),(0,N.jsx)(a.iP,{onTap:function(){var t,n,o;t=null,n=function(){return V((function(t){var n=t.hideToast;return(0,N.jsx)(f.ZP,{text:e._('Recent searches cleared', 'profileSettings.Edit.PrivacyAndData.RecentSearchsCleared', 'recent searches successfully cleared'),onHide:n})}))},o=function(){},b((0,B.lU)(t,n,o))},children:(0,N.jsx)(a.xu,{column:11,children:(0,N.jsx)(a.xv,{weight:"bold",size:"400",children:e._('Clear recent searches', 'profileSettings.Edit.Privacy&Data.ClearRecentSearches.Button', 'Button for Clear Recent Search on Edit Privacy & Data page')})})})]})]})]}),ve&&(0,N.jsx)(Z.Z,{onDismiss:function(){return ye(!1)},isOpen:ve})]}):(0,N.jsx)(D.Z,{}):(0,N.jsx)(i.Redirect,{to:"/"})}new Set(d.Z).add("GB");var K=n(446191),Q=n(712968),ee=n(734586),te="IS_LINKED_BUSINESS_ACCOUNT",ne="HAS_BILLING_PROFILE",oe="PERSONAL_ACCOUNT_HAS_LBAS";var re=function(e){var t,n,o=e.conversionUnavailableReason,r=e.isOpen,i=e.onDismiss,a=(0,g.ZP)();switch(o){case te:case oe:t=a._('Learn More', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;case ne:t=a._('Contact Support', 'settings.ConversionUnavailableModal.button.learnMore', 'Button text to confirm changes in password settings');break;default:t=""}switch(o){case te:n=a._('Since you are currently signed into a linked business account, you won\'t be able to convert to a personal account.', 'settings.conversionUnavailableModal.linkedBusinessAccount.explanation', 'Explanation shown in modal dialog why linked business accounts are not allowed to convert');break;case ne:n=a._('Because your account includes sensitive billing information, you\u2019ll need to submit a form to the support team', 'settings.conversionUnavailableModal.billingProfile.explanation', 'Explanation shown in modal dialog why accounts with billing info are not allowed to convert');break;case oe:n=a._('You are currently signed into a personal account, but you have linked business accounts. To convert to a business account, you must delete all linked business accounts.', 'settings.conversionUnavailableModal.hasLinkedBusinessAccounts.explanation', 'Explanation shown in modal dialog why account with linked business accounts is not allowed to convert');break;default:n=""}return(0,N.jsx)(ee.Z,{isOpen:r,onDismiss:i,type:"conversion_unavailable_modal",heading:a._('Sorry!', 'settings.ConversionUnavailableModal.heading', 'Conversion unavailable modal heading.'),description:n,primaryBtnParams:{text:t,accessibilityLabel:t,color:"red",role:"link",target:"blank",href:z.cP},secondaryBtnParams:{text:a._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),accessibilityLabel:a._('Cancel', 'settings. PasswordChangeSuccessModal.button.okay', 'Button text to confirm changes in password settings'),color:"gray",onClick:i}})},ie=function(e){var t=e.isOpen,n=e.email,o=e.handleDeactivate,r=e.onDismiss,i=(0,g.ZP)(),a=[(0,m.nk)(i._('If you want to use Pinterest again, just log in with {{email}}.', 'deactivateModal.loginAgainMessage', 'Description to reactivate the account'),{email:n}),i._('In the meantime, no one will see your Pins or your profile. People will still see private messages you sent them.', 'deactivateModal.deactivateMessage', 'Description for deactivate account button')];return(0,N.jsx)(ee.Z,{isOpen:t,onDismiss:r,type:"deactivated",heading:i._('You\'re welcome back anytime!', 'Deactivate account', 'Deactivate account'),description:a,hasMultiLineDescription:!0,primaryBtnParams:{text:i._('Deactivate account', ' - ', ' -- '),color:"gray",onClick:o},secondaryBtnParams:{text:i._('Cancel', ' - ', ' -- '),color:"red",onClick:r}})},ae=n(680562),se=n(88622),le=function(e){var t=e.isOpen,n=e.onDismiss,o=e.message,r=e.heading,i=(0,g.ZP)();return(0,N.jsx)(se.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,isOpen:t,onDismiss:n,type:"settings_confirmation",children:(0,N.jsxs)(a.xu,{padding:5,children:[(0,N.jsx)(a.xu,{marginBottom:3,children:(0,N.jsx)(a.X6,{size:"500",accessibilityLevel:1,children:r})}),(0,N.jsx)(a.xu,{marginBottom:3,children:(0,N.jsx)(a.xv,{children:o})}),(0,N.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,N.jsx)(a.xu,{paddingY:1,children:(0,N.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",text:i._('Okay', ' - ', ' -- '),onClick:n})})})]})})},ce=n(257139);var de=function(e){var t=e.isOpen,n=e.ownerEmail,o=e.onDismiss,r=e.onResendEmail,i=(0,g.ZP)(),s=(0,c.Z)();return(0,N.jsx)(ee.Z,{isOpen:t,onDismiss:o,type:"unlink_account_modal",heading:i._('Check your inbox!', 'settings.unlinkAccountModal.heading', 'Heading for modal dialog shown when user unlinks their business account'),description:(0,m.nk)(i._('We sent an email to {{ emailText }}. Tap the link to finish unlinking your accounts. The link will be valid for 24 hours', 'settings.unlinkAccountModal.text', 'Modal text showing unlink information and owner email'),{emailText:(0,N.jsx)(a.xv,{inline:!0,weight:"bold",children:n})}),primaryBtnParams:{text:i._('Resend email', 'settings.unlinkAccountModal.button.resendEmail', 'Label for the button that resends unlink email'),color:"gray",onClick:function(){s({element:12552,event_type:102,view_type:132}),r()}},secondaryBtnParams:{text:i._('Done', 'settings.unlinkAccountModal.button.doneButton', 'Done button label on the modal dialog'),color:"red",onClick:function(){s({element:12553,event_type:102,view_type:132}),o()}}})};function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function fe(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function a(e){pe(i,o,r,a,s,"next",e)}function s(e){pe(i,o,r,a,s,"throw",e)}a(void 0)}))}}function ge(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=be(e);if(t){var r=be(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return function(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ye(e)}(this,n)}}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe=(0,o.forwardRef)((function(e,t){var n=e.description,o=e.heading,r=e.iconAccessibilityLabel,i=e.onTap,s=e.to,l=e.marginTop,c=void 0===l?7:l,d=function(e){var t=e.children;return i?(0,N.jsx)(a.iP,{onTap:i,children:t}):(0,N.jsx)(a.iP,{role:"link",tapStyle:"none",href:s||"",children:t})};return(0,N.jsx)(d,{children:(0,N.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginBottom:7,marginTop:c,ref:t,children:[(0,N.jsxs)(a.xu,{children:[(0,N.jsx)(a.X6,{size:"400",children:o}),!!n&&(0,N.jsx)(a.xu,{marginTop:2,children:(0,N.jsx)(a.xv,{color:"subtle",children:n})})]}),(0,N.jsx)(a.xu,{paddingY:1,children:(0,N.jsx)(a.JO,{accessibilityLabel:r,color:"default",icon:"arrow-forward"})})]})})})),we=4e3,Ae=(0,o.lazy)((function(){return Promise.all([n.e(24030),n.e(91578)]).then(n.bind(n,324030))})),Se=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i"),je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(c,e);var t,n,r,i=ve(c);function c(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return Pe(ye(t=i.call.apply(i,[this].concat(r))),"state",{email:t.props.user&&null!==(e=t.props.user.email)&&void 0!==e?e:"",oldPassword:"",newPassword:"",retypeNewPassword:"",darkModeEnabled:(0,u.Yc)(),savedSettingName:"",toolTipErrorText:"",isDeactivateModalShown:!1,isDeactivateConfirmationShown:!1,isCloseConfirmationShown:!1,isConversionUnavailableModalShown:!1,isUnlinkModalShown:!1,isSpinnerShown:!1,isToastShown:!1,isToolTipShown:!1,resourceFetching:t.props.userSettingsResource.isFetching,showCookieSettings:t.props.openCookieSettingsOnMount}),Pe(ye(t),"handleManageAccountToast",(function(){var e=t.props,n=e.showToast,o=e.i18n,r=e.location,i=e.user,a=(0,b.ZP)(o,r,i.username||"");(0,E.mB)(r.search).message===b.pN&&a&&n((function(e){var t=e.hideToast;return(0,N.jsx)(f.ZP,{duration:b.Jl,text:a,thumbnail:{avatar:(0,N.jsx)(p.qE,{name:i.full_name||"",src:i.image_medium_url||"",size:"md"})},onHide:t})}))})),Pe(ye(t),"handleAcceptAllCookies",(function(){var e=t.props,n=e.allowAllCookies,o=e.logContextEvent,r=e.userId;o({event_type:9064,view_type:7}),s.Z.increment("webapp.updateCookiePreferences",.1,{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_mobile_routes_EditSettingsPage_handleAcceptAllCookies"}),l.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:S.i.SETTINGS}).callUpdate().then((function(){n(r),t.handleShowToast(t.props.i18n._('Your cookie preferences were saved, you can change them in settings on your profile at anytime', 'homeFeed.cookieConsent.acceptAllConfirmation', 'Success message after accepting/rejecting all optional cookies'))}))})),Pe(ye(t),"getDeactivateRef",(function(e){t.deactivateAccountBox=e})),Pe(ye(t),"handleBlurPassword",(function(){var e=t.state,n=e.oldPassword,o=e.newPassword,r=e.retypeNewPassword,i=t.props,a=i.i18n,s=i.user,l=s.has_password,c=s.username,d=i.savePassword,u={errorMessageNewPassword:"",errorMessageRetypePassword:"",errorMessageOldPassword:""},_=!1;o===c&&(u.errorMessageNewPassword=a._('Oops! Your password shouldn\u2019t match your username.', ' - ', ' -- '),_=!0),o&&r&&o!==r&&(u.errorMessageRetypePassword=a._('Passwords don\u2019t match', ' - ', ' -- '),_=!0),o&&o.length<6&&(u.errorMessageNewPassword=a._('Your password is too short! You need 6+ characters.', ' - ', ' -- '),_=!0),!n&&l&&(u.errorMessageOldPassword=a._('Oops! Password too short.', ' - ', ' -- '),_=!0),t.setState(u),_||o&&r&&d(n,o,r,(function(){t.setState({isPasswordEditingMode:!1,oldPassword:""}),t.handleShowToast(t.props.i18n._('Password', 'Field label', 'Field label'))}),(function(e){var n=((e.extraData||{}).objects||{}).field||"old";n=n.charAt(0).toUpperCase()+n.slice(1),t.setState(Pe({},"errorMessage".concat(n,"Password"),e.message))}))})),Pe(ye(t),"handleChangeDarkModeEnabled",(function(e){var n=e.value;t.setState({darkModeEnabled:n},(function(){(n?u.Hs:u.F6)(),t.props.logContextEvent({view_type:7,element:n?10362:10361,event_type:102})}))})),Pe(ye(t),"handleShowDeactivateModal",(function(){t.props.logContextEvent({view_type:7,view_parameter:3527,element:44,event_type:102}),t.setState({isDeactivateModalShown:!0})})),Pe(ye(t),"handleHideDeactivateModal",(function(){t.setState({isDeactivateModalShown:!1})})),Pe(ye(t),"handleDeactivate",(function(){t.setState({isSpinnerShown:!0,isDeactivateModalShown:!1}),t.props.deactivateUser((function(){t.setState({isSpinnerShown:!1,isDeactivateConfirmationShown:!0})}),(function(e){t.toolTipAnchor=t.deactivateAccountBox,t.setState({toolTipErrorText:e.message,isToolTipShown:!0,isSpinnerShown:!1})}),t.props.logContextEvent)})),Pe(ye(t),"handleShowConversionUnavailableModal",(function(){var e,n=t.props,o=n.user,r=n.partnerPermissions.data;o.partner&&o.partner.is_linked_business?e=te:!o.is_partner&&o.businesses&&o.businesses.length>0?e=oe:r&&!r.convert_to_personal_permission&&(e=ne),e&&t.setState({isConversionUnavailableModalShown:!0,conversionUnavailableReason:e})})),Pe(ye(t),"unlinkAccount",fe(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Z)({url:"/v3/business/unlink/initiate/",method:"POST"}).then((function(e){var n;return t.setState({ownerEmail:null===(n=e.resource_response.data)||void 0===n?void 0:n.owner_account_email}),e}));case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),n="string"==typeof e.t0.message?e.t0.message:t.props.i18n._('Sorry! Something went wrong on our end. Please try again.', 'settings.lba.unlink.error', 'Something went wrong on our end while trying to unlink'),(0,t.props.showToast)((function(e){var t=e.hideToast;return(0,N.jsx)(f.ZP,{duration:we,text:n,onHide:t})})),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))),Pe(ye(t),"handleResendUnlinkEmail",(function(){t.unlinkAccount().then((function(){var e;t.handleCloseUnlinkModal();var n=t.props,o=n.showToast,r=n.user,i=t.state.ownerEmail,s=(0,N.jsx)(a.xv,{children:(0,m.nk)(t.props.i18n._('Email sent to {{ emailText }}! The link will only be valid for 24 hours', 'settings.unlinkResendEmailToast.text', 'Toast text showing unlink information and owner email'),{emailText:(0,N.jsx)(a.xv,{inline:!0,weight:"bold",children:i||(null===(e=r.partner)||void 0===e?void 0:e.biz_ownership_email)})})});o((function(e){var t=e.hideToast;return(0,N.jsx)(f.ZP,{duration:we,text:s,onHide:t})}))}))})),Pe(ye(t),"handleUnlinkBusiness",(function(){var e=t.props,n=e.logContextEvent,o=e.user,r=o.partner&&o.partner.is_linked_business;n({element:12551,event_type:102,view_type:7}),r&&t.unlinkAccount().then((function(){t.setState({isUnlinkModalShown:!0})}))})),Pe(ye(t),"handleConvertToBusiness",(function(){var e=t.props,n=e.history,o=e.logContextEvent,r=e.showUnlockBusinessTools;o({view_type:7,element:11212,event_type:102}),r?n.push("/convert-business"):t.handleShowConversionUnavailableModal()})),Pe(ye(t),"handleConvertToPersonal",(function(){var e=t.props,n=e.history,o=e.logContextEvent,r=e.user,i=e.partnerPermissions.data,a=r.partner&&r.partner.is_linked_business,s=null==i?void 0:i.convert_to_personal_permission,l=a||!s;o({view_type:7,element:10974,event_type:102}),l?t.handleShowConversionUnavailableModal():n.push("/convert-personal")})),Pe(ye(t),"handleHideConversionUnavailableModal",(function(){t.setState({isConversionUnavailableModalShown:!1,conversionUnavailableReason:null})})),Pe(ye(t),"handleDismissDeactivateCloseConfirmation",(function(){window.location.href="/login"})),Pe(ye(t),"handleDeleteAccount",(function(){var e=t.props,n=e.history;(0,e.logContextEvent)({view_type:7,view_parameter:3526,element:44,event_type:102}),n.push("/close-account")})),Pe(ye(t),"handleParentalPasscode",(function(){var e=t.props,n=e.history;(0,e.logContextEvent)({event_type:102,view_type:7,view_parameter:3669,element:13648}),n.push("/parental-passcode")})),Pe(ye(t),"handleHideErrorTooltip",(function(){t.setState({isToolTipShown:!1})})),Pe(ye(t),"handleCloseUnlinkModal",(function(){t.setState({isUnlinkModalShown:!1})})),Pe(ye(t),"handleShowToast",(function(e){t.setState({isToastShown:!0,savedSettingName:e}),clearTimeout(t.toastTimeout),setTimeout((function(){t.setState({isToastShown:!1})}),we)})),Pe(ye(t),"toggleShowCookieSettings",(function(){var e=t.state.showCookieSettings;e||t.props.logContextEvent({view_type:7,element:11986,event_type:102}),t.setState({showCookieSettings:!e})})),Pe(ye(t),"renderAccountConvertionSection",(function(){var e=t.props,n=e.user,r=e.shouldHideForMinors,i=e.isProfileVisibilityEnabled,a=e.i18n,s=n.is_partner,l=n.partner&&n.partner.is_linked_business,c=a._('Convert to a business account', 'editSettingsPage.settings.unlockBusinessTools', 'Settings for business account'),d=i?a._('With a business account you\u2019ll have access to tools like ads and analytics to grow your business on Pinterest', 'editSettingsPage.settings.convertToBusinessDescV2', 'Description of convert to business account option'):a._('Grow your business or brand with tools like ads and analytics. Your content, profile and followers will stay the same.', 'editSettingsPage.settings.convertToBusinessDesc', 'Description of convert to business account option'),u=a._('Create ads and see how Pins perform with a free upgrade', 'editSettingsPage.convertToBusiness.description', 'Description of convert to business settings option'),_=a._('Convert to a personal account', 'editSettingsPage.settings.convertToPersonal', 'Settings for personal account'),h=a._('Stop using business features', 'editSettingsPage.accountConversion.revertToPersonal', 'Description of revert to personal settings option'),p=a._('Go to convert to personal settings', 'editSettingsPage.accountConversion.revertToPersonal.accessibility', 'Acessibility label for navigation button');return(0,N.jsxs)(o.Fragment,{children:[l&&(0,N.jsx)(xe,{heading:a._('Unlink account', 'settings.lba.unlink.title', 'Button text for unlinking a business account from a personal account'),description:a._('Unlink your business account from your personal account', 'settings.lba.unlink.description', 'Description for unlinking a business feature'),iconAccessibilityLabel:a._('Unlink account', 'settings.lba.unlink.ctaText', 'Button text for unlinking a business account from a personal account'),onTap:t.handleUnlinkBusiness}),r||s?null:(0,N.jsx)(xe,{description:d,heading:c,iconAccessibilityLabel:u,onTap:t.handleConvertToBusiness,marginTop:0}),s&&(0,N.jsx)(xe,{description:h,heading:_,iconAccessibilityLabel:p,onTap:t.handleConvertToPersonal,marginTop:0})]})})),Pe(ye(t),"toolTipAnchor",null),Pe(ye(t),"oldEmail",""),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n={},o=e.user.email,r=e.userSettingsResource;return t.resourceFetching&&!r.isFetching&&(n.email=null!=o?o:"",n.resourceFetching=r.isFetching),t.resourceFetching!==r.isFetching&&(n.resourceFetching=r.isFetching),n}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.acceptAllCookiesOnMount,n=e.logContextEvent,o=e.openCookieSettingsOnMount;n({event_type:13,view_type:7,view_parameter:3669}),t&&this.handleAcceptAllCookies(),o&&n({event_type:9065,view_type:7}),this.handleManageAccountToast()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.i18n,i=n.userSettingsResource,s=n.enableCookieSettingsSection,l=n.user,c=n.isCandidateForParentalControlPasscode,d=n.isProfileVisibilityEnabled,u=this.state,h=u.darkModeEnabled,p=u.email,f=u.oldPassword,g=u.newPassword,b=u.retypeNewPassword,P=u.savedSettingName,x=u.errorMessageOldPassword,w=u.errorMessageNewPassword,S=u.errorMessageRetypePassword,j=u.isPasswordEditingMode,k=u.isDeactivateModalShown,E=u.isDeactivateConfirmationShown,C=u.isCloseConfirmationShown,T=u.isConversionUnavailableModalShown,O=u.isUnlinkModalShown,M=u.isSpinnerShown,I=u.isToastShown,B=u.isToolTipShown,R=u.toolTipErrorText,Z=u.showCookieSettings;if(!l||i.isFetching)return(0,N.jsx)(D.Z,{});var U=l.partner&&l.partner.is_linked_business,F=this.state.ownerEmail||(null===(e=l.partner)||void 0===e?void 0:e.biz_ownership_email),H=l.owners&&l.owners.length>0?l.owners[0]:{},V=(0,m.nk)(this.props.i18n._('This linked account is managed by {{ parentName }}. Switch to that account to manage this email and password.', 'settings.lba.changePassword.disabled', 'Tooltip expaining password can be changed in other account'),{parentName:H.full_name||H.username}).join(""),G=p&&!l.has_password||j||U;return(0,N.jsxs)(y.default,{hasFixedHeader:!0,children:[(0,N.jsxs)(a.xu,{paddingX:2,children:[(0,N.jsx)(v.FixedHeader,{zIndexForGestaltBug:2,children:(0,N.jsx)(a.xu,{marginEnd:-2,marginStart:-2,children:(0,N.jsx)(L.default,{heading:this.props.i18n._('Account management', 'profile.AccountManagement.PageTopNav.Header', 'navigation button settings page'),legoSettingsEnabled:!0,previousUrl:"/settings/",shouldUseFallbackUrl:!0})})}),(0,N.jsx)(a.xu,{marginTop:1,marginBottom:8,children:(0,N.jsx)(a.xv,{align:"start",size:"300",color:"subtle",children:d?r._('Make changes to your personal information or account type', 'profile.AccountManagement.descriptionV2', 'Description for the Account management page'):r._('Make changes to your email, password and account type. This information is private and won\u2019t show up in your public profile.', 'profile.AccountManagement.description', 'Description for the Account management page')})}),d?(0,N.jsxs)(o.Fragment,{children:[(0,N.jsx)(a.xu,{marginBottom:4,children:(0,N.jsx)(a.xv,{children:r._('Your account', 'webapp.app.profile.Settings.Edit.YourAccount', 'Your account section heading')})}),(0,N.jsx)(ce.Z,{heading:r._('Personal information', 'profile.Settings.Edit.PersonalInformation', 'Field label for the Personal information edit page'),iconAccessibilityLabel:r._('Go to Edit Personal information', 'profile.Settings.Edit.PersonalInformation.Icon', 'Edit Personal Information Icon on Edit Settings Page'),to:"/settings/personal-information/"})]}):null,U?(0,N.jsx)(a.iP,{role:"link",href:"/switch_account",tapStyle:"none",children:(0,N.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:32}},display:"flex",direction:"column",marginBottom:4,marginTop:4,position:"relative",children:[(0,N.jsx)(a.xu,{marginEnd:4,children:(0,N.jsx)(a.X6,{size:"400",children:this.props.i18n._('Email and password', 'profile.Settings.Edit.EmailAndPasword.LBA', 'Field label for the Email and password of the user')})}),(0,N.jsx)(a.xv,{color:"subtle",children:V}),(0,N.jsx)(a.xu,{position:"absolute",right:!0,children:(0,N.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Go to Switch Account', 'profile.Settings.Edit.EmailAndPassword.LBA.Icon', 'Go to Switch Account Icon on Edit Settings Page for Linked Business Account'),color:"default",icon:"arrow-forward"})})]})}):(0,N.jsx)(ce.Z,{heading:this.props.i18n._('Email', 'profile.Settings.Edit.Email', 'Field label for the Email of the user'),iconAccessibilityLabel:this.props.i18n._('Go to Edit Email', 'profile.Settings.Edit.Email.Icon', 'Edit Email Icon on Edit Settings Page'),text:p,to:"/settings/edit/email"}),j&&(0,N.jsxs)(a.xu,{marginBottom:6,marginTop:3,children:[(0,N.jsx)(a.xu,{marginBottom:1,children:(0,N.jsx)(a.__,{htmlFor:"oldPassword",children:(0,N.jsx)(a.xv,{size:"200",children:this.props.i18n._('Old password', 'Field label', 'Field label')})})}),(0,N.jsx)(a.nv,{errorMessage:x,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({oldPassword:n})},placeholder:this.props.i18n._('Type old password', 'Field label', 'Field label'),size:"lg",type:"password",value:f}),(0,N.jsx)(a.xu,{marginBottom:1,marginTop:2,children:(0,N.jsx)(a.__,{htmlFor:"newPassword",children:(0,N.jsx)(a.xv,{size:"200",children:this.props.i18n._('New password', 'Field label', 'Field label')})})}),(0,N.jsx)(a.nv,{errorMessage:w,id:"oldPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({newPassword:n})},placeholder:this.props.i18n._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:g}),(0,N.jsx)(a.xu,{marginBottom:1,marginTop:2,children:(0,N.jsx)(a.__,{htmlFor:"retypeNewPassword",children:(0,N.jsx)(a.xv,{size:"200",children:this.props.i18n._('Retype password', 'Field label', 'Field label')})})}),(0,N.jsx)(a.nv,{errorMessage:S,id:"retypeNewPassword",onBlur:this.handleBlurPassword,onChange:function(e){var n=e.value;return t.setState({retypeNewPassword:n})},placeholder:this.props.i18n._('Add', 'Field label', 'Field label'),size:"lg",type:"password",value:b})]}),!G&&(0,N.jsx)(ce.Z,{heading:this.props.i18n._('Password', 'profile.Settings.Edit.Password', 'Field label for users Password'),to:"/settings/edit/password",iconAccessibilityLabel:this.props.i18n._('Go to Edit Password', 'profile.Settings.Edit.Password.Icon', 'Edit Password Icon on Edit Settings Page'),text:this.props.i18n._('Change password', 'profile.Settings.Edit.Password.Text', 'Edit Password text on Edit Settings Page')}),c&&(0,N.jsx)(xe,{description:(0,m.nk)(d?r._('This code prevents changes to account management, profile visibility, privacy and data, and social permissions settings. {{ learnMore }}', 'accountSettings.parentalPasscode.descriptionV2', 'Description text for parental passcode settings. learnMore: link to learn more'):r._('When you set a code, it protects certain account settings. {{ learnMore }}', 'accountSettings.parentalPasscode.description', 'Description text for parental passcode settings. learnMore: link to learn more'),{learnMore:(0,N.jsx)(a.xv,{inline:!0,weight:"bold",color:"subtle",children:(0,N.jsx)(a.rU,{display:"inlineBlock",href:z.a$,target:"blank",underline:"hover",onClick:function(e){e.event.stopPropagation(),t.props.logContextEvent({event_type:102,view_type:7,view_parameter:3669,component:14373,element:12765})},children:this.props.i18n._('Learn more', 'accountSettings.parentalPasscode.learnMore', 'Text for learn more link')})},"learnMore")}),heading:this.props.i18n._('Parental passcode', 'accountSettings.parentalPasscode.title', 'Header text for parental passcode settings'),iconAccessibilityLabel:this.props.i18n._('Parental passcode', 'profile.Settings.Edit.ParentalPasscode.Icon', 'Parental passcode Icon on Edit Settings Page'),onTap:this.handleParentalPasscode}),d?this.renderAccountConvertionSection():null,(0,N.jsx)(o.Fragment,{children:(0,N.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,marginBottom:4,children:[(0,N.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,N.jsx)(a.xu,{flex:"grow",marginEnd:4,children:(0,N.jsx)(a.__,{htmlFor:"darkMode",children:(0,N.jsx)(a.X6,{size:"400",children:this.props.i18n._('Enable night mode', 'Settings toggle for enabling night mode.', 'Settings toggle for enabling night mode.')})})}),(0,N.jsx)(a.rs,{id:"darkMode",onChange:this.handleChangeDarkModeEnabled,switched:h})]}),(0,N.jsx)(a.xu,{flex:"grow",marginTop:2,children:(0,N.jsx)(a.xv,{size:"300",color:"subtle",children:d?r._('Try this dark theme for improved late-night browsing', 'accountSettings.nightMode.descriptionV2', 'Description for the enable night mode switch'):r._('Try this dark theme for late-night browsing', 'accountSettings.nightMode.description', 'Description for the enable night mode switch')})})]})}),s&&(0,N.jsxs)(a.xu,{display:"flex",marginBottom:6,children:[(0,N.jsxs)(a.xu,{children:[(0,N.jsx)(a.X6,{size:"400",children:this.props.i18n._('Cookie Preferences', 'profileSettings.cookiePreferences.title', 'Cookie preferences settings title')}),(0,N.jsx)(a.xu,{marginTop:2,children:(0,N.jsxs)(a.xv,{size:"300",color:"subtle",children:[this.props.i18n._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'profileSettings.cookiePreferences.description', 'Description about why we use cookies')," ",(0,N.jsx)(a.xv,{size:"300",weight:"bold",color:"subtle",children:(0,N.jsx)(a.rU,{target:"blank",rel:"nofollow",display:"inlineBlock",tapStyle:"none",href:z._I,underline:"hover",children:this.props.i18n._('Cookie policy', 'profileSettings.cookiePreferences.cookiePolicyLink', 'Cookie policy link')})})]})})]}),(0,N.jsx)(a.xu,{flex:"none",marginStart:10,children:(0,N.jsx)(a.zx,{onClick:this.toggleShowCookieSettings,size:"lg",text:this.props.i18n._('Edit', 'profileSettings.cookiePreferences.editButton', 'Edit cookies preferences button')})})]}),Z&&(0,N.jsx)(_.Z,{name:"SafeSuspense_EditSettingsPage_CookieSettingsModal",children:(0,N.jsx)(A.Z,{children:(0,N.jsx)(Ae,{dismissIcon:"arrow-back",onClose:this.toggleShowCookieSettings})})}),(0,N.jsxs)(o.Fragment,{children:[(0,N.jsx)(a.xu,{marginBottom:2,marginTop:8,children:(0,N.jsx)(a.xv,{children:d?r._('Deactivation and deletion', 'webapp.app.profile.Settings.Edit.AccountChanges.headerV2', 'Account changes section heading'):r._('Account changes', 'webapp.app.profile.Settings.Edit.AccountChanges.header', 'Account changes section heading')})}),d?null:this.renderAccountConvertionSection(),!U&&(0,N.jsx)(xe,{description:d?r._('Temporarily hide your profile, Pins and boards', 'profile.Settings.Edit.DeactivateAccount.DescriptionV2', 'Deactivate account description on Edit Settings Page'):r._('Deactivate to temporarily hide your Pins and profile', 'profile.Settings.Edit.DeactivateAccount.Description', 'Deactivate account description on Edit Settings Page'),heading:d?r._('Deactivate your account', 'profile.Settings.Edit.DeactivateAccountV2', 'Deactivate account label on Edit Settings Page'):r._('Deactivate account', 'profile.Settings.Edit.DeactivateAccount', 'Deactivate account label on Edit Settings Page'),iconAccessibilityLabel:this.props.i18n._('Deactivate account icon', 'profile.Settings.Edit.DeactivateAccount.Icon', 'DeactivateAccount Icon on Edit Settings Page'),onTap:this.handleShowDeactivateModal,ref:this.getDeactivateRef})]}),(0,N.jsx)(xe,{description:d?r._('Permanently delete your data and everything associated with your account', 'profile.Settings.Edit.DeleteAccountAndData.DescriptionV2', 'Delete account and data description on Edit Settings Page'):r._('Delete your account and account data', 'profile.Settings.Edit.DeleteAccountAndData.Description', 'Delete account and data description on Edit Settings Page'),heading:this.props.i18n._('Delete your data and account', 'profile.Settings.Edit.DeleteDataAndAccount', 'Delete data and account label on Edit Settings Page'),iconAccessibilityLabel:this.props.i18n._('Delete account icon', 'profile.Settings.Edit.DeleteAccount.Icon', 'Delete Account Icon on Edit Settings Page'),onTap:this.handleDeleteAccount}),k?(0,N.jsx)(ie,{email:p,handleDeactivate:this.handleDeactivate,onDismiss:this.handleHideDeactivateModal,isOpen:k}):null,T&&this.state.conversionUnavailableReason?(0,N.jsx)(re,{isOpen:T,onDismiss:this.handleHideConversionUnavailableModal,conversionUnavailableReason:this.state.conversionUnavailableReason}):null,O&&F?(0,N.jsx)(de,{isOpen:O,onDismiss:this.handleCloseUnlinkModal,onResendEmail:this.handleResendUnlinkEmail,ownerEmail:F}):null,B?(0,N.jsx)(a.J2,{anchor:this.toolTipAnchor,color:"darkGray",idealDirection:"down",onDismiss:this.handleHideErrorTooltip,shouldFocus:!1,size:"md",children:(0,N.jsx)(a.xu,{column:12,padding:3,children:(0,N.jsx)(a.xv,{color:"inverse",weight:"bold",children:R})})}):null]}),M?(0,N.jsx)(D.Z,{}):null,I?(0,N.jsx)(ae.Z,{email:"email"===P.toLowerCase()?this.oldEmail:"",savedSettingName:P}):null,(E||C)&&(0,N.jsx)(le,{isOpen:!0,onDismiss:this.handleDismissDeactivateCloseConfirmation,message:E?(0,m.nk)(r._('You\u2019re welcome back any time\u2015just log in with {{ email }} and your password.', 'EditSettingsPage.DeactivateConfirmation', 'Message to user after deactivating, email: the user email'),{email:p}).join(""):r._('To finish deleting your account, check your inbox for the confirmation email we just sent you.', ' - ', ' -- '),heading:E?r._('Sorry to see you go!', ' - ', ' -- '):r._('Check your inbox', ' - ', ' -- ')})]})}}])&&ge(t.prototype,n),r&&ge(t,r),c}(o.PureComponent);function ze(e){var t,n=(0,g.ZP)(),o=(0,Q.Tt)(),a=null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",s=(0,w.Z)({name:"ApiResource",options:{url:"/v3/partners/me/deactivation/permission/"}}),l=(0,w.Z)({name:"UserSettingsResource"});(0,w.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:a}});var u=(0,C.Z)(),_=u.isAuth,h=u.isUnder16,p=u.isPrivateProfile,f=u.isCandidateForParentalControlPasscode,m=(0,k.F9)().showToast,v=(0,i.useLocation)(),y=(0,E.mB)(v.search),b=!!("accept-all-cookies"in y),A=!!("manage-cookies"in y),S=!(null!=o&&o.is_partner||null==o||!o.businesses)&&0===o.businesses.length,z=(0,x.B)(),D=z.country,T=z.countryFromHostName,O=z.countryFromIp,M=(0,r.useDispatch)(),L=(0,i.useHistory)(),Z=(0,c.Z)(),U=(0,(0,P.F)().checkExperiment)("mweb_profile_visibility_settings").anyEnabled,F=!1;if((d.Z.includes(D)||d.Z.includes(T)||d.Z.includes(O)||b||A)&&(F=!0),v.pathname.includes("/settings/privacy"))return(0,N.jsx)(J,{});if(!o)return null;if(!_)return(0,N.jsx)(i.Redirect,{to:"/"});var H=(0,j.Z)({isUnder16:null!=h&&h,isPrivateProfile:null!=p&&p});return(0,N.jsx)(je,he(he({},e),{},{acceptAllCookiesOnMount:b,allowAllCookies:function(e){return M(I(e))},clearRecentSearches:function(e,t,n){return M((0,B.lU)(e,t,n))},deactivateUser:function(e,t,n){return M((0,K.b8)(e,t,n))},enableCookieSettingsSection:F,history:L,i18n:n,location:v,logContextEvent:Z,openCookieSettingsOnMount:A,partnerPermissions:s,savePassword:function(){return M(R.Cp.apply(void 0,arguments))},showToast:m,showUnlockBusinessTools:S,user:o,userId:a,userSettingsResource:l,shouldHideForMinors:H,isCandidateForParentalControlPasscode:!!f,isProfileVisibilityEnabled:U}))}},903539:function(e,t,n){n.d(t,{By:function(){return c},IT:function(){return l},N6:function(){return r},br:function(){return i},lU:function(){return s},mk:function(){return a}});var o=n(970588),r=function(e,t){return{type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}},i=function(e,t){return{type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}},a=function(e){return{type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}},s=function(e,t,n){return function(r){(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,n),r("PERSONAL"===e?{type:"CLEAR_RECENT_PERSONAL_SEARCHES"}:{type:"CLEAR_RECENT_SEARCHES"})}},l=function(e,t,n,r){return function(i){(0,o.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(n,r),i("PERSONAL"===t?function(e){return{type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}}(e):function(e){return{type:"CLEAR_RECENT_SEARCH",payload:{query:e}}}(e))}},c=function(e){return function(t){t(function(e){return{type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}}(e))}}},446191:function(e,t,n){n.d(t,{Ge:function(){return u},JS:function(){return l},OF:function(){return b},P_:function(){return c},Q_:function(){return p},b8:function(){return f},eR:function(){return y},h2:function(){return _},h6:function(){return h}});var o=n(690108),r=n(970588),i=n(336436);function a(e,t,n,o,r,i,a){try{var s=e[i](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(o,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){a(i,o,r,s,l,"next",e)}function l(e){a(i,o,r,s,l,"throw",e)}s(void 0)}))}}function l(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}var c=function(e,t){return{type:"USER_FOLLOW",payload:{id:e,value:t}}},d=function(e,t){return{type:"USER_BLOCK",payload:{id:e,value:t}}},u=function(e){var t=e.id,n=e.orbacSubjectId,r=e.blockSource,i=e.blockContext;return function(e){return e(d(t,!0)),o.Z.create("UserBlockResource",{blocked_user_id:t,orbac_subject_id:n,block_source:r,block_context:i}).callCreate().catch((function(){return e(d(t,!1))}))}},_=function(e){return function(t){return t(d(e,!1)),o.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((function(){return t(d(e,!0))}))}};function h(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}var p=function(e,t){return function(){return o.Z.create("UserStateResource",{state:e,value:t}).callCreate()}},f=function(e,t,n){return function(o,a){(0,r.Z)({url:"/v3/users/me/",method:"POST"}).then((function(){n({event_type:48,object_id_str:a().session.userId}),e(),(0,i.Dm)()}),t)}};var g=function(e){return e&&"https://i.pinimg.com/".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"150x150","/").concat(e.substring(0,2),"/").concat(e.substring(2,4),"/").concat(e.substring(4,6),"/").concat(e,".jpg")||""},m=function(){var e=s(regeneratorRuntime.mark((function e(t,n,r){var i,a,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.create("VIPResource",{upload_ids:[t]}).callGet();case 2:(i=e.sent).resource_response.data[t]?(a=i.resource_response.data[t],l=a.status,c=a.signature,"processing"===l||"registered"===l?setTimeout(s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t,n,r);case 1:case"end":return e.stop()}}),e)}))),5e3):"succeeded"===l?(d=g(c),n(d)):r()):r();case 4:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}(),v=function(e){return new Promise((function(t,n){var r,i,a,s,l;r=e,i="pinimage",a=function(){},s=function(e){t(e)},l=function(e){n(e)},(new FormData).append("img",r),o.Z.create("VIPResource",{type:i}).callCreate().then((function(e){if(e.resource_response.data){var t=e.resource_response.data,n=t.upload_id,o=t.upload_url,i=t.upload_parameters,c=new XMLHttpRequest;c.open("POST",o,!0),c.onload=function(){var e;(e=c.status)>=200&&e<400?(a(100),m(n,s,l)):l()},c.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);a(t)};var d=new FormData;for(var u in i)d.append(u,i[u]);d.append("file",r),c.send(d)}}),(function(){l()}))}))},y=function(e){return new Promise((function(t,n){"string"==typeof e?e.startsWith("data")&&v(function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=e.split(";"),o=n[0].split(":")[1],r=n[1].split(",")[1],i=atob(r),a=[],s=0;s<i.length;s+=t){for(var l=i.slice(s,s+t),c=new Array(l.length),d=0;d<l.length;d+=1)c[d]=l.charCodeAt(d);var u=new Uint8Array(c);a.push(u)}return new Blob(a,{type:o})}(e)).then((function(e){return t(e)})):n("Invalid Image")}))},b=function(e){return function(){return(0,r.Z)({url:"/v3/register/exists/",data:{email:e}})}}},469841:function(e,t,n){var o=n(249444),r=n(389282);t.Z=function(e){var t=e.children,n=e.id,i=e.name,a=e.onChange,s=e.switched,l=e.disabled,c=e.marginBottom;return(0,r.jsxs)(o.xu,{alignItems:"center",marginBottom:c||2,marginStart:-1,marginEnd:-1,marginTop:2,display:"flex",children:[(0,r.jsx)(o.xu,{paddingX:1,children:(0,r.jsx)(o.XZ,{checked:s,id:n,name:i,onChange:a,disabled:l})}),(0,r.jsx)(o.xu,{paddingX:1,dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},children:(0,r.jsx)(o.__,{htmlFor:n,children:(0,r.jsx)(o.xv,{children:t})})})]})}},836956:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(249444),r=n(819079),i=n(469841),a=n(553310),s=n(720978),l=n(389282);function c(e){var t=e.handleChange,n=e.settings,c=e.platform,d=(0,r.Z)({name:"ApiResource",options:{url:"/v3/users/privacy_data_settings/",data:{platform:c}}}),u=d.isLoaded,_=d.data;if(!u)return null;var h=function(e){var t=e.name in n?n[e.name]:e.value;return e.is_inverted_value?!t:t};return _?_.map((function(e){return(0,l.jsxs)(o.xu,{children:["desktop"===c?(0,l.jsx)(o.xu,{marginTop:-2,children:(0,l.jsx)(a.Z,{accessibilityLevel:2,title:e.title})}):(0,l.jsx)(o.xu,{marginBottom:4,children:(0,l.jsx)(o.xv,{children:e.title})}),e.description?e.description.map((function(e,t){return(0,l.jsx)(o.xu,{marginTop:2,marginBottom:4,children:(0,l.jsx)(o.xv,{children:e})},t)})):(0,l.jsx)(o.xu,{marginTop:2,marginBottom:4}),e.settings_field.map((function(e){return"desktop"===c?function(e){return"checkbox"===e.setting_type?(0,l.jsxs)(i.Z,{switched:h(e),id:e.id,name:e.name,onChange:function(n){var o=n.checked;t(e.name,e.is_inverted_value?!o:o)},marginBottom:4,children:[(0,l.jsx)(o.xv,{inline:!0,children:e.label_desktop?e.label_desktop+" ":""}),(0,l.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(o.rU,{display:"inlineBlock",href:e.link_url,target:"blank",underline:"hover",children:e.link_text})})]},e.id):null}(e):function(e){return"toggles"===e.setting_type?(0,l.jsx)(s.Z,{heading:e.label_mobile||"",href:e.link_url,id:e.id,linkText:e.link_text,text:e.header_mobile?e.header_mobile+" ":"",children:(0,l.jsx)(o.rs,{id:e.id,onChange:function(n){var o=n.value;t(e.name,e.is_inverted_value?!o:o)},name:e.name,switched:h(e)})},e.id):null}(e)}))]},e.id)})):null}},553310:function(e,t,n){var o=n(249444),r=n(389282);t.Z=function(e){var t=e.accessibilityLevel,n=e.isFirst,i=e.title;return(0,r.jsx)(o.xu,{marginTop:n?8:7,marginBottom:2,children:(0,r.jsx)(o.X6,{accessibilityLevel:t,size:"400",children:i})})}},720978:function(e,t,n){n.d(t,{Z:function(){return i}});var o=n(249444),r=n(389282);function i(e){var t=e.children,n=e.heading,i=e.href,a=e.id,s=e.linkText,l=void 0===s?"":s,c=e.marginBottom,d=void 0===c?7:c,u=e.text,_=e.disabled,h=e.hideLockIcon,p=e.lockIconRefUpdate;return(0,r.jsx)(o.xu,{marginBottom:d,children:(0,r.jsxs)(o.kC,{justifyContent:"between",children:[(0,r.jsxs)(o.xu,{flex:"grow",marginEnd:4,children:[(0,r.jsx)(o.__,{htmlFor:a,children:(0,r.jsx)(o.xv,{weight:"bold",size:"400",children:n})}),(0,r.jsx)(o.xu,{marginTop:2,children:(0,r.jsxs)(o.xv,{size:"300",color:"subtle",children:[u,i&&(0,r.jsx)(o.rU,{target:"blank",rel:"nofollow",display:"inlineBlock",tapStyle:"none",href:i,underline:"hover",children:(0,r.jsx)(o.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:l})})]})})]}),(0,r.jsxs)(o.kC,{children:[_&&!h&&p?(0,r.jsx)(o.xu,{marginEnd:1,children:(0,r.jsx)(o.xu,{ref:p,height:24,width:20,children:(0,r.jsx)(o.JO,{accessibilityLabel:u,color:"subtle",icon:"lock",inline:!0,size:20})})}):null,t]})]})})}},551570:function(e,t,n){n.d(t,{Z:function(){return c}});var o=n(249444),r=n(536042),i=n(630089),a=n(837792),s=n(734586),l=n(389282);function c(e){var t=e.isOpen,n=e.onDismiss,c=(0,r.ZP)(),d=function(){n(),window.location.reload()};return(0,l.jsx)(s.Z,{isOpen:t,onDismiss:n,type:"search_privacy_modal",heading:c._('Hide your profile and boards from search engines.', 'settings.SearchPrivacyModal.heading', 'Hide your profile and boards from search engines modal heading.'),description:(0,i.nk)(c._('It\'ll take several weeks for search engines to remove your profile and boards from search results. You can speed up the process with Google using {{ onlineToolLink }}.', 'settings.SearchPrivacyModal.explanation', 'Hide your profile and boards from search engines modal explanation. onlineToolLink: Link to google\'s search engine online tool'),{onlineToolLink:(0,l.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(o.rU,{target:"blank",display:"inlineBlock",href:a.TG,underline:"hover",children:c._('their online tool', 'settings.SearchPrivacyModal.linkToGoogleTool', 'Link to Google tool for search results removal. A part of full phase: It\'ll take several weeks for search engines to remove your profile from search results. You can speed up the process with Google using {{ onlineToolLink }}. ')})},"google-search-privacy-tool")}),primaryBtnParams:{text:c._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),accessibilityLabel:c._('I understand', 'settings.SearchPrivacyModal.button.understand', 'I understand Button text on the modal'),color:"red",onClick:d},secondaryBtnParams:{text:c._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),accessibilityLabel:c._('Close', 'settings.SearchPrivacyModal.button.close', 'Close Button text on the modal'),color:"gray",onClick:d}})}},803529:function(e,t,n){var o=n(249444),r=n(389282);t.Z=function(e){var t=e.heading,n=e.headingAccessibilityLevel,i=void 0===n?3:n,a=e.description,s=e.iconAccessibilityLabel,l=e.onTap,c=e.to,d=function(e){var t=e.children;return l?(0,r.jsx)(o.iP,{onTap:l,children:t}):(0,r.jsx)(o.iP,{role:"link",tapStyle:"none",href:c||"",children:t})};return(0,r.jsx)(d,{children:(0,r.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,r.jsxs)(o.xu,{children:[(0,r.jsx)(o.X6,{accessibilityLevel:i,size:"400",children:t}),a&&(0,r.jsx)(o.xu,{marginTop:2,children:(0,r.jsx)(o.xv,{color:"subtle",children:a})})]}),(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.JO,{accessibilityLabel:s,color:"default",icon:"arrow-forward"})})]})})}},257139:function(e,t,n){var o=n(249444),r=n(282802),i=n(389282);t.Z=function(e){var t=e.heading,n=e.iconAccessibilityLabel,a=e.text,s=e.to,l=e.dataTestId,c=(0,r.B)().isRTL;return(0,i.jsx)(o.rU,{href:s,tapStyle:"none",underline:"none",children:(0,i.jsxs)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingRight:c?0:32,paddingLeft:c?32:0}},display:"flex",justifyContent:"between",marginBottom:4,position:"relative","data-test-id":l,children:[(0,i.jsx)(o.xu,{marginEnd:4,position:"relative",children:(0,i.jsx)(o.X6,{accessibilityLevel:2,size:"400",children:t})}),a&&(0,i.jsx)(o.xu,{maxWidth:"45%",children:(0,i.jsx)(o.xv,{color:"subtle",lineClamp:1,children:a})}),(0,i.jsx)(o.xu,{position:"absolute",left:c,right:!c,children:(0,i.jsx)(o.JO,{accessibilityLabel:n,color:"default",icon:"arrow-forward"})})]})})}},734586:function(e,t,n){n.d(t,{Z:function(){return s}});var o=n(658379),r=n(249444),i=n(88622),a=n(389282);function s(e){var t=e.isOpen,n=e.onDismiss,s=e.type,l=e.textAlign,c=e.accessibilityModalLabel,d=e.heading,u=e.headingMarginTop,_=e.description,h=e.hasMultiLineDescription,p=e.primaryBtnParams,f=e.secondaryBtnParams,g=e.showDismissIcon,m=function(e,t){return e?(0,o.isValidElement)(e)?e:(0,a.jsx)(r.xu,{marginBottom:3,children:(0,a.jsx)(r.xv,{align:l||"center",children:e})},t?"description-line-".concat(t):"single-description-line"):null};return(0,a.jsx)(i.ZP,{accessibilityModalLabel:c||"",mobileHideCloseIcon:!0,isOpen:t,onDismiss:n,type:s||"",children:(0,a.jsxs)(r.xu,{padding:4,children:[(0,a.jsxs)(r.xu,{marginBottom:_?3:8,marginTop:u||0,children:[g&&(0,a.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:n,size:"sm"}),(0,a.jsx)(r.X6,{size:"500",accessibilityLevel:1,align:"center",children:d})]}),h&&Array.isArray(_)?_.map((function(e,t){return m(e,t)})):m(_),(0,a.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",wrap:!0,children:[(0,a.jsx)(r.xu,{padding:1,flex:"grow",children:(0,a.jsx)(r.zx,{fullWidth:!0,accessibilityLabel:p.text,text:p.text,size:"lg",color:p.color,onClick:p.onClick})}),f?(0,a.jsx)(r.xu,{padding:1,flex:"grow",children:(0,a.jsx)(r.zx,{fullWidth:!0,accessibilityLabel:f.text,text:f.text,size:"lg",color:f.color,onClick:f.onClick})}):null]})]})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/33760-c506094a15155c4c.js.map