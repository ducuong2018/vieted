(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[93734],{371659:function(e){e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},217649:function(e){e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},36855:function(e){e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},624645:function(e){e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},130133:function(e){e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},788642:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(658379),r=t(261783),o=t(249444),a=t(536042),l=t(981628),s=t(970588);function c(e,n,t,i,r,o,a){try{var l=e[o](a),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(i,r)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){c(o,i,r,a,l,"next",e)}function l(e){c(o,i,r,a,l,"throw",e)}a(void 0)}))}}function u(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}function p(e){return function(){var n=d(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.Z)({url:"/v3/pins/".concat(e,"/favorite/"),method:"POST"});case 2:t(u(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function _(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}function f(e){return function(){var n=d(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.Z)({url:"/v3/pins/".concat(e,"/favorite/"),method:"DELETE"});case 2:t(_(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var h=t(389282);function m(e,n,t,i,r,o,a){try{var l=e[o](a),s=l.value}catch(c){return void t(c)}l.done?n(s):Promise.resolve(s).then(i,r)}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function g(e){var n=e.favorited,t=e.favoriteCount,s=e.isCloseupButton,c=e.onFavorite,d=e.onUnfavorite,u=e.pinId,_=e.size,y=(0,a.ZP)(),g=(0,r.useDispatch)(),b=v((0,i.useState)(!1),2),P=b[0],x=b[1],w=v((0,i.useState)(n),2),S=w[0],O=w[1],j=v((0,i.useState)(null!=t?t:0),2),I=j[0],A=j[1],T=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!S),x(!0),!S){e.next=10;break}return A(I-1),e.next=6,g(f(u));case 6:d(),x(!1),e.next=15;break;case 10:return A(I+1),e.next=13,g(p(u));case 13:c(),x(!1);case 15:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){m(o,i,r,a,l,"next",e)}function l(e){m(o,i,r,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),E=I<10?I:y._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,h.jsxs)(o.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==t&&I>0&&(0,h.jsx)(o.xv,{size:"200",weight:"bold",children:E}),(0,h.jsx)(l.Z,{isCloseupButton:s,isDisabled:P,isFavorited:S,onTap:function(){T()},size:_})]})}},236921:function(e,n,t){"use strict";t.d(n,{H1:function(){return c},HW:function(){return o},iL:function(){return s},pN:function(){return l},s_:function(){return a}});var i=t(245410),r=t(802071),o=new Date(2022,1,1);function a(){var e=(0,i.F)().checkExperiment,n=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),t=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,r=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return n||t||r}function l(e){var n=e.isOwnPin,t=e.isStoryPin,a=e.pinCreationDate,l=e.surface,s=(0,r.Z)(),c=(0,i.F)().checkExperiment,d=c("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,u=!!("CreatorProfileStoryPinGrid"===l&&t&&a&&a.getTime()>=o.getTime()&&d&&s.isPartner&&n)&&c("web_ip_plays").anyEnabled,p=["enabled_public","employees"].includes(c("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===l&&t&&a&&a.getTime()>=o.getTime()){if(s.isPartner)return n&&u||!n&&p;if(c("web_ip_pinner_plays").anyEnabled)return!0}return!1}function s(e){var n=e.isOwnPin,t=e.isPartner,r=(0,i.F)().checkExperiment,o=["enabled_public","employees"].includes(r("web_ip_plays",{dangerouslySkipActivation:!0}).group),a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(n||!(a&&!t||o&&t))}function c(e){var n=e.isOwnPin,t=e.isPartner,r=(0,i.F)().checkExperiment,o=r("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,a=r("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!n||!(o&&t||a&&!t))}},623256:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var i=t(658379),r=t(261783),o=t(249444),a=t(886673),l=t(536042),s=t(624417),c=t(245410),d=t(282802),u=t(371362),p=t(362626),_=t(347151),f=t(533451),h=t(613352),m=t(389282);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var x=50,w=60;function S(e){var n,t,v,P,S,O,j=e.feedbackData,I=e.feedbackType,A=e.pin,T=e.pinTitle,E=e.setForcePrimary,k=e.transparentBackground,R=(0,l.ZP)(),C=(0,d.B)(),D=C.isAuthenticated,N=C.isBot,B=C.isSocialBot,z=(0,r.useDispatch)(),M=(0,_.E)(),L=M.viewParameter,Z=M.viewType,G=(0,h.f)().reportPin,U=b((0,i.useState)(!1),2),F=U[0],H=U[1],V=b((0,i.useState)(),2),W=V[0],Y=V[1],X=A.ad_match_reason,q=A.show_ad_reasons,K=A.category,J=A.description,$=A.id,Q=void 0===$?"":$,ee=A.images,ne=A.is_promoted,te=A.pinner,ie=A.promoter,re=A.videos,oe=(S=ne?w:x,function(e){return(0,u.ZP)((e||"").trim(),S)})(null!=J?J:""),ae=null==ee||null===(n=ee["236x"])||void 0===n?void 0:n.url,le=!(null==re||!re.video_list),se=(0,p.Z)(101,{component:0,element:981,object_id_str:Q,aux_data:{feedback_type:I}}),ce=function(){q||(E(!1),z((0,f.i0)(Q)),H(!1))},de=(0,c.F)().checkExperiment,ue=D?de("web_auth_exclude_original_images").anyEnabled:de("web_unauth_exclude_original_images").anyEnabled;return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.xu,{"data-test-id":"feedback-button",ref:Y,children:(0,m.jsx)(o.hU,{accessibilityLabel:R._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:k?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:function(){F?ce():(E(!0),H(!0)),se()},size:"sm"})}),F&&(0,m.jsx)(o.xu,{onFocus:function(e){return e.stopPropagation()},children:(0,m.jsx)(a.Z,{anchor:W,ad_match_reason:X,bestPinImgSrc:(0,s.Z)({imagesUrls:A.images?Object.keys(A.images).reduce((function(e,n){var t,i;return n?y(y({},e),{},g({},n,null===(t=A.images)||void 0===t||null===(i=t[n])||void 0===i?void 0:i.url)):e}),{}):void 0,embedSrc:null===(t=A.embed)||void 0===t?void 0:t.src,embedType:null===(v=A.embed)||void 0===v?void 0:v.type,excludeOriginals:!N&&!B&&ue}),board:A.board&&{entityId:A.board.id,imageThumbnailUrl:A.board.image_thumbnail_url,name:A.board.name,url:A.board.url},feedbackData:j,feedbackType:I,hideDownload:le,isPromoted:ne,onLinkClick:function(){F&&ce()},onDismiss:ce,onHide:ce,onDownloadHideFlyout:function(){E(!1),H(!1)},pinCategory:K,pinDescription:oe,pinId:Q,pinImgSrc:ae,pinner:te&&{explicitlyFollowedByMe:te.explicitly_followed_by_me,entityId:te.id,fullName:te.full_name,imageSmallUrl:te.image_small_url,username:te.username},pinTitle:T,promoter:ie&&{fullName:ie.full_name,username:ie.username},recommendationReason:A.recommendation_reason&&{board:A.recommendation_reason.board&&{name:A.recommendation_reason.board.name,url:A.recommendation_reason.board.url},reason:A.recommendation_reason.reason,reasonId:A.recommendation_reason.reason_id,throughProperties:(O=A.recommendation_reason.through_properties,O&&Object.keys(O).map((function(e){return{key:e,data:O[e]}})))},reportPin:function(){G(A,L,Z),ce()},sourceInterest:A.source_interest&&{entityId:null!==(P=A.source_interest.id)&&void 0!==P?P:"",name:A.source_interest.name,urlName:A.source_interest.url_name},viewParameter:L,viewType:Z})})]})}},886673:function(e,n,t){"use strict";t.d(n,{Z:function(){return B}});var i=t(658379),r=t(261783),o=t(867221),a=t(249444),l=t(222443),s=t(388011),c=t(536042),d=t(630089),u=t(649796),p=t(958083),_=t(325438),f=t(867812),h=t(950695),m=t(28630),v=t(724842),y=t(181453),g=t(154522),b=t(443601),P=t(533451),x=t(525104),w=t(389282);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function O(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e,n){return E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},E(e,n)}function k(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=C(e);if(n){var r=C(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(e,n){if(n&&("object"===S(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,t)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var N=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(l,e);var n,t,r,o=k(l);function l(e){var n;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,l),D(R(n=o.call(this,e)),"getRecommendationDescription",(function(){var e,t,i,r=n.props,o=r.i18n,a=r.ad_match_reason,l=r.board,s=r.feedbackType,c=r.pinner,d=r.promoter,u=r.recommendationReason,_=r.sourceInterest,f={i18n:o,makeNavigateLink:n.makeNavigateLink};switch(s){case"pfy":return(0,p.Ud)(A(A({},f),{},{feedback:{type:"pfy"}}));case"pfyBoard":return(0,p.Ud)(A(A({},f),{},{feedback:{type:"pfyBoard",recommendationReasonBoard:(null==u?void 0:u.board)&&{name:null!==(e=u.board.name)&&void 0!==e?e:"",url:null!==(t=u.board.url)&&void 0!==t?t:""}}}));case"topic":return(0,p.Ud)(A(A({},f),{},{feedback:{type:"topic",sourceInterest:_&&_.name&&_.urlName?{name:_.name,url_name:_.urlName}:null}}));case"followed":return(0,p.Ud)(A(A({},f),{},{feedback:{type:"followed",followed:null!=c&&c.explicitlyFollowedByMe?{type:"pinner",pinner:c.fullName?{full_name:c.fullName,username:null!==(i=c.username)&&void 0!==i?i:""}:null}:{type:"board",board:l&&l.name&&l.url?{name:l.name,url:l.url}:null}}}));case"promoted":return(0,p.Ud)(A(A({},f),{},{feedback:{type:"promoted",promoter:!a&&d&&d.fullName?{full_name:d.fullName,username:d.username}:null}}));default:return null}})),D(R(n),"getRecommendationDescriptionImage",(function(){var e,t,i,r,o=n.props,l=o.board,s=o.feedbackType,c=o.pinner,d=o.recommendationReason;if("followed"!==s&&"pfyBoard"!==s)return null;if(c&&c.explicitlyFollowedByMe)e=c.imageSmallUrl,t="50%",i="/".concat(null!==(r=c.username)&&void 0!==r?r:"");else if(l&&l.imageThumbnailUrl){var u;e=l.imageThumbnailUrl,t="4px",i=(null==d||null===(u=d.board)||void 0===u?void 0:u.url)||l.url}return e?(0,w.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:t}},flex:"none",marginStart:3,overflow:"hidden",children:(0,w.jsx)(a.iP,{onTap:function(){var e;return n.props.history.push(null!==(e=i)&&void 0!==e?e:"")},children:(0,w.jsx)(a.zd,{height:40,wash:!0,width:40,children:(0,w.jsx)(a.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:e})})})}):null})),D(R(n),"getUnfollowAction",(function(){var e=n.props,t=e.board,i=e.feedbackType,r=e.i18n,o=e.pinner,a=e.sourceInterest;switch(i){case"followed":return o&&t?(0,p.oK)({i18n:r,makeNavigateLink:n.makeNavigateLink,boardId:t.entityId,display:o.explicitlyFollowedByMe?{type:"pinner",data:{full_name:o.fullName,username:o.username}}:{type:"board",data:{name:t.name,url:t.url}}}):null;case"topic":if(!a)return null;var l=a.entityId,s=a.name,c=a.urlName;return l&&s&&c?(0,p.Iv)({i18n:r,makeNavigateLink:n.makeNavigateLink,sourceInterest:{id:l,name:s,url_name:c}}):null;default:return null}})),D(R(n),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?n.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):""})),D(R(n),"makeNavigateLink",(function(e,t,i,r){return(0,w.jsx)(a.rU,{onClick:n.props.onLinkClick,href:t,display:"inlineBlock",underline:"hover",children:(0,w.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:r?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:i})},e)})),D(R(n),"reportPinOption",(function(){return{action:"reportPin",elementType:974,text:n.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:n.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:n.props.reportPin,dataTestId:"report-pin-option"}})),D(R(n),"hidePinOption",(function(e){var t=n.props,i=t.clientTrackingParams,r=t.feedbackData,o=t.feedbackType,a=t.pinId,l=t.recommendationReason,s="search"===o?973:982,c=(0,_.Z)({feedbackData:r,feedbackType:o,pinId:a,pinFeedbackType:"pfy"===o?4:10,recommendationReason:l&&{board:l.board&&{entityId:l.board.entityId},reasonId:l.reasonId,reason:l.reason,throughProperties:l.throughProperties},clientTrackingParams:i(a)}),d=c.action,u=c.actionOptions,p=n.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:d,actionOptions:u,feedbackText:n.pinHiddenFeedbackText(e),text:p,description:n.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:s}})),D(R(n),"stopRecommendationOption",(function(){var e,t=n.props,i=t.clientTrackingParams,r=t.feedbackData,o=t.feedbackType,a=t.pinId,l=t.recommendationReason,s="pfyBoard"===o,c=(0,_.Z)({feedbackData:r,feedbackType:o,pinId:a,pinFeedbackType:s?2:4,recommendationReason:l&&{board:l.board&&{entityId:l.board.entityId},reasonId:l.reasonId,reason:l.reason,throughProperties:l.throughProperties},clientTrackingParams:i(a)}),u=c.action,p=c.actionOptions,f=null!=l&&l.board&&l.board.url&&l.board.name?n.makeNavigateLink("boardUrl",l.board.url,l.board.name,!0):"";return{action:u,actionOptions:p,feedbackText:{subTitle:s&&l?(0,d.nk)(n.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:f}):n.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:s&&l?(0,d.nk)(n.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null===(e=l.board)||void 0===e?void 0:e.name}):n.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),D(R(n),"unfollowBoardOption",(function(){var e,t,i=n.props.board,r=i?n.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(t=i.name)&&void 0!==t?t:"",!0):"",o=(0,d.nk)(n.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),a=(0,d.nk)(n.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:r});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.entityId},feedbackText:{title:"",subTitle:a},text:o,description:(0,d.nk)(n.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),elementType:10614}})),D(R(n),"unfollowTopicOption",(function(){var e=n.props.sourceInterest;if(e){var t=e.entityId,i=e.name,r=void 0===i?"":i,o=e.urlName,a="/topics/".concat(null!=o?o:""),l=n.makeNavigateLink("topicUrl",a,null!=r?r:"",!0),s=(0,d.nk)(n.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:r}),c=(0,d.nk)(n.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:f.X},feedbackText:{title:"",subTitle:c},text:s,description:(0,d.nk)(n.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),D(R(n),"unfollowUserOption",(function(){var e=n.props.pinner,t=null!=e?e:{},i=t.entityId,r=t.username,o=t.fullName,a="/".concat(r),l=e?n.makeNavigateLink("pinnerUrl",a,null!=o?o:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:i},feedbackText:{title:"",subTitle:(0,d.nk)(n.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:l})},text:(0,d.nk)(n.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:o}),description:n.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),D(R(n),"downloadPinOption",(function(){return{action:"downloadPin",text:n.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}})),D(R(n),"_pinFeedbackText",(function(){var e,t,i,r,o=n.props,a=o.location,l=o.feedbackType,s=o.hideDownload,c=o.pinner,d="followed"===n.props.feedbackType,u=a.pathname.includes("following"),p=(d||"topic"===l)&&!u,_=n.hidePinOption(p),f=n.reportPinOption(),h="promoted"!==l&&!s;switch(l){case"followed":var m=u,v=!m&&n.getRecommendationDescription(),y=null!=c&&c.explicitlyFollowedByMe?n.unfollowUserOption():n.unfollowBoardOption(),g=[_].concat(O(p||m?[y]:[]),O("promoted"!==l?[n.downloadPinOption()]:[]),[f]);return A(A({},v?{description:v}:{}),{},{options:g});case"promoted":var b=n.props,P=b.pinId,x=b.showAdReasonsModal,w=[_,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:n.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:function(){x(P)}},f];return{description:null!==(e=n.getRecommendationDescription())&&void 0!==e?e:void 0,options:w};case"topic":var S=n.unfollowTopicOption(),j=[_].concat(O(p&&S?[S]:[]),O(h?[n.downloadPinOption()]:[]),[f]);return{description:null!==(t=n.getRecommendationDescription())&&void 0!==t?t:void 0,options:j};case"pfy":case"pfyBoard":var I=[_].concat(O("pfyBoard"===l?[n.stopRecommendationOption()]:[]),O(h?[n.downloadPinOption()]:[]),[f]);return{description:null!==(i=n.getRecommendationDescription())&&void 0!==i?i:void 0,options:I};default:var T=[_].concat(O(h?[n.downloadPinOption()]:[]),[f]);return{description:null!==(r=n.getRecommendationDescription())&&void 0!==r?r:void 0,options:T}}})),D(R(n),"pinHiddenFeedbackText",(function(e){var t=n.props,i=t.isPromoted,r=t.promoter,o=e?null:n.getUnfollowAction();return i&&null!=r&&r.fullName?{title:"",subTitle:(0,d.nk)(n.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:r.fullName})}:o?{title:"",subTitle:n.getRecommendationDescription(),unfollow:o}:{title:"",subTitle:n.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));var t=n._pinFeedbackText();return n.state={pinFeedbackConfig:t,showSecondary:!1},n}return n=l,t=[{key:"onPinFeedbackActionButtonClick",value:function(e,n,t){e.stopPropagation(),n.auxData?this.handleClickLogging(n.elementType,n.auxData):this.handleClickLogging(n.elementType),(0,u.t)(n.action,n.actionOptions,t)}},{key:"onPinHide",value:function(e,n,t,i){var r=this.props,o=r.hidePinFeedback,a=r.onHide,l=r.pinId,s=r.showPinFeedback,c=r.showPinFeedbackOverlay,d=r.showPinFeedbackUndo,u=r.viewParameter,_=r.viewType,f=r.logContextEvent;n&&t&&i?d(l,e,(0,p.EF)(t,i,l,_,u,o,f),this.getUndoText(i)):s(l,e),!t||t.promoted||10!==t.feedback_type&&4!==t.feedback_type?a():(this.setState({showSecondary:!0}),c(l))}},{key:"handleClickLogging",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=this.props,i=t.feedbackType,r=t.viewParameter,o=t.viewType;(0,t.logContextEvent)({event_type:101,view_type:o,view_parameter:r,element:e,component:(0,p.nb)(i),aux_data:A({},n)})}},{key:"renderButtons",value:function(){for(var e=this,n=this.props,t=n.hideDownload,i=n.onDownloadHideFlyout,r=n.pinId,o=n.viewType,l=n.viewParameter,s=n.logContextEvent,c=n.isWindowsPwa,d=this.state.pinFeedbackConfig.options,p=[],_=d.length,f=function(n){var _=d[n],f=u.P.includes(_.action),h=_.callback?_.callback:function(){return e.onPinHide(_.feedbackText,f,_.actionOptions,_.action)};if("downloadPin"!==_.action){var v=(0,m.Z)({url:_.link||""}),y="";Array.isArray(_.text)?y=_.text.join(""):"string"!=typeof _.text&&"number"!=typeof _.text||(y=_.text.toString()),p.push(_.link?(0,w.jsx)(a.Lt.Link,{href:_.link,isExternal:v,option:{value:_.action||"",label:y},dataTestId:_.dataTestId||""}):(0,w.jsx)(a.Lt.Item,{onSelect:function(n){var t=n.event;return e.onPinFeedbackActionButtonClick(t,_,h)},option:{value:_.action||"",label:y},dataTestId:_.dataTestId||""}))}else if(!t&&!1===c){var g=e.props,P=g.bestPinImgSrc,x=g.pinTitle,S=g.pinDescription,O=g.pinCategory;p.push((0,w.jsx)(a.Lt.Item,{onSelect:function(){(0,b.ZP)({category:O,filename:x||S,imageDownloadSuccessCallback:function(){i&&i()},imgSrc:P,pinId:r,viewParameter:l,viewType:o},s)},option:{value:"downloadImage",label:e.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}},h=0;h<_;h+=1)f(h);return p}},{key:"render",value:function(){var e,n=this.state,t=n.pinFeedbackConfig,r=n.showSecondary,o=this.props,l=o.anchor,s=o.onDismiss,c=o.feedbackData,d=o.feedbackType,u=o.hideAdReasonsModal,p=o.pinId,_=o.onHide,f=o.recommendationReason,h=o.showAdReasons,m=o.viewParameter,b=o.viewType,P=t.description,x=this.getRecommendationDescriptionImage();return(0,w.jsxs)(i.Fragment,{children:[r?(0,w.jsx)(y.Z,{anchor:l,feedbackData:c,feedbackType:d,pinId:p,onDismiss:s,onHide:_,recommendationReason:f&&{board:f.board&&{entityId:f.board.entityId},reasonId:f.reasonId,reason:f.reason,throughProperties:null===(e=f.throughProperties)||void 0===e?void 0:e.map((function(e){return{data:e.data,key:e.key}}))},viewParameter:m,viewType:b}):(0,w.jsx)(a.Lt,{anchor:l,id:"pin-action-dropdown",idealDirection:"down",onDismiss:s,zIndex:g.lI,headerContent:P&&(0,w.jsxs)(a.kC,{alignItems:"center",children:[(0,w.jsx)(a.xu,{"data-pin-recommendation-reason":null==f?void 0:f.reason,maxHeight:56,overflow:"hidden",children:(0,w.jsx)(a.xv,{color:"default",overflow:"normal",size:"200",children:P})}),x]}),children:this.renderButtons()}),h&&(0,w.jsx)(v.ZP,{onDismiss:function(){return u(p)},pinId:p})]})}}],t&&T(n.prototype,t),r&&T(n,r),l}(i.Component);function B(e){var n=(0,s.v)().logContextEvent,t=(0,l.Z)(),i=(0,c.ZP)(),a=(0,x.S6)()(e.pinId),d=null!=a?a:{},u=d.ad_targeting_attribution,p=d.show_ad_reasons,_=void 0!==p&&p,f=(0,h.kf)(),m=(0,r.useDispatch)();return(0,w.jsx)(N,A(A({},e),{},{clientTrackingParams:t,showAdReasons:_,adTargetingAttribution:u,history:(0,o.useHistory)(),i18n:i,isWindowsPwa:f,location:(0,o.useLocation)(),logContextEvent:n,hidePinFeedback:function(e){return m((0,P.I1)(e))},showPinFeedback:function(e,n){return m((0,P.q1)(e,n))},showPinFeedbackOverlay:function(e){return m((0,P.Ib)(e))},showPinFeedbackUndo:function(e,n,t,i){return m((0,P.NA)({id:e,text:n,undoAction:t,undoText:i}))},showAdReasonsModal:function(e){return m((0,P.b9)(e))},hideAdReasonsModal:function(e){return m((0,P.yj)(e))}}))}},993734:function(e,n,t){"use strict";t.d(n,{Z:function(){return Or}});var i=t(658379),r=t(261783),o=t(867221),a=t(249444),l=t(661900),s=t(236921),c=t(604094),d=t(536042),u=t(633917),p=t(282802),_=t(643183),f=t(549201),h=t(946618),m=t(374749),v=t(589845),y=t(599551),g=t(362626),b=t(347151),P=t(178067);var x=t(389282);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function j(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var A={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function T(e){var n,t,r,l,s,c,u=e.pin,p=e.sourceLinkStyle,_=e.surface,f=e.url,w=(0,d.ZP)(),O=j((0,i.useState)(!1),2),I=O[0],T=O[1],E=(null===(n=u.carousel_data)||void 0===n?void 0:n.index)||0,k=u.id,R=function(e){var n=e.adDestinationUrl,t=e.domain,i=e.carouselDataId,r=e.carouselSlotLink,o=t||"";return n&&(o=(0,P.Z)(n).hostname||""),i&&(o=r&&(0,P.Z)(r).hostname||""),o.replace("www.","")}({adDestinationUrl:u.ad_destination_url,domain:u.domain,carouselDataId:null===(t=u.carousel_data)||void 0===t?void 0:t.id,carouselSlotLink:null===(r=u.carousel_data)||void 0===r||null===(l=r.carousel_slots)||void 0===l?void 0:l[E].link}),C=(0,o.useLocation)(),D=(0,m.Kl)(u)||{},N=(0,b.E)().slotIndex,B=(0,h.Z)({boardUrl:null===(s=u.board)||void 0===s?void 0:s.url,location:C,pinId:u.id,pinnerUserName:null===(c=u.pinner)||void 0===c?void 0:c.username,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map}),z=(0,g.Z)(12,{object_id_str:k,clientTrackingParams:B,aux_data:S({grid_index:N},(0,m.Kl)(u)||{})}),M=(0,g.Z)(101,{element:162,object_id_str:k,clientTrackingParams:B,aux_data:S({},(0,m.Kl)(u)||{})}),L=(0,g.Z)(8948,{object_id_str:k,clientTrackingParams:B,aux_data:S({click_type:"clickthrough",closeup_navigation_type:"click",grid_index:N},(0,m.Kl)(u)||{})}),Z=function(){z(),M(),L()},G=(0,y.Z)({href:f,target:"blank",externalData:{auxData:D,pin:u,surface:_}});return"icon-only"===p?(0,x.jsx)(a.hU,{accessibilityLabel:w._('link', 'Website url link', 'Website url link'),bgColor:"white",href:f,icon:"arrow-up-right",iconColor:"darkGray",onClick:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),Z(),G({event:n})},role:"link",rel:"nofollow",size:"sm"}):(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:S(S(S({},A.container),I?A.containerHovered:Object.freeze({})),"truncated-text"===p?A.containerTruncated:Object.freeze({}))},"data-test-id":"pinrep-source-link",onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},position:"relative",children:(0,x.jsx)(v.Z,{hovered:I,pin:u,slotIndex:N,viewType:1,children:(0,x.jsx)(a.iP,{fullWidth:!1,href:f,onTap:function(e){var n=e.event;(0,e.dangerouslyDisableOnNavigation)(),Z(),G({event:n})},rel:"nofollow",role:"link",rounding:4,children:(0,x.jsxs)(a.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:A.text},display:"flex",justifyContent:"between",children:[(0,x.jsx)(a.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,x.jsx)(a.JO,{accessibilityLabel:w._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,x.jsx)(a.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,x.jsx)(a.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:R})})]})})})})}var E=t(251951),k=t(979275);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){D(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return B(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return B(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var z=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(7068),t.e(51022),t.e(91175),t.e(48035)]).then(t.bind(t,932215))})),M=(0,i.lazy)((function(){return Promise.resolve().then(t.bind(t,623256))})),L=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(70640),t.e(5453),t.e(5035)]).then(t.bind(t,842674))}));var Z=function(e){var n=e.pinId,t=(0,E.R)().onSendButtonClick,i=(0,g.Z)(101,{element:72,object_id_str:n});return(0,x.jsx)(k.Z,{onSendButtonClick:t,trackShareTap:i,size:"sm",bgColor:"white"})},G=(0,i.memo)((function(e){var n,t,r,o,s,h=e.actionBarEditBeforeShare,m=e.feedbackData,v=e.feedbackType,y=e.layout,g=e.onToggleFlyout,P=e.pin,w=e.pinTitle,S=e.setForcePrimary,O=e.showEditButton,j=e.showOverflowMenu,I=e.showShareButton,A=e.showSourceLinkButton,E=e.sourceLinkStyle,k=e.surface,R=(0,d.ZP)(),D=(0,a.JZ)(),B=(0,p.B)().isRTL,G=!(0,f.HG)(),U=(0,b.E)(),F=U.viewParameter,H=U.viewType,V=P.carousel_data,W=P.id,Y=P.savedInfo,X=P.tracked_link,q=P.link,K=P.ad_destination_url,J=null!==(n=null!==(t=null!=K?K:X)&&void 0!==t?t:q)&&void 0!==n?n:"",$=(0,l.Z)({promotedIsLeadAd:P.promoted_is_lead_ad}).showLeadPinStdAlpha,Q=N((0,i.useState)(O),2),ee=Q[0],ne=Q[1],te=N((0,i.useState)(O),2),ie=te[0],re=te[1],oe=N((0,i.useState)(O),2),ae=oe[0],le=oe[1],se=C(C({},B?{marginLeft:O&&j?-44:0}:{marginRight:O&&j?-44:0}),{},{transition:B?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"}),ce={opacity:ae?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},de=C(C({},B?{marginRight:ie?4:0}:{marginLeft:ie?4:0}),{},{transition:B?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"});(0,i.useEffect)((function(){var e;return O&&j?(re(!0),e=setTimeout((function(){requestAnimationFrame((function(){ne(!0),requestAnimationFrame((function(){le(!0)}))}))}),800)):(re(O),ne(O),requestAnimationFrame((function(){le(O)}))),function(){clearTimeout(e)}}),[O,j]);var ue=null;if(A){var pe="/pin/".concat(W);ue=(0,x.jsx)(u.Z,{children:$?(0,x.jsx)(a.ZP,{accessibilityLabel:R._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),size:"sm",href:pe,text:R._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,x.jsx)(T,{pin:P,sourceLinkStyle:E,surface:k,url:J})})}var _e=I&&(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"send-share-link",children:(0,x.jsx)(u.Z,{children:G?(0,x.jsx)(Z,{pinId:P.id}):(0,x.jsx)(L,{imageUrl:null===(r=P.images)||void 0===r||null===(o=r["236x"])||void 0===o?void 0:o.url,ownerId:null===(s=P.pinner)||void 0===s?void 0:s.id,pinId:P.id,setForcePrimary:S})})})})}),fe=Boolean(null==Y?void 0:Y.localPinId)?null==Y?void 0:Y.localPinId:W,he=ee&&(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:D?void 0:{__style:ce},children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(z,{carouselSlotCurrentIndex:V&&V.index,component:0,onToggleModal:g,pinId:fe,style:{size:"sm"},view:H,viewParameter:F,useLegoStyles:!0})})})})});return"equally-spaced"===y?(0,x.jsxs)(a.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ue}),h?he:_e,h?_e:he]}):(0,x.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,x.jsx)(a.xu,{flex:"shrink",children:ue}),(0,x.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:D?void 0:{__style:se},children:(0,x.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[h?he:_e,h?_e:he,j&&(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:D?void 0:{__style:de},children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(M,{feedbackData:m,feedbackType:v,pin:P,pinTitle:w,setForcePrimary:S})})})})})]})})]})})),U=t(788642),F=t(219224),H=t(388011),V=t(297776),W=t(802071),Y=t(924255),X=t(541268),q=t(274796),K=t(755040),J=t(385929),$=312,Q=20;function ee(e){var n=e.board,t=e.favoriteCount,o=e.favorited,l=e.pinId,s=(0,H.v)().logContextEvent,c=(0,r.useDispatch)(),d=(0,b.E)().slotIndex,u=(0,K.s)(),p=u.currentFilter,_=u.eligibleFilters,f=u.refreshData,h=void 0===f?function(){}:f,m=u.sectionId,v=u.setShowExperienceTooltip,y=(0,i.useRef)(null),g=(0,W.Z)(),P=(0,F.Z)(g,n),w=p===J.Ac&&(!t||1===t),S=(0,Y.E)(_,J.Ac),O=function(e){s({event_type:101,component:0,element:e?12225:12226,object_id_str:l,view_type:5,view_parameter:P?3069:3070})};return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(a.xu,{ref:y,children:(0,x.jsx)(U.Z,{favorited:o,favoriteCount:t,onFavorite:function(){O(!0),S&&h(),v&&v(!0)},onUnfavorite:function(){O(!1),n&&w&&c((0,X.EX)({feedId:m||n.id,feedType:m?q.Z.BOARD_SECTION_PINS:q.Z.BOARDFEED,itemIds:[l],itemType:"pin"}))},pinId:l,size:Q})}),y&&!o&&!m&&0===d&&(0,x.jsx)(a.mh,{children:(0,x.jsx)(V.default,{anchor:y.current,experienceIds:[502973],flyoutSize:$,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ne=function(e){var n=new URL(e);return n.searchParams.delete("epik"),n.href},te=t(354428),ie=t(300657),re=t(245410),oe=t(525104);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function se(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){fe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ce(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function de(e,n){return de=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},de(e,n)}function ue(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=_e(e);if(n){var r=_e(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(e,n){if(n&&("object"===ae(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}(this,t)}}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return _e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_e(e)}function fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var he=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&de(e,n)}(o,e);var n,t,i,r=ue(o);function o(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return fe(pe(e=r.call.apply(r,[this].concat(t))),"state",{spamCheck:null}),fe(pe(e),"mounted",!1),fe(pe(e),"handleSpammyDomainCheck",(function(){var n=e.props,t=n.clientTrackingParams,i=n.location,r=n.pin,o=n.surface,a=n.url;a&&r&&(!r.promoter||r.is_downstream_promotion)&&(0,te.$3)({location:i,pinId:r.id,surface:o})&&(0,te.iw)({clientTrackingParams:t,isMounted:e.mounted,pinId:r.id,spamCheckCallback:function(n){return e.setState({spamCheck:n})},href:a})})),fe(pe(e),"handleClick",(function(n){var t=e.props,i=t.auxData,r=t.clientTrackingParams,o=t.onClick,a=t.navigateToOffsiteUrl,l=t.pin,s=t.pinId,c=t.url;(0,te.gV)({isOffsiteUrl:!0,event:n})||(n.preventDefault(),o&&o(n),c&&a({auxData:i,clientTrackingParams:r,pin:l&&{attributionSourceId:l.attribution_source_id,campaignId:l.campaign_id,isPromoted:l.is_promoted,pinPromotionId:l.pin_promotion_id},pinId:s,url:c}))})),e}return n=o,(t=[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleSpammyDomainCheck()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"componentDidUpdate",value:function(){null===this.state.spamCheck&&this.handleSpammyDomainCheck()}},{key:"render",value:function(){var e=this.props,n=e.children,t=e.pin,i=e.shouldHideEpikSearchParam,r=e.url;return(0,x.jsx)("a",{"aria-label":(null==t?void 0:t.domain)||"",href:i?ne(r):r,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:n})}}])&&ce(n.prototype,t),i&&ce(n,i),o}(i.Component);function me(e){var n,t,i,r=(0,oe.S6)()(null!==(n=e.pinId)&&void 0!==n?n:""),a=(0,re.F)().checkExperiment,l=(0,p.B)().isAuthenticated,s=(0,o.useLocation)(),c=r?(0,h.Z)({boardUrl:null===(t=r.board)||void 0===t?void 0:t.url,location:s,pinId:r.id,pinnerUserName:null===(i=r.pinner)||void 0===i?void 0:i.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map}):null,d=(0,ie.Z)({isFromClickthroughLink:!0});return(0,x.jsx)(he,se(se({},e),{},{clientTrackingParams:c,location:(0,o.useLocation)(),navigateToOffsiteUrl:d,pin:r,shouldHideEpikSearchParam:!l||a("web_hide_epik_param_in_promoted_urls").anyEnabled}))}var ve=t(788241),ye=t(846226);function ge(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var n=window.prefetchCompletion[e],t=n.downloadedAssets,i=n.totalAssets;return i?(t/i*100).toFixed(3).toString():"-1"}function be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?be(Object(t),!0).forEach((function(n){xe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function we(e){var n,t=e.children,i=e.componentType,r=e.contextLogData,o=e.pin,l=e.surface,s=e.viewParameter,c=e.viewType,d=(0,H.v)().logContextEvent,u=(0,b.E)(),p=o.ad_destination_url,_=o.carousel_data,f=o.id,h=o.link,m=o.tracked_link,v=p||m||h||"",y="one-tap-desktop",g=(0,ve.SU)();if(_){var P=_.carousel_slots,w=void 0===P?[]:P,S=_.id,O=_.index,j=void 0===O?0:O;w[j]&&w[j].link&&(v=w[j].link),n={carousel_slot_id:w[j]&&w[j].id,carousel_data_id:S,carousel_slot_index:j},y+="-carousel"}return(0,x.jsx)(a.xu,{"data-test-id":"otpp",children:(0,x.jsx)(ye.Z,{id:y,children:(0,x.jsx)(me,{auxData:n,onClick:function(){d({event_type:12,view_type:c||u.viewType,view_parameter:s||u.viewParameter,component:i||u.componentType,object_id_str:f,aux_data:Pe(Pe({},r),{},{grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:ge(h||"")})}),d({event_type:8948,view_type:c||u.viewType,view_parameter:s||u.viewParameter,component:i||u.componentType,object_id_str:f,aux_data:Pe(Pe({},r),{},{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:u.slotIndex,pin_id:f,prefetch_percentage_complete:ge(h||"")})}),d({event_type:13,object_id_str:f,component:i||u.componentType,view_type:3,aux_data:Pe(Pe({closeup_navigation_type:"web_closeup"},u.contextLogData),r)}),d({event_type:13,view_type:g.viewType,view_parameter:g.viewParameter,view_data:g.viewData})},pinId:f,surface:l,url:v,children:t})})})}var Se=t(833897),Oe=["surface"];function je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ae(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function Te(e){var n,t=e.surface,i=Ae(e,Oe),r=e.pin,o=!!r.promoted_is_lead_ad,a=!!r.is_eligible_for_web_closeup,l=!!r.promoter&&!r.is_downstream_promotion,s=!(null===(n=r.videos)||void 0===n||!n.video_list),c=!o&&(a||s&&l)?we:Se.Z;return(0,x.jsx)(c,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?je(Object(t),!0).forEach((function(n){Ie(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({surface:a?t:void 0},i))}function Ee(e){var n=e.pin,t=e.pinNoteText;return(0,x.jsx)(Te,{pin:n,children:(0,x.jsx)(a.xv,{lineClamp:1,overflow:"normal",size:"200",children:t})})}var ke=t(316445),Re=function(e,n){return n?[{align:"center",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"}]:[{align:"start",displayText:e._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:e._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]},Ce=function(e,n){return n?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]},De=function(e,n,t,i){return e?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:n?[{align:"start",displayText:t._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:i?[{align:"center",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:t._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:t._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:t._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]},Ne=function(e,n){return n?[{align:"center",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:e._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:e._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:e._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pin_click",iconSize:10,iconType:"hand-pointing"}]};var Be=t(117651),ze=t(13596);function Me(e){var n=e.value,t=e.valueFormat,i=(0,d.ZP)();return n||0===n?"TIME"===t?(0,Be.Z)(n):(0,x.jsx)(ze.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n}):(0,x.jsx)(a.u,{idealDirection:"up",text:i._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}function Le(e){var n,t,i,r=e.pin,o=(0,d.ZP)(),l=(0,W.Z)(),c=!!r.story_pin_data_id,u=!(null===(n=r.videos)||void 0===n||!n.video_list),p=l.isAuth&&(null===(t=r.pinner)||void 0===t?void 0:t.id)===l.id&&!r.is_repin,_=l.isAuth&&l.isPartner,f=(0,ke.Z)("pinStats"),h=!!_&&f(),m=(0,s.iL)({isOwnPin:p,isPartner:_}),v=(0,s.H1)({isOwnPin:p,isPartner:_}),y=r.created_at?new Date(r.created_at):null,g=(m||v)&&y&&y.getTime()<=s.HW.getTime(),b=m?function(e){var n=e.public_creator_analytics;return e.story_pin_data_id&&n?n:null}(r):function(e,n){var t,i,r,o;return!n&&(e.story_pin_data_id||null!==(t=e.videos)&&void 0!==t&&t.video_list)||0===Object.keys((null===(i=e.aggregated_pin_data)||void 0===i||null===(r=i.creator_analytics)||void 0===r?void 0:r["30d_realtime"])||{}).length?e.creator_analytics:null===(o=e.aggregated_pin_data)||void 0===o?void 0:o.creator_analytics}(r,h),P=Boolean(r.promoted_is_removable),w=function(e){var n=e.isAdsOnlyPin,t=e.isStoryPin,i=e.isVideo,r=e.i18n,o=e.showPublicPinStats,a=e.showPrivateFullScreenPinStats;return e.showSCEMetrics&&!o?Ne(r,n):i?Re(r,n):t?De(o,a,r,n):Ce(r,n)}({isAdsOnlyPin:P,isVideo:u,isStoryPin:c,i18n:o,showPublicPinStats:m,showPrivateFullScreenPinStats:v,showSCEMetrics:h});return i=h?(null==b?void 0:b.all_time_realtime)||(null==b?void 0:b["30d_realtime"]):(u||c)&&(null==b?void 0:b.all_time_realtime)||(null==b?void 0:b["30d_realtime"]),(0,x.jsx)(a.kC,{alignItems:"start",justifyContent:P?"around":"between",children:w.map((function(e){var n,t=e.align,r=e.displayText,o=e.field,l=e.iconType,s=e.iconSize,c=void 0===s?12:s,d=e.valueFormat;return(0,x.jsxs)(a.xu,{alignItems:"center",column:4,display:"flex",justifyContent:t,children:[(0,x.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,x.jsx)(a.JO,{accessibilityLabel:r,color:"default",icon:l,size:c})}),(0,x.jsx)(a.xv,{inline:!0,size:"200",children:(0,x.jsx)(Me,{value:"full_screen_play"===o&&g?null:null===(n=i)||void 0===n?void 0:n[o],valueFormat:d})})]},o)}))})}function Ze(e){var n=e.currentPrice,t=e.disableLink,i=e.originalPrice,r=e.pin,o=e.surface,l=i&&i!==n,s=(0,x.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[n&&(0,x.jsx)(a.xv,{color:"default",size:"200",weight:"bold",children:n}),l&&(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,x.jsx)(a.xv,{color:"subtle",size:"200",weight:"bold",children:i})})]});return t?s:(0,x.jsx)(Te,{pin:r,surface:o,children:s})}var Ge=t(945031);function Ue(e){var n=e.disableLink,t=e.pin,i=e.surface,r=(0,x.jsx)(a.xu,{"data-test-id":"pin-source",display:"flex",alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(a.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:(0,Ge.Z)(t,i)})});return n?r:(0,x.jsx)(Te,{pin:t,surface:i,children:r})}var Fe=t(969327),He=t(874261),Ve=t(869805);function We(e){var n=e.disableLink,t=e.numberOfLines,i=void 0===t?2:t,r=e.pin,o=e.pinTitle,l=e.surface,s=(0,p.B)(),c=(0,re.F)().checkExperiment,d=!!r.promoter&&!r.is_downstream_promotion,u=n?o:(0,x.jsx)(Te,{pin:r,surface:l,children:o}),_=(0,Fe.G6)(s.userAgent.browserName),f="iphone"===(0,Ve.v)(s),h="ipad"===(0,Ve.v)(s);return(f||h||_)&&!d&&c("hfp_title_truncation_safari_web").anyEnabled?(0,x.jsxs)(a.xv,{color:"default",size:"200",weight:"bold",children:[(0,x.jsx)(He.Z,{unsafeCSS:"\n  .shorten-title > a {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .shorten-title {\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  "}),(0,x.jsx)("div",{className:"shorten-title",children:u})]}):(0,x.jsx)(a.xv,{color:"default",lineClamp:i,size:"200",weight:"bold",children:u})}var Ye,Xe=t(623256),qe=t(371659),Ke=t.n(qe),Je=t(217649),$e=t.n(Je),Qe=t(36855),en=t.n(Qe),nn=t(624645),tn=t.n(nn),rn=t(130133),on=t.n(rn),an=t(411171);function ln(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var sn={goodIdea:Ke(),love:en(),thanks:tn(),wow:on(),haha:$e()},cn=(ln(Ye={},7,"goodIdea"),ln(Ye,1,"love"),ln(Ye,13,"thanks"),ln(Ye,11,"wow"),ln(Ye,5,"haha"),Ye),dn=["CreatorProfileStoryPinGrid"];var un=function(e){var n=e.alignment,t=void 0===n?"start":n,i=e.pinId,r=e.pinner,o=e.reactionCounts,l=e.surface,s=(0,W.Z)(),c=o?(0,an.At)(o):null,d=o?(0,an.Ud)(o):0,u=Boolean(s.isAuth&&(null==r?void 0:r.id)===s.id),p=!!c&&c.length>0&&c.map((function(e,n){var t=sn[cn[e]];return(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,x.jsx)(a.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:"url(".concat(t,")"),backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},n)})),_=!!p&&(0,x.jsx)(a.iP,{role:"link",href:"/pin/".concat(i,"/"),children:(0,x.jsxs)(a.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:t,height:19,paddingY:3,children:[(0,x.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:p}),(0,x.jsx)(a.xu,{paddingX:1,children:(0,x.jsx)(a.xv,{size:"200",children:(0,x.jsx)(ze.Z,{value:d,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),f=u&&dn.includes(l)&&(0,x.jsx)(a.xu,{height:24});return _||f},pn=t(309926),_n=t(870243),fn=32;function hn(e){var n=e.accessibilityLabel,t=e.attributionNameLink,i=e.avatarUrl,r=e.fullWidth,o=void 0===r||r,l=e.name,s=void 0===l?"":l,c=e.onClick,d=e.outline,u=void 0!==d&&d,p=e.size,_=void 0===p?fn:p,f=e.shouldRenderAdsOnlyProfileClick,h=void 0!==f&&f,m=(0,x.jsx)(a.xu,{"data-test-id":"attribution-avatar",height:_,width:_,children:(0,x.jsx)(_n.qE,{name:s,src:i,accessibilityLabel:"",outline:u})});return t?(0,x.jsx)(a.iP,{fullWidth:o,role:"link",href:t,rel:h?"nofollow":void 0,target:h?"blank":void 0,onTap:c,accessibilityLabel:n,children:m}):m}var mn=t(493214);function vn(e){var n=e.isHover,t=e.attributionNameLink,i=e.name,r=e.onClick,o=e.regularWeight;return(0,x.jsx)(a.xu,{children:t?(0,x.jsx)(a.xv,{underline:n,size:"200",lineClamp:1,weight:o?"normal":"bold",children:(0,x.jsx)(a.rU,{onClick:r,href:t,children:i})}):(0,x.jsx)(mn.Z,{underline:n,size:"200",lineClamp:1,weight:o?"normal":"bold",children:i})})}function yn(e){var n=e.isHover,t=e.link,i=e.onClick,r=e.title,o=e.weight;return r?(0,x.jsx)(a.xv,{inline:!0,underline:n,size:"200",weight:o,children:t?(0,x.jsx)(a.rU,{onClick:i,href:t,children:r}):r}):null}var gn=t(251163),bn=t(397831);function Pn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function xn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pn(Object(t),!0).forEach((function(n){wn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function wn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Sn(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return On(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return On(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var jn=32,In=64,An=-45;function Tn(e){var n=e.attributionNameLink,t=e.attributionTitle,r=e.avatarUrl,o=e.display,l=void 0===o?"default":o,s=e.isPromotedByPinCreator,c=e.name,d=e.url,u=e.verifiedIdentity,p=e.isVerifiedMerchant,_=e.shouldRenderAdsOnlyProfileClick,f=e.pinId,h=e.storyPinDataId,m=e.hasPromoter,v=e.hasSponsorship,y=e.sponsorshipCreatorId,b=e.isDownstreamPromotion,P=(0,bn.f)(),w=Sn((0,i.useState)(!1),2),S=w[0],O=w[1],j=m&&!b,I=(0,H.v)().logContextEvent,A=!!h,T=(0,g.Z)(101,{view_type:3,element:j?283:27,object_id_str:f,component:A?230:void 0,aux_data:xn({},y?{creator_id:y,pin_id:f}:{})}),E=function(){P.setMostRecentPinId(f),T()},k=function(){O((function(e){return!e}))},R=d&&!n,C=R?"":c,D="overlay"===l,N=(0,x.jsxs)(a.xu,{alignItems:"center",display:D?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,x.jsx)(a.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:D?"flex":void 0,justifyContent:"center",children:(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:D?{__style:{marginTop:An}}:void 0,children:(0,x.jsx)(hn,{attributionNameLink:C?n:void 0,avatarUrl:r,name:C,onClick:function(){return E()},accessibilityLabel:C,size:D?In:jn,outline:D})})}),(0,x.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:D?"flex":void 0,justifyContent:"center",marginTop:D?2:void 0,children:[(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,x.jsxs)(a.kC,{gap:{row:1,column:0},children:[(0,x.jsx)(vn,{attributionNameLink:n,name:c,onClick:function(){return E()},regularWeight:!(j&&!v||s),isHover:S}),(0,x.jsx)(gn.Z,{size:"sm",hasVerifiedIdentity:u,isVerifiedMerchant:p})]})}),(0,x.jsx)(yn,{isHover:S,title:t,weight:"normal"})]})]});return R?(0,x.jsx)(a.iP,{role:"link",onTap:function(e){var n=e.event;_&&I({event_type:9371,element:13382,aux_data:{aop_origin:"Attribution"}}),n.stopPropagation(),E()},href:d,rel:_?"nofollow":void 0,target:_?"blank":void 0,onMouseEnter:k,onMouseLeave:k,children:N}):N}var En=t(885669),kn={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(En.X,"ms ease")},visible:{opacity:1}}},Rn=t(649715);function Cn(e){var n=e.feedbackType,t=e.pin,i=(0,d.ZP)(),r=t.pinner,o=t.source_interest,l=r||{},s=l.full_name,c=l.username,u=(o||{}).name,p="topic"===n,_=!p&&"followed"===n,f="/".concat(c,"/"),h=(0,Rn.Z)(u),m="/search/pins/?q=".concat(encodeURIComponent(h),"&rs=image_only_attribution"),v=p?m:f,y={topic:i._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:i._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[n];if(!y)return null;if(_||p){var g=0===y.indexOf("{"),b=p?u:s,P=g?y.slice(y.indexOf("}")+1):y.slice(0,y.indexOf("{"));return g?(0,x.jsxs)(a.xu,{children:[(0,x.jsx)(a.rU,{display:"inlineBlock",href:v,underline:"hover",children:(0,x.jsx)(a.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:b})}),(0,x.jsx)(a.xv,{inline:!0,size:"200",children:P})]}):(0,x.jsxs)(a.xu,{children:[(0,x.jsx)(a.xv,{inline:!0,size:"200",children:P}),(0,x.jsx)(a.rU,{display:"inlineBlock",href:v,underline:"hover",children:(0,x.jsx)(a.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:b})})]})}return(0,x.jsx)(a.xu,{children:(0,x.jsx)(Se.Z,{pin:t,children:(0,x.jsx)(a.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:y})})})}var Dn=t(925428),Nn=t(462887);function Bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bn(Object(t),!0).forEach((function(n){Mn(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Mn(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ln(e){var n,t,o,l,s=e.attributionType,c=e.board,p=e.feedbackData,_=e.feedbackType,f=e.hasTextContent,h=e.hasTitleOrSource,m=e.hoverTransitionState,v=e.pin,y=e.pinNoteText,b=e.pinTitle,P=e.productCurrentPrice,w=e.productOriginalPrice,S=e.setForcePrimary,O=e.showCarouselEllipsis,j=e.showFavoriteButton,I=e.showGroupBoardAvatar,A=e.showNativeReactions,T=e.showOverflowMenu,E=e.showPinStats,k=e.showSource,R=e.showTextContent,C=e.showAttribution,D=e.surface,N=e.titleLines,B=(0,d.ZP)(),z=(0,W.Z)(),M=(0,r.useDispatch)(),L=v.favorited_by_me,Z=v.favorite_user_count,G=v.id,U=v.pinner,F=v.reaction_counts,H=v.sponsorship,V=(v.story_pin_data||{}).has_affiliate_products,Y=function(e,n,t){var i,r,o,a,l,s,c,d,u,p,_,f,h,m=e.board,v=e.link_domain,y=void 0===v?{}:v,g=e.promoter,b=e.sponsorship,P=e.native_creator,x=(b||{}).sponsor,w=!!e.promoter&&!e.is_downstream_promotion,S=(y||{}).official_user,O=w&&!!b&&(null==P?void 0:P.id)!==(null==g?void 0:g.id),j=e.pinner||{},I="",A="",T="",E="",k="",R="",C=!1,D=!1,N=!1;function B(e,n){return!!e&&!!n}if(O)I=null!==(s=null!==(c=null==P?void 0:P.image_medium_url)&&void 0!==c?c:null==P?void 0:P.image_small_url)&&void 0!==s?s:"",A=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site)?null!==(d=P.ads_only_profile_site)&&void 0!==d?d:"":"/".concat(null!==(u=null==P?void 0:P.username)&&void 0!==u?u:"","/"),T=null==g?void 0:g.full_name,E=null==P?void 0:P.full_name,R=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site)?null!==(p=P.ads_only_profile_site)&&void 0!==p?p:"":"/".concat(null!==(_=null==P?void 0:P.username)&&void 0!==_?_:"","/"),k="/".concat(null!==(f=null==g?void 0:g.username)&&void 0!==f?f:"","/"),C=null==P||null===(h=P.verified_identity)||void 0===h?void 0:h.verified,D=null==P?void 0:P.is_verified_merchant,N=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site);else if(w&&g)I=g.image_medium_url||g.image_small_url,T=g.full_name,E=t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),R=B(g.is_ads_only_profile,g.ads_only_profile_site)?g.ads_only_profile_site:"/".concat(g.username,"/"),N=B(g.is_ads_only_profile,g.ads_only_profile_site);else if(b&&null!=x&&x.username){var z,M,L,Z,G,U,F,H,V;I=null!==(z=null!==(M=null!==(L=null==P?void 0:P.image_large_url)&&void 0!==L?L:null==P?void 0:P.image_medium_url)&&void 0!==M?M:null==P?void 0:P.image_small_url)&&void 0!==z?z:"",A=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site)?null!==(Z=P.ads_only_profile_site)&&void 0!==Z?Z:"":"/".concat(null!==(G=null==P?void 0:P.username)&&void 0!==G?G:"","/"),T=x.full_name,E=null==P?void 0:P.full_name,R=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site)?null!==(U=P.ads_only_profile_site)&&void 0!==U?U:"":"/".concat(null!==(F=null==P?void 0:P.username)&&void 0!==F?F:"","/"),k="/".concat(null!==(H=x.username)&&void 0!==H?H:"","/"),C=null==P||null===(V=P.verified_identity)||void 0===V?void 0:V.verified,D=null==P?void 0:P.is_verified_merchant,N=B(null==P?void 0:P.is_ads_only_profile,null==P?void 0:P.ads_only_profile_site)}else if(P){var W,Y,X,q;I=null!==(W=null!==(Y=null!==(X=P.image_large_url)&&void 0!==X?X:P.image_medium_url)&&void 0!==Y?Y:P.image_small_url)&&void 0!==W?W:"",E=P.full_name,R=B(P.is_ads_only_profile,P.ads_only_profile_site)?P.ads_only_profile_site:"/".concat(P.username,"/"),C=null===(q=P.verified_identity)||void 0===q?void 0:q.verified,D=P.is_verified_merchant,N=B(P.is_ads_only_profile,P.ads_only_profile_site)}else if("show-for-claimed-content"===n){var K,J,$,Q,ee;null!=S&&S.is_primary_website_verified&&S.username&&(I=null!==(K=null!==(J=null!==($=S.image_large_url)&&void 0!==$?$:S.image_medium_url)&&void 0!==J?J:S.image_small_url)&&void 0!==K?K:"",E=S.full_name,R=B(S.is_ads_only_profile,S.ads_only_profile_site)?S.ads_only_profile_site:"/".concat(null!==(Q=S.username)&&void 0!==Q?Q:"","/"),C=null===(ee=S.verified_identity)||void 0===ee?void 0:ee.verified,D=S.is_verified_merchant,N=B(S.is_ads_only_profile,S.ads_only_profile_site))}else{var ne,te,ie,re;I=null!==(ne=null!==(te=null!==(ie=j.image_large_url)&&void 0!==ie?ie:j.image_medium_url)&&void 0!==te?te:j.image_small_url)&&void 0!==ne?ne:"",A="/".concat(j.username,"/"),E=j.full_name,R=m?m.url:"",C=null===(re=j.verified_identity)||void 0===re?void 0:re.verified,D=j.is_verified_merchant}return{avatarUrl:null!==(i=I)&&void 0!==i?i:"",attributionNameLink:null!==(r=A)&&void 0!==r?r:"",attributionTitle:null!==(o=T)&&void 0!==o?o:"",name:null!==(a=E)&&void 0!==a?a:"",sponsorUrl:k,url:null!==(l=R)&&void 0!==l?l:"",verifiedIdentity:!!C,isVerifiedMerchant:!!D,shouldRenderAdsOnlyProfileClick:!!N}}(v,s,B),X=Y.avatarUrl,q=Y.attributionNameLink,K=Y.attributionTitle,J=Y.name,$=Y.sponsorUrl,Q=Y.url,ne=Y.verifiedIdentity,te=Y.isVerifiedMerchant,ie=Y.shouldRenderAdsOnlyProfileClick,re=!!v.promoter&&!v.is_downstream_promotion,oe=re&&(null===(n=v.native_creator)||void 0===n?void 0:n.id)===(null===(t=v.promoter)||void 0===t?void 0:t.id),ae=(0,g.Z)(101,{view_type:3,element:27,object_id_str:G,component:v.story_pin_data_id?230:void 0,aux_data:zn({pin_id:G},null!=H&&null!==(o=H.creator)&&void 0!==o&&o.id&&null!==(l=H.sponsor)&&void 0!==l&&l.id?{creator_id:H.creator.id,sponsor_id:H.sponsor.id}:{})}),le=function e(n){return M(e(n))},se=((null==H?void 0:H.sponsor)||{}).full_name,ce="ConversationView"===D?{padding:"8px"}:kn.container;return(0,x.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:ce},children:[O&&(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:h||I||"none"!==s?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(Dn.default,{pinId:G})})}),E&&(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%","data-test-id":"pin-stats-footer",children:(0,x.jsx)(Le,{pin:v})}),(0,x.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsxs)(a.xu,{flex:"grow",children:[(!!H||V&&!re)&&!oe&&(0,x.jsx)(a.xu,{marginBottom:1,children:(0,x.jsx)(a.xu,{flex:"grow",overflow:"hidden",children:(0,x.jsx)(Nn.Z,{hasAffiliateProducts:V,href:$||Q,isPromoted:re,sponsorName:se,sponsorshipStatus:null==H?void 0:H.status,onNavigateSponsorClick:function(){le(G),ae()},textWeight:"bold"})})}),(R&&f||j)&&(0,x.jsxs)(a.xu,{marginBottom:1,children:[(w||P)&&(0,x.jsx)(a.xu,{marginBottom:1,children:(0,x.jsx)(Ze,{currentPrice:P,originalPrice:w,pin:v,surface:D})}),j?(0,x.jsxs)(a.kC,{alignItems:"start",children:[(0,x.jsx)(a.kC,{flex:"grow",children:(0,x.jsx)(We,{numberOfLines:N,pin:v,pinTitle:b,surface:D})}),(0,x.jsx)(a.xu,{marginStart:3,children:(0,x.jsx)(ee,{board:c,favorited:!!L,favoriteCount:null!=c&&c.is_collaborative&&(0,pn.Z)({board:c,viewer:z})?null!=Z?Z:0:void 0,pinId:G})})]}):(0,x.jsx)(We,{numberOfLines:N,pin:v,pinTitle:b,surface:D}),k&&(0,x.jsx)(a.xu,{marginBottom:2,children:(0,x.jsx)(Ue,{pin:v,surface:D})})]}),C&&(0,x.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(a.xu,{flex:"grow",children:function(){var e,n,t=(0,x.jsx)(Tn,{attributionNameLink:q,attributionTitle:re&&!H||oe?K:"",avatarUrl:X,isPromotedByPinCreator:!!oe,isVerifiedMerchant:te,shouldRenderAdsOnlyProfileClick:ie,name:J,url:Q,verifiedIdentity:ne,pinId:v.id,storyPinDataId:v.story_pin_data_id,hasPromoter:!!v.promoter,hasSponsorship:!!v.sponsorship,sponsorshipCreatorId:null===(e=v.sponsorship)||void 0===e||null===(n=e.creator)||void 0===n?void 0:n.id,isDownstreamPromotion:v.is_downstream_promotion});switch(s){case"none":return null;case"image-only-credit":return(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:kn.imageOnlyAttribution["active"===m?"visible":"hidden"]},children:(0,x.jsx)(Cn,{pin:v,feedbackType:_})});default:return Object.values(Y).some((function(e){return Boolean(e)}))?t:null}}()}),T&&(0,x.jsx)(a.xu,{flex:"none",children:(0,x.jsx)(Xe.default,{feedbackData:p,feedbackType:_,pin:v,pinTitle:b,setForcePrimary:S,transparentBackground:!0})})]}),A&&!!F&&Object.keys(F).length>0&&(0,x.jsx)(a.xu,{marginTop:"ConversationView"===D?2:void 0,children:(0,x.jsx)(un,{pinId:G,pinner:U,reactionCounts:F,surface:D})}),y&&(0,x.jsx)(a.xu,{marginBottom:1,children:(0,x.jsx)(Ee,{pin:v,pinNoteText:y})}),I&&!j&&(0,x.jsx)(a.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(hn,{attributionNameLink:q||Q,avatarUrl:X,fullWidth:!1,name:J,accessibilityLabel:J,shouldRenderAdsOnlyProfileClick:ie}),(0,x.jsx)(a.xu,{marginStart:2,flex:"grow",children:(0,x.jsx)(a.xv,{size:"200",children:J})})]})})]})},"".concat(v.id,"-sponsor-name-link"))]})}var Zn=t(840166),Gn=6,Un=10,Fn=18,Hn=14;function Vn(e){var n,t,i,r=e.dimension,o=e.color,l=e.isSelected,s=e.img,c=e.selectVariant,u=(0,d.ZP)(),p=(0,x.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onMouseEnter:function(e){var n=e.event;n.preventDefault(),n.stopPropagation(),c({dimensionName:r,variant:o})},onFocus:function(){c({dimensionName:r,variant:o})},children:(0,x.jsx)(a.xu,{"data-test-id":"primary-variant-preview-icon-".concat(o),height:Fn,width:Fn,rounding:1,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{border:l?"1px solid black":"1px solid #EFEFEF"}},children:(0,x.jsx)(a.xu,{height:Hn,width:Hn,position:"absolute",rounding:1,overflow:"hidden",children:(0,x.jsx)(a.xu,{"data-test-id":"".concat(o,"-variant-preview-wrapper"),dangerouslySetInlineStyle:{__style:{transform:"scale(".concat(Un,",").concat(Un,")")}},children:(0,x.jsx)(a.zd,{height:Hn,width:Hn,rounding:1,children:(0,x.jsx)(a.Ee,{alt:u._('Color variant preview image', 'MerchantStorefront.Variant.VariantPreviewIcon.Image', 'Alt text for color variant preview image'),naturalHeight:null!==(n=s.height)&&void 0!==n?n:1,naturalWidth:null!==(t=s.width)&&void 0!==t?t:1,src:null!==(i=s.url)&&void 0!==i?i:"",fit:"contain"})})})})})});return(0,x.jsx)(a.xu,{"data-test-id":"primary-variant-main-".concat(o),display:"inlineBlock",height:Fn,rounding:1,width:Fn,children:p})}function Wn(){var e=(0,H.v)().logContextEvent,n=(0,Zn.Xx)(),t=n&&n.primaryVariants.filter((function(e){return e.image})).length>0;if((0,i.useEffect)((function(){e({event_type:120,component:14092})}),[t,e]),!n)return null;var r=n.primaryVariants,o=n.primaryDimName,l=r.slice(0,Gn).map((function(e){var t=e.value,i=e.value===n.selectedMap[o],r=e.image;return r?(0,x.jsx)(Vn,{dimension:o,color:t,isSelected:i,img:r,selectVariant:n.selectVariant},t):null})).filter(Boolean);if(r.length>Gn){var s=r.length-Gn;l.push((0,x.jsx)(a.xu,{"data-test-id":"plus-number",display:"flex",height:Fn,rounding:1,width:Fn,justifyContent:"center",children:(0,x.jsxs)(a.iP,{fullHeight:!0,fullWidth:!0,rounding:1,onTap:function(e){e.event.stopPropagation()},children:["+",s]})},Gn))}return(0,x.jsx)(a.kC,{justifyContent:"start",alignItems:"center",gap:3,children:l})}var Yn=t(759034),Xn=t(28630);function qn(){var e=(0,d.ZP)();return(0,x.jsx)(a.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}function Kn(){var e=(0,d.ZP)();return(0,x.jsx)(a.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}function Jn(e){var n,t=e.contentType,r=e.hasTextContent,o=e.pin,l=e.pinTitle,s=e.productCurrentPrice,c=e.productOriginalPrice,u=e.productRating,p=e.productShipping,_=e.showSource,f=e.showVisitSiteButton,h=e.surface,m=e.titleLines,v=(0,H.v)().logContextEvent,y=(0,d.ZP)(),g=(0,re.F)().checkExperiment,b=(null===(n=o.rich_summary)||void 0===n?void 0:n.url)||o.link,P=null;(0,Zn.Xx)()&&(g("storefront_variant_pins").anyEnabled&&(P=(0,x.jsx)(Wn,{})));var w=(0,Xn.Z)({url:b})?"nofollow":"none";return(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:kn.productContainer},height:"100%",children:(0,x.jsx)(a.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:r&&(0,x.jsxs)(i.Fragment,{children:[(0,x.jsx)(Te,{pin:o,surface:h,children:(0,x.jsxs)(a.kC,{direction:"column",gap:1,children:[(c||s)&&(0,x.jsx)(Ze,{currentPrice:s,disableLink:!0,originalPrice:c,pin:o,surface:h}),o.is_oos_product&&(0,x.jsx)(qn,{}),o.is_stale_product&&(0,x.jsx)(Kn,{}),(0,x.jsx)(We,{disableLink:!0,numberOfLines:m,pin:o,pinTitle:l,surface:h}),_&&(0,x.jsx)(Ue,{disableLink:!0,pin:o,surface:h}),"shopping"===t&&(u||Number.isFinite(null==p?void 0:p.free_shipping_value))&&(0,x.jsx)(Yn.Z,{count:null==u?void 0:u.count,countFormat:"number",isGridView:!0,ratingValue:null==u?void 0:u.rating,shippingInfo:p}),P]})}),f&&b?(0,x.jsx)(a.xu,{marginTop:2,children:(0,x.jsx)(a.ZP,{fullWidth:!0,href:b,rel:w,onClick:function(){v({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:y._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}var $n=(0,i.memo)((function(e){var n=e.attributionType,t=e.blockClickEvents,i=e.board,r=e.contentType,o=e.feedbackData,l=e.feedbackType,s=e.hoverTransitionState,c=e.pin,d=e.pinNoteText,p=e.pinTitle,_=e.productCurrentPrice,f=e.productOriginalPrice,h=e.productRating,m=e.productShipping,v=e.setForcePrimary,y=e.showCarouselEllipsis,g=e.showFavoriteButton,b=e.showGroupBoardAvatar,P=e.showNativeReactions,w=e.showOverflowMenu,S=e.showPinStats,O=e.showSource,j=e.showTextContent,I=e.showVisitSiteButton,A=e.showAttribution,T=void 0===A||A,E=e.surface,k=e.titleLines,R=p||O,C="shopping"===r?(0,x.jsx)(Jn,{contentType:r,hasTextContent:!!R,pin:c,pinTitle:p,productCurrentPrice:_,productOriginalPrice:f,productRating:h,productShipping:m,showSource:O,showVisitSiteButton:I,surface:E,titleLines:k}):(0,x.jsx)(Ln,{attributionType:n,board:i,feedbackData:o,feedbackType:l,hasTextContent:!!R,hasTitleOrSource:!!R,hoverTransitionState:s,pin:c,pinNoteText:d,pinTitle:p,productCurrentPrice:_,productOriginalPrice:f,setForcePrimary:v,showCarouselEllipsis:y,showFavoriteButton:g,showGroupBoardAvatar:b,showNativeReactions:P,showOverflowMenu:w,showPinStats:S,showSource:O,showTextContent:j,showAttribution:T,surface:E,titleLines:k});return t?(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:C}):(0,x.jsx)(a.kC,{flex:"grow",children:(0,x.jsx)(u.Z,{fullWidth:!0,children:C})})})),Qn=t(819079),et=t(87663),nt=t(449879),tt=(0,i.lazy)((function(){return t.e(34979).then(t.bind(t,447522))})),it=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(7068),t.e(51022),t.e(91175),t.e(43473)]).then(t.bind(t,563171))})),rt=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(7068),t.e(51022),t.e(91175),t.e(22347)]).then(t.bind(t,538137))})),ot=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(18252),t.e(22538)]).then(t.bind(t,587540))})),at=(0,i.lazy)((function(){return t.e(1593).then(t.bind(t,266744))}));function lt(e){var n=e.derivedSaveButtonOptions,t=e.forcePrimaryContent,o=e.showEnabledSaveBehavior,l=e.onToggleFlyout,s=e.onToggleModal,d=e.pin,p=(0,Zn.Xx)(),f=function(e){return(0,Qn.Z)(e?{name:"PinResource",options:{id:e}}:null)}(null==p?void 0:p.variantUrl),h=f&&f.data?f.data:d,m=h.id,v=h.savedInfo,y=(0,i.useRef)(!!v),P=(0,r.useSelector)((function(e){var n=e.experiences[1000294];return 502450===(null==n?void 0:n.experience_id)?n:null})),w=(0,nt.tY)(o).saveBehaviorType;void 0!==w&&["classic","controlled","inline"].includes(n.type)&&(n=w);var S=(0,b.E)().viewParameter,O=(0,g.Z)(101,{element:0,object_id_str:m}),j=null;if(!n.hidePinBetterSaveDropdown&&(P||o&&["classic","controlled"].includes(n.type))&&["classic","controlled","inline"].includes(n.type)){var I=n.renderPinSaveTooltip,A=void 0===I?void 0:I;j=(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(ot,{experience:P||void 0,forcePrimaryContent:t,pin:h,renderPinSaveTooltip:A,showEnabledSaveBehavior:o,viewParameter:S})})})})}else if("classic"===n.type||"controlled"===n.type){var T=n.renderPinSaveTooltip;j=(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(it,{onClickCallback:O,onToggleModal:s,oneTapSave:"controlled"===n.type?n:void 0,pin:h,renderPinSaveTooltip:T,renderSavedStatus:function(){return!!v&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(et.Z,{isNewlySaved:!y.current,name:v.title,type:v.type,url:v.url})})},variant:"lego",viewParameter:S})})})})})}else if("inline"===n.type){var E=h,k=n,R=k.initialSelection,C=k.onSave,D=k.renderPinSaveTooltip,N=k.hidePinBetterSaveDropdown;j=(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"better-save",children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(rt,{initialSelection:R,onSave:C,onToggleFlyout:l,onToggleModal:s,pin:E,renderPinSaveTooltip:D,renderSavedStatus:function(e){var n=e.savedInfo;return n&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(et.Z,{isNewlySaved:!y.current,name:n.title,type:n.type,url:n.url,shouldUseLegoStyles:!0})})},variant:"pin",viewParameter:S,hideDropdown:N})})})})})}else"persistentOneClickSave"===n.type?j=(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"persistent-one-click-save",children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(tt,{saveOptions:n})})})})}):"promote"===n.type&&(j=(0,x.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(a.xu,{"data-test-id":"pin-promote-button",children:(0,x.jsx)(u.Z,{children:(0,x.jsx)(at,{pin:h})})})})})}));return(0,x.jsx)(c.Z,{name:"PinRepPrimaryContent",children:(0,x.jsx)(a.xu,{display:"flex",margin:3,children:j&&(0,x.jsx)(a.xu,{marginStart:"auto",flex:"grow",children:j})})})}var st={marginTop:"1px"},ct=32,dt=12;function ut(e){var n=e.cta,t=(0,d.ZP)();return(0,x.jsx)(a.iP,{children:(0,x.jsx)(a.xu,{"data-test-id":"pinrep-chin",minHeight:ct,color:"secondary",dangerouslySetInlineStyle:{__style:st},children:(0,x.jsxs)(a.xu,{padding:2,display:"flex",justifyContent:"between",children:[(0,x.jsx)(a.xv,{size:"200",weight:"bold",children:n||t._('Learn more', '[m10n] pinRep.chin.learnMore', 'Closeup for learn more chin')}),(0,x.jsx)(a.JO,{icon:"arrow-forward",size:dt,accessibilityLabel:t._('Go to lead ad', '[m10n] pinRep.chin.arrowForwardIcon', 'Arrow forward icon for chin'),color:"default"})]})})})}var pt=t(424271),_t=t(335700),ft=t(479958),ht=t(740089),mt={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function vt(e){var n=e.isSelected,t=(0,d.ZP)();return(0,x.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:n?mt:{},children:(0,x.jsx)(a.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,x.jsx)(a.xu,{alignItems:"center",color:n?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,x.jsx)(a.JO,{accessibilityLabel:t._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var yt=t(40660),gt={},bt=function(e){yt.Z.increment("web_prefetch_via_xhr.attempt",1);var n=(0,P.Z)(e);return new Promise((function(t,i){if(window.navigator&&window.navigator.connection){var r=window.navigator.connection;r.saveData&&(yt.Z.increment("web_prefetch_via_xhr.saveDataOn",1),t()),/2g/.test(r.effectiveType)&&(yt.Z.increment("web_prefetch_via_xhr.poorConnection",1),t())}var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?(gt[e]&&(gt[e].loaded=!0),yt.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:n.hostname||"unknown"}),t(o.response)):(yt.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:n.hostname||"unknown"}),i())},gt[e]||(o.send(),gt[e]={added:!0,xhr:o},yt.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:n.hostname||"unknown"}))}))},Pt=function(e){gt[e]&&gt[e].xhr&&!gt[e].loaded&&(yt.Z.increment("web_prefetch_abort_xhr",1),gt[e].xhr.abort(),gt[e].aborted=!0)},xt=t(634923),wt=t(714557),St=["vHLS3Mobile","vHLSV4"];function Ot(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var jt={},It=function(e,n){var t="string"==typeof e?e:e.url;if(n&&t){var i="control"===n?"v3.pinimg.com":"v2.pinimg.com";return t.replace("v1.pinimg.com",i)}return t};function At(e,n){return(It("https://v1.pinimg.com/videos/mc/hls/",n)||"")+"".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6),"/").concat(e)}var Tt=t(99841),Et=55,kt=420,Rt=236,Ct=250,Dt=164;var Nt=function(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}};function Bt(e){var n,t=e.autoplaySettingOff,r=e.blockClickEvents,o=e.fallbackColor,l=e.imageFit,s=e.imageHeightModifier,c=e.isDenseView,d=e.isHovering,u=e.onError,p=e.onLoad,_=e.pin,f=e.pinImageCrop,h=e.resolution,m=void 0===h?"default":h,y=e.rootMargin,g=e.selectionState,P=e.showCarousel,w=e.showPromotedVideos,S=e.showLeadPinStdBeta,O=e.showUnavailablePin,j=e.surface,I=(0,b.E)(),A=I.contextLogData,T=I.slotIndex,E=I.viewParameter,k=I.viewType,R=(0,re.F)().checkExperiment,C=R("web_prefetch_video_in_feed").group,D=_.id,N=void 0===D?"":D,B=_.aggregated_pin_data,z=_.image_signature,M=_.story_pin_data,L=(B||{}).pin_tags_chips,Z=!!_.is_eligible_for_web_closeup,G=!(null===(n=_.videos)||void 0===n||!n.video_list),U=!!_.promoter&&!_.is_downstream_promotion,F=Nt(f),H=F.cropHeight,V=F.cropWidth,W=null;if(O)W=(0,x.jsx)(ft.Z,{isDenseView:c,height:c?Ct:kt,rounding:0,width:c?Dt:Rt});else if(t||!G||!w&&U||"BoardCoverSelectablePin"===j)if(P)W=(0,x.jsx)(a.xu,{"data-test-id":"pinrep-carousel",children:(0,x.jsx)(Tt.Z,{cropHeight:H,cropWidth:V,onError:u,onLoad:p,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,pinId:N,showCarouselBadge:!1,pin:_})});else{var Y="backend"===f?function(e){var n,t=e.images,i=e.image_crop,r=t&&(null===(n=t["236x"])||void 0===n?void 0:n.height);if(i&&(0!==i.min_y||1!==i.max_y)){var o=i.min_y,a=void 0===o?0:o,l=i.max_y,s=void 0===l?0:l;return{marginTop:"".concat(a>0?-1*a*(null!=r?r:0):0,"px"),marginBottom:"".concat(s<1?Math.round(-1*(1-s)*(null!=r?r:0)):0,"px")}}return{}}(_):{};W=(0,x.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:Y},"data-test-id":"pinrep-image",minHeight:Et,children:[(0,x.jsx)(pt.Z,{cropHeight:H,cropWidth:V,fallbackColor:o,imageFit:l,highResOnly:"high-res"===m,lowResOnly:"low-res"===m,mediumResOnly:"medium-res"===m,onLoad:p,onError:u,pin:_}),S&&(0,x.jsx)(ut,{cta:_.call_to_action_text})]})}else W=(0,x.jsxs)(a.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:H||void 0,justifyContent:"center",children:[(0,x.jsx)(_t.Z,{cropHeight:H,cropWidth:V,highResOnly:"high-res"===m,imageHeightModifier:s,inAdsDesktopVideoExperiment:G&&w,isExperimentalPinRep:!0,lowResOnly:"low-res"===m,onError:u,onLoad:p,pin:_,rootMargin:y,surface:j,viewParameter:E,viewType:k}),S&&(0,x.jsx)(ut,{cta:_.call_to_action_text})]});var X=(0,x.jsx)(a.zd,{wash:!0,children:(0,x.jsx)(v.Z,{hovered:d,pin:_,slotIndex:T,viewType:1,children:W})}),q=["selected-image-only","deselected-image-only"].includes(g),K="selected-image-only"===g,J=(0,i.useRef)(!0),$=(0,i.useRef)(!1),Q=(0,i.useRef)(!1),ee=R("web_video_quic").group;if((0,i.useEffect)((function(){var e,n;J.current||!d||Z||r||$.current?d||!$.current||Q.current||((n=(null==M?void 0:M.id)||_.id)&&jt[n]&&jt[n].length>0&&jt[n].forEach((function(e){Pt(e)})),Q.current=!0):M?(!function(e,n){var t,i=e.id,r=e.pages,o=e.pages_preview;if(o||r){var a=o?o[0]:null==r?void 0:r[0],l=null==a||null===(t=a.blocks)||void 0===t?void 0:t.find((function(e){return 3===e.block_type}));if(l&&l.video){var s=(0,xt.Z)(l.video)||{},c=s.hlsv3,d=s.mp4||c;if(d&&i){var u,p=null!==(u=It(d,n))&&void 0!==u?u:"";jt[i]=jt[i]?jt[i].concat(p):[p],bt(p)}}}}(M,ee),$.current=!0):(null!==(e=_.videos)&&void 0!==e&&e.video_list&&function(e){var n,t=e.pinId,i=e.videosId,r=e.videoList,o=e.quicExpGroup,a=r.vHLS3Mobile,l=r.vHLSV4,s=Ot(r,St),c=t&&i&&(null===(n=[a,l].find((function(e){return e&&e.thumbnail&&e.url&&!!e.width&&!!e.height})))||void 0===n?void 0:n.url);if(c){var d,u=null!==(d=It(c,o))&&void 0!==d?d:"";return jt[t]=jt[t]?jt[t].concat(u):[u],void bt(u).then((function(e){var n=[];if("string"==typeof e&&(n=e.split("\n").filter((function(e){return e.endsWith(".m3u8")}))),n&&n[wt.V]){var i=At(n[wt.V],o);return jt[t]=jt[t].concat(i),bt(null!=i?i:"")}return null})).then((function(e){var n=[];if("string"==typeof e&&(n=e.split("\n").filter((function(e){return e.endsWith(".ts")}))),n&&n[0]){var i=At(n[0],o);return jt[t]=jt[t].concat(i),bt(null!=i?i:"")}return null}))}var p=(0,xt.t)(s);if(null!=p&&p.url){var _,f=null!==(_=It(p.url,o))&&void 0!==_?_:"";bt(f),jt[t]=jt[t]?jt[t].concat(f):[f]}}({pinId:_.id,videosId:_.videos.id,videoList:{vExp3:_.videos.video_list.V_EXP3,vExp4:_.videos.video_list.V_EXP4,vExp5:_.videos.video_list.V_EXP5,vExp6:_.videos.video_list.V_EXP6,vExp7:_.videos.video_list.V_EXP7,v720p:_.videos.video_list.V_720P,vHLS3Mobile:_.videos.video_list.V_HLSV3_MOBILE,vHLSV4:_.videos.video_list.V_HLSV4},quicExpGroup:ee}),$.current=!0);J.current=!1}),[r,d,Z,M,_,C,ee]),r)return(0,x.jsxs)(i.Fragment,{children:[X,q&&(0,x.jsx)(vt,{isSelected:K}),L&&(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(ht.Z,{pin:_,enableCloseupLink:!0})})]});var ne=A||{},te=ne.commerce_data,ie=ne.story_type,oe=ne.board_id,ae=ne.board_pin_count;return(0,x.jsxs)(Te,{contextLogData:{commerce_data:te,grid_index:T,image_signature:z,story_type:ie,board_id:oe,board_pin_count:ae},elementType:M?12372:35,pin:_,surface:j,children:[X,L&&(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,x.jsx)(ht.Z,{pin:_,enableCloseupLink:!1})})]})}var zt=t(194480),Mt=t(572559),Lt=t(533451);function Zt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Gt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zt(Object(t),!0).forEach((function(n){Ut(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ut(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ft(e){var n=e.direction,t=e.swipeHandler,i=(0,d.ZP)(),r={left:i._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:i._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,x.jsx)(a.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===n,right:"right"===n,children:(0,x.jsx)(a.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,x.jsx)(a.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":"carousel-slider-".concat(n),children:(0,x.jsx)(a.JO,{accessibilityLabel:r[n],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[n]})})})})}function Ht(e){var n,t,i=e.pin,o=(0,H.v)().logContextEvent,l=(0,b.E)(),s=l.componentType,c=l.viewParameter,d=l.viewType,p=(0,r.useDispatch)(),_=(0,Mt.Z)({carouselData:i.carousel_data,images:i.images,product:null===(n=i.rich_metadata||i.rich_summary)||void 0===n||null===(t=n.products)||void 0===t?void 0:t[0]});if(!_)return null;var f=i.id,h=void 0===f?"":f,v=_.carousel_slots,y=void 0===v?[]:v,g=_.index,P=void 0===g?0:g,w=_.id;function S(e){return function(){var n="left"===e?P-1:P+1;!function(e,n){p((0,Lt.yR)(e,n))}(h,n),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;o({event_type:108,object_id_str:h,component:s,view_type:d,view_parameter:c,event_data:{pinCarouselSlotEventData:{carouselSlotId:y[e]&&Number(y[e].id),carouselDataId:Number(w),carouselSlotIndex:e,toCarouselSlotIndex:n}},aux_data:Gt({},(0,m.Kl)(i)||{})})}(P,n)}}return(0,x.jsxs)(a.xu,{height:"100%",position:"relative",width:"100%",children:[P>0&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(Ft,{direction:"left",swipeHandler:S("left")})}),P<y.length-1&&(0,x.jsx)(u.Z,{children:(0,x.jsx)(Ft,{direction:"right",swipeHandler:S("right")})})]})}function Vt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Wt(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.includes("visible")?"visible":n.includes("hidden")?"hidden":"none"}var Yt=t(911386),Xt={impressed:{backgroundColor:"#adebad"}},qt=function(){return void 0!==(0,Yt.Z)().debug_impression_log};function Kt(e){var n=e.debugImpressionState,t=void 0===n?"paused":n,i=e.slotIndex;return"paused"===t?null:(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:Xt.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,x.jsx)(a.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,x.jsx)(a.xv,{color:"inverse",children:(0,x.jsx)("span",{className:"deprecatedTextSizeXL",children:i})})})})}var Jt=t(520333),$t=t(126645);function Qt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ei(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ni=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],ti=14,ii=12,ri={allPins:{component:210,view_type:4,view_parameter:3106},board:{view_type:5,view_parameter:3069},created:{component:13668,view_type:4,view_parameter:3106}};function oi(e){var n,t=e.pinId,i=e.surface,r=(0,H.v)().logContextEvent,o=(0,d.ZP)(),l=function(){var e=ni.includes(i)?ri.created:"BaseBoardPinGrid"===i?ri.board:"UserProfilePinGrid"===i?ri.allPins:{};r(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qt(Object(t),!0).forEach((function(n){ei(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({event_type:101,element:10573},e))},s=o._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,x.jsx)(a.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:ni.includes(i)?(0,x.jsx)(a.ZP,{accessibilityLabel:o._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:"/pin/".concat(t,"/analytics"),onClick:l,size:"sm",text:(n=s,n.length>ti?"".concat(n.substring(0,ii).trim(),"..."):n)}):(0,x.jsx)(a.hU,{role:"link",accessibilityLabel:o._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:"/pin/".concat(t,"/analytics"),icon:"ads-stats",iconColor:"darkGray",onClick:l,size:"sm"})})}var ai=t(272270),li=t(176172),si=t(946543),ci=t(299402),di={SELECTED:"#000000",NOT_SELECTED:"#ffffff"},ui=3,pi=24;function _i(e){var n=e.selected,t=void 0!==n&&n,i=(0,d.ZP)(),r=(0,p.B)().isRTL;return(0,x.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new a.Ry(1),"data-test-id":"pinRepSelectionBorder",dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:t?di.SELECTED:di.NOT_SELECTED,borderRadius:li.Oc,boxShadow:t?"inset 0 0 0 3px #fff":void 0}},children:t?(0,x.jsx)(a.xu,{position:"absolute",bottom:!0,right:!r,left:r,display:"flex",alignItems:"center",justifyContent:"center",margin:ui,rounding:2,height:pi,width:pi,color:"dark",children:(0,x.jsx)(a.JO,{accessibilityLabel:i._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,x.jsx)(a.xu,{right:!r,left:r,position:"absolute",top:!0,margin:ui,children:(0,x.jsx)(a.JO,{accessibilityLabel:i._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:pi})})})}var fi={wrapper:{borderRadius:li.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:li.Dv.VISUAL},savedOverlay:{backgroundColor:li.Dv.SAVED},legoWashOverlay:{backgroundColor:li.Dv.LEGO_WASH}};function hi(e){var n=e.children,t=e.savedOverlayVisibility,i=void 0===t?"none":t,r=e.visualOverlayVisibility,o=void 0===r?"none":r,l=e.handleMouseOverPinContent,s=e.handleMouseLeavePinContent,c=e.primaryContent,d=e.primaryContentVisibility,u=void 0===d?"none":d,p=e.secondaryContent,_=e.secondaryContentVisibility,f=void 0===_?"none":_,h=e.accessoryContent,m=e.accessoryContentVisibility,v=void 0===m?"none":m,y=e.actionBar,g=e.actionBarVisibility,b=void 0===g?"none":g,P=e.seeStatsButton,w=e.footer,S=e.selectionState,O=void 0===S?"no-selection":S,j=e.debugContent,I=e.signalDebuggerContent,A=e.signalDebuggerV2Content,T=e.signalDebuggerV2ContentVisibility,E=void 0===T?"none":T,k=e.obscuredPinOverlay,R=e.showNoPinBorderRadius,C=e.showPromotedPinBorderTreatment,D=e.showLeadPinStdBeta,N=e.shouldUseLegoWash;return(0,x.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:C?fi.promotedPinBorderTreatment:{}},height:"100%","data-test-id":"pinRepPresentation",children:(0,x.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:R?{}:fi.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(O)&&(0,x.jsx)(_i,{selected:"selected"===O}),(0,x.jsxs)(a.xu,{"aria-hidden":Boolean(k),children:[(0,x.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:R?{}:fi.wrapper},overflow:"hidden",position:"relative",onFocus:l,onBlur:s,onMouseEnter:l,onMouseLeave:s,children:[n,(0,x.jsx)(ci.Z,{visibility:o,children:(0,x.jsx)(si.Z,{additionalStyles:N?fi.legoWashOverlay:fi.visualOverlay})}),(0,x.jsx)(ci.Z,{visibility:i,children:(0,x.jsx)(si.Z,{additionalStyles:N?fi.legoWashOverlay:fi.savedOverlay})}),h&&(0,x.jsx)(ci.Z,{visibility:v,children:(0,x.jsx)(si.Z,{children:h})}),p&&(0,x.jsx)(ci.Z,{visibility:f,children:(0,x.jsx)(si.Z,{children:p})}),c&&(0,x.jsx)(ci.Z,{visibility:u,children:(0,x.jsx)(si.Z,{children:c})}),A&&(0,x.jsx)(ci.Z,{visibility:E,children:(0,x.jsx)(si.Z,{children:(0,x.jsx)(a.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:A})})}),y&&(0,x.jsx)(ci.Z,{visibility:b,children:(0,x.jsx)(si.Z,{children:(0,x.jsx)(a.xu,{position:"absolute",left:!0,right:!0,bottom:!0,marginBottom:D?8:0,children:y})})}),P&&(0,x.jsx)(si.Z,{children:(0,x.jsx)(a.xu,{position:"absolute",bottom:!0,children:P})}),j&&(0,x.jsx)(si.Z,{children:j}),I]}),w]}),k&&(0,x.jsx)(a.xu,{children:k})]})})}function mi(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return vi(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vi(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vi(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var yi=60,gi=40,bi=60;function Pi(e){return e<yi+gi+bi?"header-only":"none"}function xi(e){var n,t,r,o=mi((0,i.useState)(e.current?Pi(e.current.clientHeight||0):"none"),2),a=o[0],l=o[1];return n=e,t=function(e){var n=Pi(e.height);n!==a&&l(n)},r=(0,i.useRef)(),(0,i.useEffect)((function(){var e=n.current;if(e){var i=r.current;i&&i.width===e.offsetWidth&&i.height===e.offsetHeight||(r.current={width:e.offsetWidth||0,height:e.offsetHeight||0},t&&t(r.current))}})),r.current,a}function wi(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Si(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Si(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var Oi=4e3;function ji(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Ii(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ii(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ii(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var Ai=t(795142);function Ti(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ei(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ti(Object(t),!0).forEach((function(n){ki(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ti(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ki(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Ri(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return Ci(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ci(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var Di=(0,i.memo)((function(e){var n,t,r,o=e.actionBarProps,l=e.blockClickEvents,s=e.borderStyle,d=e.currentlyPlayingVideo,_=e.disableHover,f=void 0!==_&&_,h=e.footerProps,m=e.impressionsDebuggerProps,v=e.obscuredPinOverlayProps,y=e.onError,g=e.onLoad,b=e.pin,P=e.pinVisualProps,w=e.presentationProps,S=e.primaryContentProps,O=e.rounding,j=e.secondaryContentProps,I=e.authDesktopSelectionState,A=e.showFooter,T=e.showImpressionsDebugger,E=e.showObscuredPinOverlay,k=e.showSeeStatsButton,R=e.showSignalDebugger,C=e.showUnavailablePin,D=e.surface,N=e.visibilityOverrides,B=e.imageHeightModifier,z=b.savedInfo,M=(0,nt.Yh)(Ai.ZF.includes(D)||(0,ai.Z)(D)).showEnabledSaveBehavior,L=Ri((0,i.useState)(!1),2),Z=L[0],U=L[1],F=(0,En.Z)(Z),H=function(){var e=ji((0,i.useState)(!1),2),n=e[0],t=e[1];return{isHovering:n,hoverTransitionState:(0,En.Z)(n,0,En.X),handleMouseOver:(0,i.useCallback)((function(){return t(!0)}),[t]),handleMouseLeave:(0,i.useCallback)((function(){return t(!1)}),[t])}}(),V=H.isHovering,W=H.hoverTransitionState,Y=H.handleMouseOver,X=H.handleMouseLeave;f&&(V=!1,W="inactive");var q,K=(0,En.Z)(!!z),J=Vt(K),$=Vt(W),Q=Vt(W),ee=Vt(F),ne=Vt(K),te=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(D),ie="visible"!==J||te?J:"none",re={primaryContentVisibility:null!==(n=N.primaryContent)&&void 0!==n?n:Wt(Q,ee,"visible"===ne?"none":ne),secondaryContentVisibility:(q=Wt(Q,ee,ne),"none"===q?"visible":"visible"===q?"none":"hidden"),actionBarVisibility:Wt(Q,ee),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"},oe=function(e){return U(e)},ae=null;"none"!==re.primaryContentVisibility&&(ae=(0,x.jsx)(lt,Ei({forcePrimaryContent:function(e){return U(e)},showEnabledSaveBehavior:M,onToggleFlyout:oe,onToggleModal:function(e){U(e),e||X()},pin:b},S)));var le,se=(0,i.useRef)(!0),ce=se.current;se.current=!1;var de=function(e,n,t){var r=wi((0,i.useState)(!e||t),2),o=r[0],a=r[1],l=(0,i.useRef)(n),s=(0,i.useRef)(null);if(e){var c=l.current;l.current=n,(n!==c||t)&&(s.current&&clearTimeout(s.current),a(!0),s.current=setTimeout((function(){a(!1),s.current=null}),Oi))}return(0,i.useEffect)((function(){return function(){s.current&&clearTimeout(s.current)}}),[]),o}(!!b.carousel_data,null===(t=b.carousel_data)||void 0===t?void 0:t.index,ce),ue=Vt((0,En.Z)(de));re.secondaryContentVisibility=null!==(r=N.secondaryContent)&&void 0!==r?r:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.includes("none")?"none":n.includes("hidden")?"hidden":"visible"}(re.secondaryContentVisibility,ue),le=(j.allowShoppingPriceIndicator||j.shoppingLabelColor||"none"!==re.secondaryContentVisibility)&&!d&&(0,x.jsx)(a.xu,{margin:2,children:(0,x.jsx)(zt.Z,Ei({pin:b},j))});var pe=null;"visible"===N.accessoryContent&&(pe=(0,x.jsx)(Ht,{pin:b}),re.accessoryContentVisibility=Vt(W));var _e=Ei({},o),fe=null;k&&(_e=Ei(Ei({},_e),{},{showSourceLinkButton:!1}),fe=(0,x.jsx)(u.Z,{children:(0,x.jsx)(oi,{pinId:b.id,surface:D})})),P.showLeadPinStdBeta&&(_e=Ei(Ei({},_e),{},{showSourceLinkButton:!1}));var he="visible"===N.actionBar?(0,x.jsx)(G,Ei({onToggleFlyout:oe,pin:b,setForcePrimary:U,surface:D},_e)):null,me=(0,p.B)().experimentsClient,ve=null;(A||(0,ai.Z)(D)&&!me.checkExperiment("dweb_image_only_product_pin_grid").anyEnabled&&!me.checkExperiment("dweb_image_only_product_pin_grid_new_user").anyEnabled)&&(ve=(0,x.jsx)($n,Ei({blockClickEvents:l,hoverTransitionState:"image-only-credit"===h.attributionType?W:null,pin:b,setForcePrimary:U,surface:D},h)));var ye=T&&(0,x.jsx)(Kt,Ei({},m)),ge=R&&b.debug_info_html&&(0,x.jsx)(a.xu,{paddingY:1,children:(0,x.jsx)("pre",{children:b.debug_info_html})}),be=(0,x.jsx)(Jt.Z,{pin:b}),Pe=(0,i.useRef)();"header-only"===xi(Pe)&&(re.actionBarVisibility="none",re.accessoryContentVisibility="none");var xe=E?(0,x.jsx)($t.ZP,Ei({pin:b},v)):null,we="ShoppingGridShippedMetadataWithVisitButton"===D?{height:"100%"}:{},Se=A&&"default"===h.attributionType&&Ai.ZF.includes(D),Oe=!b.is_promoted&&!f&&Se;return(0,x.jsx)(c.Z,{name:"PinRepContainer",children:(0,x.jsx)(a.xu,{"data-test-id":"pin","data-test-pin-id":b.id,onFocus:Y,onBlur:X,onMouseEnter:Y,onMouseLeave:X,dangerouslySetInlineStyle:{__style:we},rounding:"ConversationView"===D?O:void 0,borderStyle:"ConversationView"===D?s:"none",overflow:"ConversationView"===D?"hidden":"visible",children:(0,x.jsx)(hi,Ei(Ei({visualOverlayVisibility:$,savedOverlayVisibility:ie,handleMouseOverPinContent:Oe?Y:function(){},handleMouseLeavePinContent:Oe?X:function(){},primaryContent:ae,primaryContentVisibility:re.primaryContentVisibility,secondaryContent:le,secondaryContentVisibility:re.secondaryContentVisibility,accessoryContent:pe,accessoryContentVisibility:re.accessoryContentVisibility,actionBar:he,actionBarVisibility:re.actionBarVisibility,seeStatsButton:fe,footer:ve,selectionState:I,debugContent:ye,signalDebuggerV2Content:be,signalDebuggerV2ContentVisibility:re.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:xe},w),{},{children:(0,x.jsx)(a.xu,{height:"100%",ref:Pe,children:(0,x.jsx)(Bt,Ei({blockClickEvents:l,showUnavailablePin:C,isHovering:V,onError:y,onLoad:g,pin:b,surface:D,selectionState:I,imageHeightModifier:B},P))})}))})})})),Ni=t(650414),Bi=t(525571),zi=t(5342),Mi=t(988014),Li=t(427370),Zi=t(997394),Gi=t(329689),Ui=t(384722),Fi=t(886365),Hi=t(55350),Vi=t(898252);function Wi(e){var n=e.isGroupBoard,t=e.surface,i=e.gridTitle,r=e.hasRichSummary,o=e.hasCarouselData,a=e.richSummaryTypeName,l=e.richSummaryDisplayName,s=e.title,c=e.hasPromoter,d=e.isDownstreamPromotion,u=e.pinAccess,p=e.carouselSlotsTitle,_=!(null==u||!u.includes("write")),f=c&&!d;return o&&p?p.trim():f?Ai.ZF.includes(t)?i||"":(!_||n||o||"UserProfilePinGrid"===t)&&(s||r&&"mobile application"!==a&&l||i)||"":i||""}var Yi=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"],Xi=function(e){var n=e.surface,t=e.isORBACProfileManager,i=e.isORBACGA,r=e.isRemovable;return"CloseupRelatedProducts"!==n&&!r&&(!t||(null==i||i))};var qi=t(341027),Ki=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function Ji(e){var n,t,i,r,o,a,l=e.attributionOption,s=e.board,c=e.contentType,d=e.experimentsClient,u=e.feedbackData,p=e.feedbackType,_=e.hasCarouselData,f=e.isGroupBoard,h=e.isORBACProfileManager,m=e.isOwnBoard,v=e.pin,y=e.showImageOnly,g=e.showNativeReactions,b=e.showPromotedShoppingPrice,P=e.surface,x=e.viewer,w=e.variantData,S=!!v.promoter&&!v.is_downstream_promotion,O=!!v.sponsorship,j=v.pin_note,I=v.is_downstream_promotion,A=v.native_creator,T=v.promoter,E=v.sponsorship,k=v.is_eligible_for_pdp,R=function(e){var n=e.attributionOption,t=e.feedbackType,i=e.isEligibleForPdp,r=e.isGroupBoard,o=e.showImageOnly,a=e.surface,l=e.alwaysHideAttrOnProducts,s=e.isDownstreamPromotion,c=e.hasNativeCreator,d=e.hasPromoter,u=e.hasSponsorship,p=e.storyPinDataId;if("promoted"===t||d&&!s||u)return"default";if("ConversationView"!==a&&Ki.includes(a))return"none";if(r)return"none";if(l&&i)return"none";var _="default";return"SearchItem"===a&&p?_:(n&&("image-only"===n?_="image-only-credit":"hide"===n&&(_="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(a)&&"hide"===n?_:"TodayArticleFeed"===a&&"show"===n?"show-for-claimed-content":c?"default":"none":_)}({attributionOption:l,feedbackType:p,isEligibleForPdp:!!k,isGroupBoard:f,showImageOnly:y,surface:P,alwaysHideAttrOnProducts:!!(!("promoted"===p||T&&!I||E)&&k&&A)&&d.checkExperiment("web_hide_product_attribution").anyEnabled,isDownstreamPromotion:v.is_downstream_promotion,hasNativeCreator:!!v.native_creator,hasPromoter:!!v.promoter,hasSponsorship:!!v.sponsorship,storyPinDataId:v.story_pin_data_id}),C=(null===(n=v.carousel_data)||void 0===n?void 0:n.index)||0,D=null!=w&&w.title?w.title:Wi({isGroupBoard:f,surface:P,gridTitle:v.grid_title,hasRichSummary:!!v.rich_summary,hasCarouselData:!!v.carousel_data,richSummaryTypeName:null===(t=v.rich_summary)||void 0===t?void 0:t.type_name,richSummaryDisplayName:null===(i=v.rich_summary)||void 0===i?void 0:i.display_name,title:v.title,hasPromoter:!!v.promoter,isDownstreamPromotion:v.is_downstream_promotion,pinAccess:v.access,carouselSlotsTitle:null===(r=v.carousel_data)||void 0===r||null===(o=r.carousel_slots)||void 0===o?void 0:o[C].title}),N=y?"":D,B=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(P)&&!S&&!y&&Boolean((0,Ge.Z)(v,P)),z=["ShoppingGridShippedMetadataWithVisitButton"].includes(P),M="BaseBoardPinGrid"===P&&j?null===(a=j.text)||void 0===a?void 0:a.trim():null;!M&&v.unified_user_note&&(M=v.unified_user_note.trim());var L,Z,G,U=S,F="shopping"===c,H=!0;"AuthHomefeed"!==P||S||(g=!1,H=!(null!==(L=((null===(Z=v.rich_summary)||void 0===Z||null===(G=Z.products)||void 0===G?void 0:G[0])||{}).brand)&&void 0!==L&&L.name));var V,W,Y,X,q=2;if(S?q=3:(B||"none"!==R)&&(q=F?2:1),F||b){var K,J,$=((null===(K=v.rich_summary)||void 0===K||null===(J=K.products)||void 0===J?void 0:J[0])||{}).offer_summary;V=$?$.standard_price:void 0,W=$?(0,qi.Z)({maxPrice:$.max_price,minPrice:$.min_price,price:$.price}):void 0}if(w){var Q=w.offerSummary;V=Q?Q.standard_price:void 0,W=Q?Q.price||Q.max_price:void 0}if(F&&!S){var ee,ne,te,ie=(null===(ee=v.rich_summary)||void 0===ee?void 0:ee.aggregate_rating)||{},re=ie.rating_count,oe=ie.rating_value,ae=ie.review_count;(re||ae)&&parseFloat(oe)&&(Y={count:re||ae,rating:oe}),X=null===(ne=v.rich_metadata)||void 0===ne||null===(te=ne.products)||void 0===te?void 0:te[0].shipping_info}var le=(0,Li.rh)(v,x,d),se="CreatorProfileStoryPinGrid"===P||"CreatorProfileActivityPinGrid"===P,ce=!se,de=f&&!O;return{attributionType:R,board:s,contentType:c,feedbackData:u,feedbackType:p,pinNoteText:M,pinTitle:N,productCurrentPrice:W,productOriginalPrice:V,productRating:Y,productShipping:X,showCarouselEllipsis:_,showFavoriteButton:!h&&("BaseBoardPinGrid"===P&&m||Boolean((null==s?void 0:s.is_collaborative)&&(0,pn.Z)({board:s,viewer:x})))&&!se,showGroupBoardAvatar:de,showNativeReactions:g,showOverflowMenu:U,showPinStats:le,showSource:B,showTextContent:ce,showVisitSiteButton:z,showAttribution:H,titleLines:q}}var $i=424,Qi=278,er=640,nr=508,tr=t(963375),ir=t(860438),rr=t(736567),or=t(619277);var ar=["ShoppingCatalogsProductsMetadata"];var lr=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],sr=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var cr=t(336331),dr=t(159262),ur=t(838419),pr=t(548802),_r=t(107877),fr=t(712968),hr=["attributionOption","blockClickEvents","debugImpressionState","disableReaction","feedback","imageOnlyOption","pin","pinId","pinImageCrop","pinImageFit","resolution","saveButtonOptions","authDesktopSurface","trackingParameters"];function mr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function vr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mr(Object(t),!0).forEach((function(n){yr(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function yr(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function gr(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function br(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var Pr,xr=(0,i.lazy)((function(){return Promise.all([t.e(97270),t.e(92982)]).then(t.bind(t,336020))})),wr=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Sr=["BaseBoardPinGrid","UserProfilePinGrid"].concat(function(e){if(Array.isArray(e))return br(e)}(Pr=ni)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(Pr)||function(e,n){if(e){if("string"==typeof e)return br(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?br(e,n):void 0}}(Pr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());function Or(e){var n,t,a,d,u,p,f,h,m,v,y,g,P,w,S,O=e.attributionOption,j=e.blockClickEvents,I=e.debugImpressionState,A=e.disableReaction,T=e.feedback,E=e.imageOnlyOption,k=void 0===E?"default":E,R=e.pin,C=e.pinId,D=e.pinImageCrop,N=e.pinImageFit,B=e.resolution,z=void 0===B?"default":B,M=e.saveButtonOptions,L=e.authDesktopSurface,Z=e.trackingParameters,G=gr(e,hr),U=(0,oe.S6)()(C)||R,H=null!==(n=null===(t=U.board)||void 0===t?void 0:t.id)&&void 0!==n?n:"",V=(0,_r.gC)()(H)||U.board;U.grid_title=U.grid_title||R.grid_title;var Y=(0,re.F)(),X=Y.checkExperiment,q=V||{},K=q.collaborated_by_me,J=q.collaborator_count,$=q.is_collaborative,Q=U.is_quick_promotable,ee=U.pinner,ne=U.showFeedback,te=U.sponsorship,ie=!!U.promoter&&!U.is_downstream_promotion,ae=!!U.promoted_is_removable,le=(0,W.Z)(),se=(0,Gi.Z)(),ce=X("web_m10n_business_access_orbac_www").anyEnabled,de=X("web_m10n_business_access_orbac_ga").anyEnabled,ue=de?(0,Ui.lJ)(le,se):"",pe=(0,o.useLocation)(),_e=Z.slotIndex,fe=Z.viewParameter,he=["AuthHomefeed","BaseBoardPinGrid"].includes(L)&&X("web_repin_flow").anyEnabled,me=(0,pr.x)(),ve=(0,Ni.P)()||le.isEligibleForImageOnlyGrid&&X("dweb_ssr_simplified_pin_grid_experience").anyEnabled,ye=(0,Fi.I)().appUI.videosAutoplaying,ge=(0,Zi.Z)(U.id,ye),be=(0,r.useSelector)((function(e){return e.changeBoardFromToast}))||{},Pe=((((null===(a=U.rich_metadata)||void 0===a?void 0:a.products)||[])[0]||{}).additional_images||[]).length>0,xe=!(null===(d=U.carousel_data)||void 0===d||!d.id),we=le.isAuth&&le.isEmployee,Se=le.isAuth&&((0,Bi.Z)(le.createdAt)||(0,zi.Z)(null,le))&&!le.isPartner,Oe=Se;"TodayArticleFeed"===L&&(Oe=!1),"default"!==k&&(Oe="image-only"===k),(0,ai.Z)(L)&&(Oe=!1),"ShoppingSquareGridDomainNoMetadata"===L&&(Oe=!0);var je=O;(Se&&!je||ve)&&(je="image-only");var Ie=(0,dr.Z)({feedbackType:null==T?void 0:T.type,viewParameter:fe,boardFollowedByMe:!(null===(u=U.board)||void 0===u||!u.followed_by_me),hasPromoter:!!U.promoter,isDownstreamPromotion:!!U.is_downstream_promotion,pinnerFollowedByMe:!(null===(p=U.pinner)||void 0===p||!p.explicitly_followed_by_me),hasRecommendationReason:!!U.recommendation_reason,recommendationReasonReason:null!==(f=null===(h=U.recommendation_reason)||void 0===h?void 0:h.reason)&&void 0!==f?f:void 0,recommendationReasonHasBoard:!(null===(m=U.recommendation_reason)||void 0===m||!m.board)}),Ae=(T||{}).data,Te="number"==typeof J&&J>0||$,Ee=!1;"OtherProfilePinGrid"===L?Ee=!0:"BaseBoardPinGrid"===L?Ee="dense"===(null==me?void 0:me.boardPinDensity):"UserProfilePinGrid"===L&&(Ee="dense"===(null==me?void 0:me.profilePinDensity));var ke=Boolean(Te&&"BaseBoardPinGrid"===L),Re=(0,ur.Z)(),Ce=(0,fr.kW)(),De=Ce&&Ce[null!==(v=null===(y=Re.data)||void 0===y?void 0:y.id)&&void 0!==v?v:""]?Ce[null!==(g=null===(P=Re.data)||void 0===P?void 0:P.id)&&void 0!==g?g:""]:Re.data,Ne=(0,F.Z)(le,V),Be=!1;if(!!(0,o.matchPath)(pe.pathname,{path:"/:username/_created/",exact:!0}))Be=(0,Ui.q6)(le,null==De?void 0:De.id,se);else if((0,Mi.am)(pe)||(0,Mi.OJ)(pe)){var ze=V&&V.owner&&V.owner.id||"";Be=(0,Ui.q6)(le,ze,se)}var Me,Le=Boolean(le.isAuth&&ee&&ee.id===le.id),Ze=Boolean(K||Te&&Ne),Ge=le.isAuth&&le.isPartner,Ue=!(null===(w=U.story_pin_data)||void 0===w||!w.is_deleted),Fe=(0,i.useMemo)((function(){return function(e){var n=e.hasCarouselData,t=e.isDeletedStoryPin,i=e.surface,r={primaryContent:null,secondaryContent:null,actionBar:sr.includes(i)||t?"none":"visible",accessoryContent:n?"visible":"none"};return t||lr.includes(i)?(r.primaryContent="none",r.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(r.primaryContent="visible"),r}({hasCarouselData:xe,isDeletedStoryPin:Ue,surface:L})}),[xe,Ue,L]),He=(0,i.useMemo)((function(){return function(e){var n=e.board,t=e.isDenseView,i=e.isGroupBoard,r=e.isInlineBetterSave,o=e.isOwnBoard,a=e.isORBACProfileManager,l=e.isQuickPromotable,s=e.isRemovable,c=e.saveButtonOptions,d=e.surface,u=e.viewer,p=e.viewerIsCollaborator,_=u.isAuth?u.boardCount:void 0,f=c||function(){return 0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)?{type:"classic"}:{type:"inline"}}(_);l?f={type:"promote"}:(p||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?f={type:"classic"}:(p||o)&&["BaseBoardPinGrid"].includes(d)&&null!=n&&n.name&&n.url&&n.id&&(f={type:"inline",initialSelection:{title:n.name,boardId:n.id,url:n.url}});return r&&(f={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(s||ar.includes(d)||a)&&(f={type:"none"}),{board:n,derivedSaveButtonOptions:f,showLikeButton:p&&i&&Ai.UP.includes(d),supportsReactionBar:!t}}({board:V,isInlineBetterSave:he,isDenseView:Ee,isGroupBoard:ke,isOwnBoard:Ne,isOwnPin:Le,isORBACProfileManager:Be,isQuickPromotable:Q,isRemovable:ae,saveButtonOptions:M,surface:L,viewer:le,viewerIsCollaborator:Ze})}),[V,he,Ee,ke,Ne,Le,Be,Q,ae,M,L,le,Ze]);[].concat(["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"]).includes(L)&&!ie&&(Me="white");var Ve=(0,i.useMemo)((function(){return function(e){var n=e.allowProductCarousel,t=void 0!==n&&n,i=e.shoppingLabelColor,r=e.surface;return{allowProductCarousel:t,allowShoppingPriceIndicator:Ai.Wv.includes(r),shoppingLabelColor:i}}({allowProductCarousel:Pe,shoppingLabelColor:Me,surface:L})}),[Pe,Me,L]),We=(0,i.useMemo)((function(){return function(e){var n,t,i,r,o,a,l,s=e.board,c=e.feedbackData,d=e.feedbackType,u=e.isDenseView,p=e.isGroupBoard,_=e.isOwnBoard,f=e.isORBACProfileManager,h=e.isORBACBeta,m=e.isORBACGA,v=e.pin,y=e.isRemovable,g=e.surface,b=e.viewer,P=!(null===(n=v.access)||void 0===n||!n.includes("write")),x=!!v.promoter&&!v.is_downstream_promotion,w=(null===(t=v.carousel_data)||void 0===t?void 0:t.index)||0,S=Wi({isGroupBoard:p,surface:g,gridTitle:v.grid_title,hasRichSummary:!!v.rich_summary,hasCarouselData:!!v.carousel_data,richSummaryTypeName:null===(i=v.rich_summary)||void 0===i?void 0:i.type_name,richSummaryDisplayName:null===(r=v.rich_summary)||void 0===r?void 0:r.display_name,title:v.title,hasPromoter:!!v.promoter,isDownstreamPromotion:v.is_downstream_promotion,pinAccess:v.access,carouselSlotsTitle:null===(o=v.carousel_data)||void 0===o||null===(a=o.carousel_slots)||void 0===a?void 0:a[w].title}),O=s&&(0,Hi.Z)({action:4,board:s,viewer:b})||P,j=v.savedInfo&&v.savedInfo.localPinId,I=Boolean(_&&!p||"UserProfilePinGrid"===g&&O||j),A=Boolean(p&&O||I||f&&(!(0,Vi.hy)(v.story_pin_data_id)||h)),T=Boolean((null==s?void 0:s.is_collaborative)||I),E=!(x||_||p||Yi.includes(g)||f),k=Xi({surface:g,isORBACProfileManager:f,isORBACGA:m,isRemovable:y}),R=v.tracked_link,C=v.link,D=!(null===(l=null!=R?R:C)||void 0===l||!l),N=p&&u?"equally-spaced":"default",B="default";return u&&(B=p?"icon-only":"truncated-text"),u&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(g)&&(B="icon-only",N="equally-spaced"),{actionBarEditBeforeShare:T,feedbackData:c,feedbackType:d,layout:N,pinTitle:S,showEditButton:A,showOverflowMenu:E,showShareButton:k,showSourceLinkButton:D,sourceLinkStyle:B}}({board:V,feedbackData:Ae,feedbackType:Ie,isDenseView:Ee,isGroupBoard:ke,isOwnBoard:Ne,isORBACProfileManager:Be,isORBACBeta:ce,isORBACGA:de,isRemovable:ae,pin:U,surface:L,viewer:le})}),[V,Ae,Ie,Ee,ke,Ne,Be,ce,de,ae,U,L,le]),Ye=!1;U.story_pin_data&&!le.isPartner&&(Ye=X("web_auth_remove_pinner_pinstats").anyEnabled);var Xe=!Ye&&(0,Li.rh)(U,le,Y,ue)&&Sr.includes(L)&&(Le||de&&Be),qe=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes(L),Ke=!ie&&qe?"shopping":"standard",Je=(A||"CreatorProfileStoryPinGrid"!==L||Le)&&(0,an.J6)({board:U.board&&{isCollaborative:U.board.is_collaborative,collaboratedByMe:U.board.collaborated_by_me},videos:U.videos&&U.videos.id?{entityId:U.videos.id}:null,isDownstreamPromotion:U.is_downstream_promotion,isPromoted:U.is_promoted,storyPinDataId:U.story_pin_data_id},Ue),$e=(0,Zn.Xx)();Je=!ve&&Je;var Qe=(0,i.useMemo)((function(){return Ji({attributionOption:je,board:V,contentType:Ke,experimentsClient:Y,feedbackData:Ae,feedbackType:Ie,hasCarouselData:xe,isGroupBoard:ke,isORBACProfileManager:Be,isOwnBoard:Ne,pin:U,showImageOnly:Oe,showNativeReactions:Je,showPromotedShoppingPrice:ie&&qe,surface:L,viewer:le,variantData:$e})}),[je,V,Ke,Y,Ae,Ie,xe,ke,Be,Ne,ie,qe,U,Oe,Je,L,le,$e]),en=!!U.story_pin_data_id,nn=U.created_at?new Date(U.created_at):null,tn=(0,s.pN)({isOwnPin:Le,isStoryPin:en,pinCreationDate:nn,surface:L});Ye&&(Qe.showPinStats=!1);var rn=Boolean(Qe.pinTitle||Qe.contentType||Qe.userNote||Qe.showSource||"none"!==Qe.attributionType||Qe.showNativeReactions||Qe.productCurrentPrice||Qe.productOriginalPrice||Qe.showPinStats)||ke;"BaseBoardPinGrid"===L&&Ne&&Ge||te?rn=!0:wr.includes(L)||Ee&&(Ne||K)?rn=!1:Le||"CreatorProfileStoryPinGrid"!==L&&"CreatorProfileActivityPinGrid"!==L||(rn=!1),!ve||ie||te||(rn=!1);var on=Boolean(ne),ln=(0,l.Z)({promotedIsLeadAd:!!U.promoted_is_lead_ad}).showLeadPinStdBeta,sn={showNoPinBorderRadius:"TopicBestPinNarrow"===L||"TopicBestPinWide"===L||"ConversationView"===L,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===L&&ie,shouldUseLegoWash:!0,showLeadPinStdBeta:ln},cn={feedbackType:Ie},dn=X("ads_desktop_video_ads",{dangerouslySkipActivation:!0}).anyEnabled,un=(0,i.useMemo)((function(){return function(e){var n=e.hasCarouselData,t=e.isDenseView,i=e.pinImageCrop,r=e.pinImageFit,o=e.resolution,a=e.showPromotedVideos,l=e.showLeadPinStdBeta,s=e.surface,c=Ai.zl.includes(s),d="backend";"CloseupRelatedProducts"===s?d={height:tr.GZ,width:tr.OE}:"TopicBestPinWide"===s?d={height:$i,width:Qi}:"TopicBestPinNarrow"===s?d={height:er,width:nr}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(s)||c?d={height:tr.zX,width:tr.zX}:i&&(d=i);var u="none",p=null!=o?o:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingDynamicHeightGrid"===s&&!r||"ShoppingSquareGridDomainNoMetadata"===s)&&(u="contain",p="high-res"));var _=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(s)?"transparent":"dominant",f=(0,rr.e)(s);return{autoplaySettingOff:"undefined"!=typeof window&&0===ir.Z.getItem(or._e),fallbackColor:_,imageFit:u,isDenseView:t,resolution:p,rootMargin:f,pinImageCrop:d,showCarousel:n&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(s),showPromotedVideos:a,showLeadPinStdBeta:l}}({hasCarouselData:xe,isDenseView:Ee,isPromoted:ie,pinImageCrop:D,pinImageFit:N,resolution:z,showPromotedVideos:dn,showLeadPinStdBeta:ln,surface:L})}),[xe,Ee,ie,D,N,z,dn,ln,L]),pn=we&&qt(),_n=(0,i.useMemo)((function(){return{debugImpressionState:I,slotIndex:_e}}),[I,_e]),fn=(0,i.useMemo)((function(){return{surface:L}}),[L]);return(0,x.jsx)(c.Z,{name:"PinRepConfiguration",children:(0,x.jsx)(b.B,{value:Z,children:(0,x.jsxs)(cr.B,{value:fn,children:[(0,x.jsx)(Di,vr({actionBarProps:We,blockClickEvents:j,currentlyPlayingVideo:ge,footerProps:Qe,impressionsDebuggerProps:_n,obscuredPinOverlayProps:cn,pin:U,pinVisualProps:un,presentationProps:sn,primaryContentProps:He,secondaryContentProps:Ve,showFooter:rn||tn,showImpressionsDebugger:pn,showObscuredPinOverlay:on,showSeeStatsButton:Xe,showSignalDebugger:we,showUnavailablePin:Ue,surface:L,visibilityOverrides:Fe},G)),be.shouldOpenModal&&be.newPin&&(null===(S=be.originalPin)||void 0===S?void 0:S.id)===U.id&&(0,x.jsx)(c.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,x.jsx)(_.Z,{children:(0,x.jsx)(xr,{experience:be.experience,newPin:be.newPin})})})]})})})}},661900:function(e,n,t){"use strict";var i=t(245410);n.Z=function(e){var n=e.promotedIsLeadAd,t=(0,i.F)().checkExperiment;return{showLeadPinStdBeta:!!n&&t("web_lead_ads_std_beta").anyEnabled,showLeadPinStdAlpha:!!n&&t("web_lead_gen_ads").anyEnabled}}},759034:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var i=t(249444),r=t(830074),o=t(105848),a=t(458870),l=t(389282);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(e){var n=e.count,t=e.countFormat,s=e.ratingValue,c=e.shippingInfo;return(0,l.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,l.jsx)(o.Z,{count:n,countFormat:t,rating:s,textSize:"200"}),(0,l.jsx)(i.xu,{marginTop:(0,a.Z)({count:n,rating:s})?1:0,children:(0,l.jsx)(r.Z,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==c?void 0:c.free_shipping_price,freeShippingValue:null==c?void 0:c.free_shipping_value})})]})},p=function(e){var n=e.clickthroughFn,t=e.count,s=e.countType,c=e.countFormat,d=e.hideSeparationDot,u=e.bracket,p=e.ratingValue,_=e.shippingInfo,f=!1===e.shipsToUserCountry;return(0,l.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,l.jsx)(o.Z,{bracket:u,count:t,countFormat:c,countType:s,rating:p,textSize:"300"}),(0,l.jsx)(i.xu,{marginStart:(0,a.Z)({count:t,rating:p})&&d?2:0,children:(0,l.jsx)(r.Z,{clickthroughFn:n,customStyles:{color:"default",size:"300"},showPrevDot:(0,a.Z)({count:t,rating:p})&&!d,freeShippingPrice:null==_?void 0:_.free_shipping_price,freeShippingValue:null==_?void 0:_.free_shipping_value,showShippingCountryDisclaimer:f})})]})};function _(e){return e.isGridView?(0,l.jsx)(u,c({},e)):(0,l.jsx)(p,c({},e))}},374749:function(e,n,t){"use strict";function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}t.d(n,{Kl:function(){return d},Sn:function(){return c},Zs:function(){return s}});var s=function(e,n){var t,i,l,s,c,d,u,p,_,f,h,m,v,y=Symbol("SKIP");return v=r(r({},e.is_eligible_for_pdp_plus||e.is_eligible_for_pdp||e.is_oos_product||e.is_stale_product?r(r({},function(){var t,i,r,o,a,l,s,c,d,u,p,_,f,h,m,v=null===(t=e.rich_metadata||e.rich_summary)||void 0===t||null===(i=t.products)||void 0===i?void 0:i[0],g=null!=v&&null!==(r=v.additional_images)&&void 0!==r&&r.length?{imageCount:(e.images?1:0)+v.additional_images.length,imageIndex:(null===(o=e.carousel_data)||void 0===o?void 0:o.index)||0}:e.carousel_data&&{imageCount:null===(a=e.carousel_data.carousel_slots)||void 0===a?void 0:a.length,imageIndex:e.carousel_data.index};if(!n)return g?{image_count:g.imageCount,image_index:g.imageIndex}:{};var b=null===(l=e.rich_metadata)||void 0===l||null===(s=l.products)||void 0===s?void 0:s[0],P=null!==(c=null==b||null===(d=b.variant_set)||void 0===d?void 0:d.variants)&&void 0!==c?c:[];return{is_pdpplus:!0,carousel_image_count:g?g.imageCount:y,brand_signature:(null==b||null===(u=b.brand)||void 0===u?void 0:u.signature)||y,free_shipping_price:(null==b||null===(p=b.shipping_info)||void 0===p?void 0:p.free_shipping_price)||y,free_shipping_value:(null==b||null===(_=b.shipping_info)||void 0===_?void 0:_.free_shipping_value)||y,num_variants:P.length||y,total_dimension_option_count:(null==b||null===(f=b.variant_set)||void 0===f||null===(h=f.dimension_metadata)||void 0===h?void 0:h.length)||y,valid_dimension_option_count:((null==b||null===(m=b.variant_set)||void 0===m?void 0:m.dimension_metadata)||[]).reduce((function(e,n){var t=n.name,i=n.values;return e+(t&&i||[]).filter((function(e){return P.some((function(n){var i;return(null===(i=n.dimensions)||void 0===i?void 0:i[null!=t?t:""])===e}))})).length}),0)||y}}()),{},{pin_show_pdp_oos:!!e.is_oos_product||y,pin_show_pdp_stale:!!e.is_stale_product||y,pin_show_pdp:!!e.is_eligible_for_pdp||y}):{}),{},{pin_is_shop_the_look:!!(null!==(t=e.shopping_flags)&&void 0!==t&&t.includes(2)||null!==(i=e.aggregated_pin_data)&&void 0!==i&&i.is_shop_the_look)||y,is_available:!(null===(l=e.shopping_flags)||void 0===l||!l.includes(1))||y,is_product_pin_v2:!(null===(s=e.shopping_flags)||void 0===s||!s.includes(5))||y,is_rich_product_pin:!(null===(c=e.shopping_flags)||void 0===c||!c.includes(6))||y,is_organic_product_carousel:!!(null!==(d=e.shopping_flags)&&void 0!==d&&d.includes(10)||((null===(u=e.product_pin_data)||void 0===u||null===(p=u.items)||void 0===p?void 0:p[0])||{}).additional_images)||y,item_id:((null===(_=e.rich_summary)||void 0===_||null===(f=_.products)||void 0===f?void 0:f[0])||{}).item_id||y,item_set_id:((null===(h=e.rich_summary)||void 0===h||null===(m=h.products)||void 0===m?void 0:m[0])||{}).item_set_id||y,story_pin_id:e.story_pin_data?e.story_pin_data_id:y}),Object.entries(v).filter((function(e){return a(e,2)[1]!==y})).reduce((function(e,n){var t=a(n,2),i=t[0],l=t[1];return r(r({},e),{},o({},i,l))}),{})};function c(e){var n=JSON.stringify(e);return"{}"!==n?{commerce_data:n}:null}var d=function(e,n){var t;return e?c(r(r({},null==n||null===(t=n.contextLogData)||void 0===t?void 0:t.commerce_data),s(e,null==n?void 0:n.isPdpPlus))):null}},589845:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var i=t(658379),r=t(867221),o=t(946618),a=t(310561);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var d=t(374749),u=t(388011),p=t(970588),_=t(898252),f=t(385075),h=t(389282);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){y(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function P(e){var n,t,l,c,m,y,b,P,x=e.children,w=e.hovered,S=e.pin,O=e.slotIndex,j=e.trafficSource,I=e.viewType,A=(0,u.v)().logContextEvent,T=g((0,i.useState)(),2),E=T[0],k=T[1],R=g((0,i.useState)(),2),C=R[0],D=R[1],N=S.id,B=S.tracked_link,z=S.link,M=B||z||"",L=function(){k(!0)},Z=(y={boardUrl:null===(n=S.board)||void 0===n?void 0:n.url,pinId:S.id,pinnerUserName:null===(t=S.pinner)||void 0===t?void 0:t.username,storyPinDataId:S.story_pin_data_id,trackingParams:S.tracking_params,trackingParamsMap:S.tracking_params_map},b=(0,r.useLocation)(),P=(0,a.Hv)().previous,(0,o.Z)(s(s({},y),{},{location:b,previousHistory:P}))),G=(0,f.Z)({hasPin:!!S,hasPinRichMetadata:!(null==S||!S.rich_metadata),hasPinRichMetadataProducts:!(null==S||null===(l=S.rich_metadata)||void 0===l||!l.products),hasPinRichMetadataArticle:!(null==S||null===(c=S.rich_metadata)||void 0===c||!c.article),hasPinRichMetadataRecipe:!(null==S||null===(m=S.rich_metadata)||void 0===m||!m.recipe),hasPinStoryPinData:!(null==S||!S.story_pin_data)}),U=(0,i.useCallback)((function(){(0,p.Z)({url:"/v3/offsite/",data:{check_only:!1,pin_id:S.id,url:M,client_tracking_params:Z,aux_data:JSON.stringify(v(v({clickthrough_type:"rightClick",objectId:N},O||{}),(0,d.Kl)(S)||{}))}}).then((function(e){e&&(A({event_type:12,object_id_str:N,view_type:I,view_parameter:G,aux_data:v(v({clickthrough_type:"rightClick"},O||{}),(0,d.Kl)(S)||{})}),A({event_type:8948,view_type:I,object_id_str:N,view_parameter:G,aux_data:v(v({click_type:"clickthrough",closeup_navigation_type:j&&(0,_.sV)(j)?"deeplink":"click",clickthrough_type:"rightClick"},O||{}),(0,d.Kl)(S)||{})}))}))})),F=function e(n){var t;E&&(/^\/pin/.test(null===(t=n.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(U(),k(!1)),window.removeEventListener(C,e,!1))};return(0,i.useEffect)((function(){var e,n,t,i,r,o;void 0!==(null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.hidden)?D("visibilitychange"):void 0!==(null===(t=window)||void 0===t||null===(i=t.document)||void 0===i?void 0:i.msHidden)?D("msvisibilitychange"):void 0!==(null===(r=window)||void 0===r||null===(o=r.document)||void 0===o?void 0:o.webkitHidden)&&D("webkitvisibilitychange")}),[]),(0,i.useEffect)((function(){return E&&window&&window.addEventListener(C,F,!1),function(){return window.removeEventListener(C,F)}}),[E,C]),(0,i.useEffect)((function(){return w&&window.addEventListener("contextmenu",L),function(){window.removeEventListener("contextmenu",L)}}),[w]),(0,h.jsx)(i.Fragment,{children:x})}},869805:function(e,n,t){"use strict";t.d(n,{Z:function(){return u},v:function(){return c}});var i=t(40660),r=t(457628),o=t(791045);var a=t(469093),l=t(98736),s=t(782219),c=function(e){var n=e.userAgent;if(!n.isMobile&&!n.isTablet)return"desktop";switch(n.platform){case s.RL:return"iphone";case s.GW:return n.isTablet?"android_tablet":"android";case s.s4:return"ipad";default:return"mobile_other"}},d=function(e){var n=e.moduleName,t=e.pageType,s=e.requestContext,d=e.route,u=c(s),p=s.isAuthenticated?"auth":"unauth",_=function(){var e=navigator&&navigator.userAgent.toLowerCase();if(e){if(e.indexOf("googlebot")>-1||e.indexOf("google web preview")>-1||e.indexOf("google page speed insights")>-1)return"google_bot";if(e.indexOf("msnbot")>-1||e.indexOf("bingbot")>-1)return"ms_bot";if(e.indexOf("applebot")>-1)return"apple_bot";if(e.indexOf("yahoo")>-1||e.indexOf("slurp")>-1)return"yahoo_bot";if(e.indexOf("yandex")>-1)return"yandex"}}(),f=(0,a.Z)(),h=function(){var e=!1;return r.U2(o.VL)||(r.t8(o.VL,"1",(0,r.kZ)(o.VL)),e=!0),e}(),m=document.domain||"unknown";h&&((0,l.My)("traffic.".concat(u,".").concat(f,".").concat(n,".").concat(p)),(0,l.My)("traffic_subdomain.".concat(m,".").concat(f,".").concat(n,".").concat(p)),(0,l.My)("traffic_subdomain.".concat(m,".").concat(u,".").concat(f,".").concat(n,".").concat(p)),(0,l.My)("traffic_subdomain.".concat(m,".").concat(u,".").concat(p)),(0,l.My)("traffic_duplo.".concat(u,".").concat(f,".").concat(n,".").concat(p)),_&&(0,l.My)("traffic_bot.".concat(_,".").concat(n)));i.Z.increment("webapp.traffic",.1,{domain:m,isAuth:p,pageType:t,userAgentPlatform:u,botType:_,firstVisit:h,moduleName:n,referrer:f,route:d})};function u(e){var n=e.pageType,t=e.requestContext,i=e.route;d({moduleName:{"/":"HomePage","/login":"LoginPage","/pin/:id":"Closeup","/:username":"ProfilePage","/:username/:slug":"BoardPage","/topics/:interest":"TopicPage","/today":"TodayTabPage","/today/:term/:title/:articleId":"TodayArticleFeedPage","/ideas":"IdeasRootPage","/ideas/:interest/:id":"IdeasPage","/videos":"VideosRootPage","/videos/:category/:id":"VideosCategoryPage","/shopping":"ShoppingRootPage","/shopping/:category/:id":"ShoppingCategoryPage"}[i]||"other",pageType:n,requestContext:t,route:i})}},493214:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var i=t(249444),r=t(658379),o=t(874261),a=t(389282),l="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=function(){return Array(5).fill().map((function(){return l[Math.floor(52*Math.random())]})).join("")};function c(e){var n=e.children,t=(0,r.useMemo)((function(){return n.replace("  "," ").split("").map((function(e){return{className:s(),content:e}}))}),[n]);return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(o.Z,{unsafeCSS:t.map((function(e){var n=e.className,t=e.content;return".".concat(n,':before { content: "').concat(t,'"; }')})).join(" ")}),t.map((function(e){var n=e.className;return(0,a.jsx)("span",{className:n},n)}))]})}var d=t(282802),u=function(e){return e.startsWith("Promoted")};function p(e){var n=e.children,t=e.lineClamp,r=e.size,o=e.underline,l=e.weight,s=(0,d.B)().isAuthenticated&&u(n);return(0,a.jsx)(i.xv,{size:r,lineClamp:t,underline:o,weight:l,title:s?"":n,children:s?(0,a.jsx)(c,{children:n}):n})}},55350:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(219224),r=t(906466);function o(e){var n,t=e.action,o=e.board,a=e.viewer;return(0,i.Z)(a,o)||(0,r.Z)({board:o,viewer:a})&&!(null===(n=o.collaborator_permissions)||void 0===n||!n.includes(t))}},219224:function(e,n,t){"use strict";function i(e,n){var t=n&&n.owner&&n.owner.id;return e.isAuth&&t===e.id}t.d(n,{Z:function(){return i}})},906466:function(e,n,t){"use strict";function i(e){var n=e.board,t=e.viewer,i=n.collaborated_by_me;return Boolean(t.isAuth&&i)}t.d(n,{Z:function(){return i}})},309926:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(219224),r=t(906466);function o(e){var n=e.board,t=e.viewer;return(0,i.Z)(t,n)||(0,r.Z)({board:n,viewer:t})}},222443:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(867221),r=t(946618),o=t(525104);function a(){var e=(0,o.S6)(),n=(0,i.useLocation)();return function(t,i){var o,a=e(t);if(null!=i&&i.shouldTrackForPrevLocation){var l=(null==a?void 0:a.tracking_params_map)||{},s=Object.keys(l).find((function(e){return"PinResource"!==e}));a&&(o=s?l[s]:l.PinResource)}else if(a){var c,d;o=(0,r.Z)({boardUrl:null===(c=a.board)||void 0===c?void 0:c.url,location:n,pinId:a.id,pinnerUserName:null===(d=a.pinner)||void 0===d?void 0:d.username,storyPinDataId:a.story_pin_data_id,trackingParams:a.tracking_params,trackingParamsMap:a.tracking_params_map})}return o}}},650414:function(e,n,t){"use strict";t.d(n,{P:function(){return o},Z:function(){return r}});var i=t(261783);function r(e){return e&&e[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function o(){var e=(0,i.useSelector)((function(e){return e.experiences}));return!!e&&r(e)}},316445:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(245410),r=Object.freeze({analytics:{organic:"web_sce_organic_analytics",monetized:"web_sce_monetized_analytics"},pinStats:{organic:"web_sce_organic_pin_stats",monetized:"web_sce_monetized_pin_stats"}});function o(e){var n=(0,i.F)().checkExperiment;n("sce_lightswitch_organic"),n("sce_lightswitch_monetized");var t=r[e];return function(){return n(t.organic).anyEnabled||n(t.monetized).anyEnabled}}},427370:function(e,n,t){"use strict";t.d(n,{G7:function(){return c},Nl:function(){return u},WE:function(){return s},l6:function(){return d},rh:function(){return l}});var i=t(40045),r=t(642447),o=t(493851),a=function(e){return e.checkExperiment("web_ps4p").anyEnabled};function l(e,n,t,r,o){var l,s,c,d,u,p;if(!n.isAuth)return!1;var _=e.creator_analytics,f=e.public_creator_analytics,h=!!e.story_pin_data_id,m=!(null===(l=e.videos)||void 0===l||!l.video_list),v=(o||!(h||m))&&0!==Object.keys((null===(s=e.aggregated_pin_data)||void 0===s||null===(c=s.creator_analytics)||void 0===c?void 0:c["30d_realtime"])||{}).length,y=(null===(d=e.board)||void 0===d?void 0:d.privacy)===i.Z.BoardPrivacy.PUBLIC,g=((null===(u=e.board)||void 0===u?void 0:u.privacy)===i.Z.BoardPrivacy.PROTECTED||y)&&!e.is_repin&&[n.id,r].includes(null===(p=e.pinner)||void 0===p?void 0:p.id);return v||0!==Object.keys((null==_?void 0:_["30d_realtime"])||{}).length||n.isPartner&&g||a(t)&&h&&g||0!==Object.keys((null==f?void 0:f.all_time_realtime)||{}).length}function s(e,n,t,i,r,o){return e.isAuth&&!!n&&(t||i)&&!(null==r||!r.isLoaded)&&!o}function c(e,n){return(0,o.Z)(n.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function d(e,n){return(0,o.Z)(n.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}function u(e){var n=e.i18n,t=e.isRealtime,i=e.humanizedTimeSinceLastUpdate,a=e.displayLifetime,l=e.numDays,s=e.selectedDateRange,c=e.locale,d=[];if(l){var u=a?(0,o.Z)(n.ngettext('Percent changes are compared to {{n}} day before {{startDate}} \u2013 {{endDate}}.', 'Percent changes are compared to {{n}} days before {{startDate}} \u2013 {{endDate}}.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l,startDate:(0,r.Z)(c,s.startDate,r.k.NUMERIC),endDate:(0,r.Z)(c,s.endDate,r.k.NUMERIC)}):(0,o.Z)(n.ngettext('Percent changes are compared to {{n}} day before the selected date range.', 'Percent changes are compared to {{n}} days before the selected date range.', l, 'pinstats.toplineMetrics.description', 'Label describing how deltas are calculated and when performance over time metrics are updated'),{n:l});d.push(u)}return t?d.push(n._('Metrics are updated in real-time.', 'pinstats.PinnerToplineMetrics.description', 'Label describing when lifetime of pin metrics are updated')):i&&d.push((0,o.Z)(n._('Metrics updated {{ timeSince }}.', 'analytics.header.disclaimer.metricsUpdated', 'Disclaimer describing when data was last updated. timeSince: time period since last update (ex: 1 day)'),{timeSince:i})),d.join(" ")}},325438:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202};function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){var n,t,o=e.feedbackData,a=e.feedbackType,s=e.pinId,c=e.pinFeedbackType,d=e.recommendationReason,u=e.complaintReason,p=e.clientTrackingParams;switch(a){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:null==o?void 0:o.query,pin_id:s}};case"related":return{action:"relatedPinHide",actionOptions:{pin:s}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pinId:s,newsId:null==o?void 0:o.newsId}};default:var _="promoted"===a,f=function(e){return e&&i[e]}(null==d?void 0:d.reason),h=null!==(n=null==d?void 0:d.reasonId)&&void 0!==n?n:null==d||null===(t=d.board)||void 0===t?void 0:t.entityId;return{action:_?"promotedComplaint":"complaint",actionOptions:l(l(l(l({complaint_reason:u||0,pin_id:s},f?{recommendation_reason_id:f}:{}),{},{feedback_type:c||1,promoted:_},h?{through_id:h}:{}),null!=d&&d.throughProperties?{through_properties:d.throughProperties.reduce((function(e,n){var t=n.key,i=n.data;return t?(e[t]=[].concat(r(e[t]||[]),r(i||[])),e):e}),{})}:{}),p?{client_tracking_params:p}:{})}}}},830074:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var i=t(658379),r=t(249444),o=t(536042),a=t(630089),l=t(993926),s=t(549201),c=t(196039),d=t(389282);function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function _(){var e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function f(e){var n=e.freeShippingPrice,t=(0,o.ZP)();return(0,a.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:n}).join("")}function h(){var e=(0,o.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function m(e){var n=e.clickthroughFn,t=(0,o.ZP)(),a=u((0,i.useState)(!1),2),l=a[0],p=a[1],_=(0,s.HG)(),f=(0,i.useRef)(null),h=function(){p(!l)},m=t._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),v=t._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),y=_?(0,d.jsx)(r.J2,{anchor:f.current,onDismiss:h,idealDirection:"right",children:(0,d.jsx)(r.xu,{padding:5,rounding:4,children:(0,d.jsx)(r.xv,{children:m})})}):(0,d.jsx)(r.Io,{onDismiss:h,zIndex:c.lp,size:"auto",heading:"",children:(0,d.jsxs)(r.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,d.jsx)(r.xu,{marginBottom:5,children:(0,d.jsx)(r.xv,{size:"400",weight:"bold",align:"center",children:m})}),(0,d.jsx)(r.zx,{text:v,accessibilityLabel:v,size:"lg",onClick:n})]})});return(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,d.jsx)(r.iP,{ref:f,onTap:h,children:(0,d.jsx)(r.JO,{accessibilityLabel:t._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),l&&y]})}function v(e){var n,t=e.clickthroughFn,i=e.customStyles,o=e.showPrevDot,a=e.freeShippingPrice,s=e.freeShippingValue,c=e.showShippingCountryDisclaimer,u=o?[""]:[],p=i||{},v=p.color,y=void 0===v?"subtle":v,g=p.size,b=void 0===g?"200":g;return Number.isFinite(s)||c?(0===s?n=(0,d.jsx)(_,{}):a?n=(0,d.jsx)(f,{freeShippingPrice:a}):c&&(n=(0,d.jsx)(h,{})),n&&u.push((0,d.jsxs)(r.kC,{direction:"row",children:[n,c&&(0,d.jsx)(m,{clickthroughFn:t})]})),0===u.length?null:(0,d.jsx)(r.xv,{color:y,size:b,children:(0,d.jsx)(l.Z,{color:y,items:u})})):null}},950695:function(e,n,t){"use strict";t.d(n,{kf:function(){return g},l5:function(){return v},of:function(){return h},xC:function(){return y},yz:function(){return m}});var i=t(658379),r=t(40660),o=t(583592),a=t(500797),l=t(272109),s=t(567648),c=t(389282);function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var p=(0,o.Z)("PwaContext"),_=p.Provider,f=p.useMaybeHook,h=function(e){var n=e.children,t=e.initialContext,o=d((0,i.useState)(null),2),s=o[0],u=o[1],p=t||{pwaType:"unknown",twaType:null},f=p.pwaType;(0,l.Z)((function(){var e=(0,a.FB)(window)||"unknown";u(e),f!==e&&r.Z.increment("pwa.type_mismatch",1,{serverPwaType:f,clientPwaType:e,conflict:"unknown"!==f&&"unknown"!==e})}));var h="unknown"===f&&s?s:f,m=p.twaType,v=(0,i.useMemo)((function(){return{pwaType:h,twaType:m}}),[h,m]);return(0,c.jsx)(_,{value:v,children:n})},m=function(){var e,n=f();return null!==(e=null==n?void 0:n.pwaType)&&void 0!==e?e:"unknown"},v=function(){var e,n=f();return null!==(e=null==n?void 0:n.twaType)&&void 0!==e?e:null},y=function(){return"android-twa"===m()},g=function(){var e=m(),n=(0,s.Z)();return"unknown"===e&&n?null:"windows"===e}},411171:function(e,n,t){"use strict";function i(e){var n=Object.keys(e);return n.length>0?n.sort((function(n,t){return e[t]-e[n]})).slice(0,3):null}function r(e){var n=Object.values(e);return n.length>0?n.reduce((function(e,n){return e+n}),0):0}function o(e,n,t){var i,r;return!(e.isPromoted||e.isDownstreamPromotion||!(null!==(i=e.videos)&&void 0!==i&&i.entityId||e.storyPinDataId)||n||null!==(r=e.board)&&void 0!==r&&r.isCollaborative&&e.board.collaboratedByMe||t)}t.d(n,{At:function(){return i},J6:function(){return o},Ud:function(){return r}})},479958:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var i=t(249444),r=t(536042),o=t(389282);function a(e){var n=e.height,t=e.isDenseView,a=e.rounding,l=e.width,s=e.color,c=(0,r.ZP)();return(0,o.jsx)(i.xu,{color:s||"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:a,overflow:"hidden",width:l,height:n,"data-test-id":"unavailable-pin",children:(0,o.jsxs)(i.kC,{direction:"column",alignItems:"center",children:[(0,o.jsx)(i.xu,{paddingY:t?2:4,children:(0,o.jsx)(i.JO,{accessibilityLabel:c._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,o.jsx)(i.xv,{weight:"bold",children:c._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,o.jsx)(i.xu,{paddingY:1,children:(0,o.jsx)(i.xv,{children:c._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},910717:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(249444),r=t(389282);function o(e){var n=e.ariaHidden,t=void 0!==n&&n,o=e.color,a=void 0===o?"darkGray":o,l=e.size;return(0,r.jsx)("span",{"aria-hidden":t,style:{padding:"0 4px"},children:(0,r.jsx)(i.xv,{color:a,inline:!0,size:null!=l?l:"200",children:""})})}},993926:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(658379),r=t(249444),o=t(910717),a=t(389282);function l(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function c(e){return null!=e}function d(e){var n=e.additionalPadding,t=e.color,s=void 0===t?"darkGray":t,d=e.inline,u=e.items,p=n?(0,a.jsx)("span",{style:{padding:"0 ".concat(4*n,"px")},children:(0,a.jsx)(o.Z,{color:s})}):(0,a.jsx)(o.Z,{color:s}),_=u.filter(c).reduce((function(e,n,t){return[].concat(l(e),[0!==t?p:null,n])}),[]).filter(c).map((function(e,n){return(0,a.jsx)(i.Fragment,{children:e},n)}));return 0===_.length?null:d?(0,a.jsx)(r.xu,{children:_}):(0,a.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:_})}},567648:function(e,n,t){"use strict";var i=t(658379),r=function(){return function(){}},o=function(){return!1},a=function(){return!0};n.Z=function(){return(0,i.useSyncExternalStore)(r,o,a)}},634923:function(e,n,t){"use strict";t.d(n,{Z:function(){return o},t:function(){return r}});var i=function(){var e,n,t,i,r="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(n=e.connection)||void 0===n?void 0:n.effectiveType:void 0,o=null===(i=window)||void 0===i||!i.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";return r?"4g"===r?t="40-80":(o="1x",t="0-1"):t="unknown",{downloadSpeedGroup:t,screenDimension:o}};function r(e){var n=e.vExp3,t=e.vExp4,r=e.vExp5,o=e.vExp6,a=e.vExp7,l=e.v720p,s=i(),c=s.downloadSpeedGroup,d=s.screenDimension,u={"1x":n,"2x":r},p={"1x":a,"2x":a};return{unknown:u,"0-1":u,"1-5":{"1x":t,"2x":r},"5-10":{"1x":r,"2x":r},"10-20":{"1x":o,"2x":o},"20-40":p,"40-80":p,"80_or_above":p}[c][d]||l||void 0}function o(e){var n=e.video_list,t=void 0===n?{}:n,i=r({vExp3:t.V_EXP3,vExp4:t.V_EXP4,vExp5:t.V_EXP5,vExp6:t.V_EXP6,vExp7:t.V_EXP7,v720p:t.V_720P}),o=t.V_HLSV3_MOBILE||void 0;return i?{hlsv3:o,mp4:i}:{hlsv3:o}}},740089:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var i=t(249444),r=t(833897),o=t(389282),a={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function l(e){var n=e.pin,t=e.enableCloseupLink,l=(n.aggregated_pin_data||{}).pin_tags_chips,s=l&&l.length>=3?l.slice(0,3):[];return(0,o.jsx)(i.xu,{display:"flex",dangerouslySetInlineStyle:{__style:a.chipContainer},children:s.map((function(e){var l,s,c,d,u=(null===(l=e.images)||void 0===l?void 0:l["750x"])||{},p=(0,o.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:null!==(s=u.height)&&void 0!==s?s:1,naturalWidth:null!==(c=u.width)&&void 0!==c?c:1,role:"presentation",src:null!==(d=u.url)&&void 0!==d?d:""});return(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a.chip},"data-test-id":"collageChip",children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:a.chipInner},position:"relative",children:(0,o.jsx)(i.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,o.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,o.jsx)(r.Z,{sizing:"fullSize",collageChipId:e.id,pin:n,children:p}):p})})})},e.id)}))})}},362626:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(658379),r=t(388011),o=t(347151),a=["aux_data","view_type","view_parameter","component","clientTrackingParams"];function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){c(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function u(e,n){var t=(0,r.v)().logContextEvent,l=(0,o.E)(),c=l.componentType,u=l.contextLogData,p=l.viewParameter,_=l.viewType,f=null!=n?n:{},h=f.aux_data,m=f.view_type,v=f.view_parameter,y=f.component,g=f.clientTrackingParams,b=d(f,a);return(0,i.useCallback)((function(){t(s(s({event_type:e,view_type:m||_,view_parameter:v||p,component:y||c,clientTrackingParams:g},b),{},{aux_data:s(s({},h),u)}))}),[t,h,g,b,v,m,y,c,u,e,p,_])}},336331:function(e,n,t){"use strict";t.d(n,{$:function(){return o},B:function(){return r}});var i=(0,t(583592).Z)("SurfaceContext",{surface:"Unknown"}),r=i.Provider,o=i.useHook},347151:function(e,n,t){"use strict";t.d(n,{B:function(){return r},E:function(){return o}});var i=(0,t(583592).Z)("trackingParametersContext"),r=i.Provider,o=i.useHook},724842:function(e,n,t){"use strict";t.d(n,{ZP:function(){return C},we:function(){return R},nn:function(){return k},zn:function(){return E}});var i=t(658379),r=t(388011),o=t(282802),a=t(819079),l=t(802071),s=t(249444),c=t(88622),d=t(536042),u=t(630089),p=t(837792),_=t(846226),f=t(3060),h=t(245410),m=t(389282);function v(e){var n=e.iconAccessibilityLabel,t=e.icon,i=e.linkAccessibilityLabel,r=e.showNavigationIcon,o=e.text;return(0,m.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,m.jsx)(_.Z,{id:"ad-reason-icon",children:(0,m.jsx)(s.Sj,{accessibilityLabel:n,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,m.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,m.jsx)(s.xv,{children:o})}),r&&i&&(0,m.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,m.jsx)(s.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}var y=t(712968);function g(e){var n,t=e.brandName,i=e.language,r=e.geoRegion,o=e.geoPostalCode,a=e.ageBucketMatch,c=e.localeMatch,p=e.interestMatch,f=e.genderMatch,g=e.deviceMatch,b=e.isCustomerListMatched,P=e.isShoppingTargetingRematched,x=e.isActAlikeMatched,w=e.isEngagementMatched,S=e.isExpandTargetingMatched,O=e.isFromGPSLocation,j=e.isVisitorMatched,I=e.isShoppingProspectingMatched,A=e.isPlPersonaMatched,T=e.gender,E=e.device,k=(0,d.ZP)(),R=(0,l.Z)().id,C=(0,y.mN)()(null!=R?R:""),D=null!==(n=null==C?void 0:C.gender)&&void 0!==n?n:"",N=(0,h.F)().checkExperiment,B=(I||A)&&N("ads_web_waista_v3").anyEnabled;return(0,m.jsx)(_.Z,{id:"ad-reasons",children:(0,m.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[""!==a&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting age bucket', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age bucket'),icon:"person",text:(0,u.nk)(k._('Age {{ ageBucketMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.ageBucketMatch', 'Ad explanation for targeting age range, ageBucketMatch: Users age range'),{ageBucketMatch:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:a},"ad-reasons-age-bucket")})}),""!==f&&"unspecified"!==D&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting gender', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"person",text:(0,u.nk)(k._('{{ gender }}', 'app.common.react.components.PinRep.components.AdReasonsModal.genderMatch', 'Ad explanation for targeting gender, gender: Users gender'),{gender:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:T},"ad-reasons-gender")})}),""!==r&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(k._('Based in {{geoRegion}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoRegion: location user is based in'),{geoRegion:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:r},"ad-reasons-country-name")})}),""!==o&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",text:(0,u.nk)(k._('Based in {{geoPostalCode}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location , geoPostalCode: location user is based in'),{geoPostalCode:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:o},"ad-reasons-country-name")})}),""!==c&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting locale', 'app.common.react.components.PinRep.components.AdReasons.localeIcon', 'Icon for ad targeting locale'),icon:"globe",text:(0,u.nk)(k._('Language {{ language }}', 'app.common.react.components.PinRep.components.AdReasonsModal.localeMatch', 'Ad explanation for targeting age range, language: Users language'),{language:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-locale")})}),""!==g&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting device', 'app.common.react.components.PinRep.components.AdReasons.deviceIcon', 'Icon for ad targeting device'),icon:"desktop",text:(0,u.nk)(k._('Using {{ device }}', 'app.common.react.components.PinRep.components.AdReasonsModal.deviceMatch', 'Ad explanation for targeting device, device: Users device'),{device:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:E},"ad-reasons-device")})}),""!==p&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting interest', 'app.common.react.components.PinRep.components.AdReasons.interestIcon', 'Icon for ad targeting interest'),icon:"heart",text:(0,u.nk)(k._('Interested in {{ interestMatch }}', 'app.common.react.components.PinRep.components.AdReasonsModal.interestMatch', 'Ad explanation for targeting interest, interestMatch: Users interest'),{interestMatch:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:p},"ad-reasons-interest")})}),P&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.shoppingTargeting', 'Icon for ad targeting shopping targeting'),icon:"history",text:(0,u.nk)(k._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargeting', 'Ad explanation for shopping targeting, brandName: promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-shopping-targeting")})}),j&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting customers who interacted with this brand previously, visitor matched', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorMatchIcon', 'Ad explanation for visitor targeting users who have interacted with an advertiser brand'),icon:"history",text:(0,u.nk)(k._('Interacted with {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.visitorTargetingText', 'Text explaining the ad reason for visitor targeting users who interacted with brand previously, brandName: promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reason-visitor")})}),b&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.listIcon', 'Icon for ad targeting customer list'),icon:"menu",text:(0,u.nk)(k._('On a list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list , brandName: promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),w&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on engagement audience', 'app.common.react.components.PinRep.components.AdReasons.engagementIcon', 'Icon for ad targeting engagement'),icon:"pin",text:(0,u.nk)(k._('Interacted with {{brandName}} on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.engagementTargeting', 'Ad explanation for targeting engagement audience, brandName: promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-engagement")})}),x&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on act alike', 'app.common.react.components.PinRep.components.AdReasons.actAlikeIcon', 'Icon for ad targeting act alike'),icon:"graph-bar",text:(0,u.nk)(k._('Similar demographic or interest as other {{brandName}} customers', 'app.common.react.components.PinRep.components.AdReasonsModal.', 'Ad explanation for targeting act alike, brandName: promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-act-alike")})}),(S||B)&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on expand targeting', 'app.common.react.components.PinRep.components.AdReasons.expandTargeting', 'Icon for ad expand targeting'),icon:"pinterest",text:k._('Relevant activity on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.expandTargeting', 'Ad explanation for targeting ')}),O&&(0,m.jsx)(v,{iconAccessibilityLabel:k._('Icon for ad targeting user on GPS', 'app.common.react.components.PinRep.components.AdReasons.GPS', 'Icon for ad targeting GPS'),icon:"location",text:k._('GPS Location', 'app.common.react.components.PinRep.components.AdReasonsModal.GPS', 'Ad explanation for targeting GPS')})]})})}function b(e){var n=e.onDismiss,t=e.brandName,i=e.userName,o=e.language,a=e.geoRegion,l=e.geoPostalCode,h=e.ageBucketMatch,v=e.localeMatch,y=e.interestMatch,b=e.genderMatch,P=e.deviceMatch,x=e.isCustomerListMatched,w=e.isShoppingTargetingRematched,S=e.isActAlikeMatched,O=e.isEngagementMatched,j=e.isExpandTargetingMatched,I=e.isFromGPSLocation,A=e.isVisitorMatched,T=e.isShoppingProspectingMatched,R=e.isPlPersonaMatched,C=(0,r.v)().logContextEvent,D=(0,d.ZP)(),N=E(b,D),B=k(P,D),z=w||x||O||S||j||I||A||R||T||""!==h||""!==v||""!==y||""!==N||""!==B||""!==a||""!==l,M=f.C0+"/".concat(i,"/");return(0,m.jsx)(c.ZP,{accessibilityModalLabel:D._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:n,children:(0,m.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,m.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,m.jsx)(s.xu,{position:"absolute",left:!0,children:(0,m.jsx)(s.hU,{accessibilityLabel:D._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:function(){C({event_type:102,element:11925,component:13756}),n()},size:"sm"})}),(0,m.jsx)(s.X6,{align:"center",size:"500",children:D._('Why you\'re seeing this ad', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation, WAISTA ')})]}),(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(s.kC,{direction:"column",gap:{row:0,column:4},children:z&&(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{children:(0,u.nk)(D._('{{ brandName }} is trying to reach specific groups of people. Based on what you\'ve told us or other information, we think you fit some of those groups:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanationWAISTA', 'text informing the user about who is the advertiser\'s target audience, for WAISTA brandName: is promoter name'),{brandName:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(s.rU,{href:M,display:"inlineBlock",onClick:function(){C({event_type:101,component:13756,element:13407})},target:"blank",underline:"hover",children:t})},"ad-reasons-brand-name")})})})}),(0,m.jsx)(_.Z,{id:"ad-reasons",children:(0,m.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[(0,m.jsx)(g,{brandName:t,language:o,geoRegion:a,geoPostalCode:l,ageBucketMatch:h,localeMatch:v,genderMatch:b,interestMatch:y,deviceMatch:P,isCustomerListMatched:x,isShoppingTargetingRematched:w,isActAlikeMatched:S,isEngagementMatched:O,isExpandTargetingMatched:j,isFromGPSLocation:I,isVisitorMatched:A,isShoppingProspectingMatched:T,isPlPersonaMatched:R,gender:N,device:B}),z&&(0,m.jsx)(s.xu,{marginBottom:1,children:(0,m.jsx)(s.xv,{children:(0,u.nk)(D._('If this isn\'t right, {{ changeUserSettings }}', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettingsText', 'Text explaining how to update personal information, changeUserSettings: link to personal settings'),{changeUserSettings:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(s.rU,{display:"inline",href:"".concat(f.C0).concat(p.AH),onClick:function(){C({event_type:101,component:13756,element:13361})},target:"blank",underline:"hover",children:D._('update your personal information', 'app.common.react.components.PinRep.components.AdReasonsModal.changeUserSettings', 'Link for updating personal information')})},"ad-reasons-change-user-settings")})})})]})}),(0,m.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,m.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,m.jsx)(s.X6,{size:"400",children:D._('Ads on Pinterest', 'app.common.react.components.PinRep.components.AdReasonsModal.adsOnPinterestHeading', 'Text for explaining Ads on Pinterest')})}),(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{children:(0,u.nk)(D._('We show you ads that may be based on your profile settings, websites you visit, ads you interact with or other factors. {{adPreferencesLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesText', 'Text explaining what ads are based on, adPreferencesLink: link to privacy settings'),{adPreferencesLink:(0,m.jsx)(_.Z,{id:"ad-reasons-review-ad-preferences",children:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(s.rU,{display:"inline",href:"".concat(f.C0).concat(p.Gx),onClick:function(){C({event_type:101,component:13756,element:13401})},target:"blank",underline:"hover",children:D._('Review your ad preferences', 'app.common.react.components.PinRep.components.AdReasonsModal.adPreferencesLink', 'Privacy settings link')})},"ad-reasons-review-ad-preferences")})})})}),(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{children:(0,u.nk)(D._('For more about how we collect and use data, {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy'),{privacyPolicyLink:(0,m.jsx)(_.Z,{id:"ad-reasons-privacy-policy",children:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(s.rU,{display:"inline",href:p.R_,onClick:function(){C({event_type:101,component:13756,element:13402})},target:"blank",underline:"hover",children:D._('read our Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLink', 'Privacy policy link for reading how data is collected and used')})},"ad-reasons-privacy-policy")})})})}),(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{children:(0,u.nk)(D._('To stop seeing content from an advertiser, {{ blockAccounts }}', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyText', 'Text explaining how to block an advertiser profile, blockAccounts: link to how to block accounts'),{blockAccounts:(0,m.jsx)(_.Z,{id:"ad-reasons-block-accounts",children:(0,m.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(s.rU,{display:"inline",href:p.K_,onClick:function(){C({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:D._('learn how to block accounts', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAccountLink', 'Link for how to block accounts')})},"ad-reasons-block-accounts")})})})})]})]})]})})}var P=t(525104);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){S(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var O=4,j=function(e){return e._('Female', 'waista.modal.attribute.female', 'Gender attribute for female')},I=function(e){return e._('Male', 'waista.modal.attribute.male', 'Gender attribute for male')},A=function(e){return e._('Web', 'waista.modal.attribute.web', 'device attribute for web')},T=function(e){return e._('Mobile Web', 'waista.modal.attribute.mWeb', 'device attribute for mobile web')};function E(e,n){return"FEMALE"===e?j(n):"MALE"===e?I(n):""}function k(e,n){return"AppType_WEB"===e||"AppType_WEB_DENZEL"===e?A(n):"AppType_WEB_MOBILE"===e?T(n):""}function R(e,n){var t,i=(null!==(t=e.find((function(e){return e.key===n})))&&void 0!==t?t:{}).name;return void 0===i?"":i}function C(e){var n,t,s,c,d,u=e.pinId,p=e.onDismiss,_=(0,r.v)().logContextEvent,f=(0,o.B)().locale,h=(0,l.Z)().country,v=void 0===h?"":h,y=(0,a.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),g=(0,a.Z)({name:"LocalesResource"}),x=(0,P.S6)()(u);(0,i.useEffect)((function(){_({event_type:120,component:13756})}),[_]);var j=null!=x?x:{},I=j.ad_targeting_attribution,A=j.promoter,T=null!==(n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O;return e&&Object.keys(e).filter((function(n){return"boolean"==typeof e[n]||"string"==typeof e[n]})).slice(0,n).reduce((function(n,t){return w(w({},n),{},S({},t,e[t]))}),{})}(I))&&void 0!==n?n:{},E=T.is_customer_list_matched,k=void 0!==E&&E,C=T.is_shopping_retargeting_matched,D=void 0!==C&&C,N=T.is_actalike_matched,B=void 0!==N&&N,z=T.is_engagement_matched,M=void 0!==z&&z,L=T.is_expand_targeting_matched,Z=void 0!==L&&L,G=T.is_from_gps_location,U=void 0!==G&&G,F=T.is_visitor_matched,H=void 0!==F&&F,V=T.is_shopping_prospecting_matched,W=void 0!==V&&V,Y=T.is_pl_persona_matched,X=void 0!==Y&&Y,q=T.matched_age_bucket,K=void 0===q?"":q,J=T.matched_locale,$=void 0===J?"":J,Q=T.matched_interest,ee=void 0===Q?"":Q,ne=T.matched_gender,te=void 0===ne?"":ne,ie=T.matched_device,re=void 0===ie?"":ie,oe=T.geo_region,ae=void 0===oe?"":oe,le=T.geo_postal_code,se=void 0===le?"":le,ce=null!==(t=null==A?void 0:A.full_name)&&void 0!==t?t:"",de=function(e,n){var t,i=(null!==(t=e.find((function(e){return e.key===n})))&&void 0!==t?t:{}).name;return void 0===i?"":i}(null!==(s=y.data)&&void 0!==s?s:[],v),ue=R(null!==(c=g.data)&&void 0!==c?c:[],f),pe=null!==(d=null==A?void 0:A.username)&&void 0!==d?d:"";return(0,m.jsx)(b,{brandName:ce,userName:pe,country:de,language:ue,ageBucketMatch:K,localeMatch:$,interestMatch:ee,genderMatch:te,deviceMatch:re,isCustomerListMatched:k,isShoppingTargetingRematched:D,isActAlikeMatched:B,isEngagementMatched:M,isExpandTargetingMatched:Z,isFromGPSLocation:U,isVisitorMatched:H,onDismiss:p,geoRegion:ae,geoPostalCode:se,isShoppingProspectingMatched:W,isPlPersonaMatched:X})}},833897:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var i=t(249444),r=t(840166),o=t(374749),a=t(388011),l=t(536042),s=t(599551),c=t(493851),d=t(347151),u=t(389282);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){var n,t=e.sizing,p=void 0===t?"default":t,f=e.children,h=e.collageChipId,m=e.componentType,v=e.contextLogData,y=e.elementType,g=e.pin,b=e.viewParameter,P=e.viewType,x=(0,l.ZP)(),w=(0,a.v)().logContextEvent,S=(0,d.E)(),O=g.carousel_data,j=g.id,I=!!g.promoted_is_lead_ad,A="/pin/".concat(h||j,"/"),T=(0,r.Xx)();if(null!=T&&T.variantUrl&&(A="/pin/".concat(T.variantUrl,"/")),O){var E=O.carousel_slots,k=void 0===E?[]:E,R=O.id,C=O.index,D=void 0===C?0:C;A="/pin/".concat(j,"/"),n={carousel_slot_id:k[D]&&k[D].id,carousel_data_id:R,carousel_slot_index:D}}n=_(_({},n||{}),(0,o.Kl)(g,v)||{});var N=(0,s.Z)({href:A,externalData:{auxData:n,pin:g}});return(0,u.jsx)(i.iP,{accessibilityLabel:(0,c.Z)(x._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:g.grid_title||g.title||g.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:function(e){var n,t,i=e.event;(0,e.dangerouslyDisableOnNavigation)(),I?(w({event_type:8948,view_type:P||S.viewType,view_parameter:b||S.viewParameter,component:null,object_id_str:g.id,aux_data:{closeup_navigation_type:"click",lead_form_id:null===(n=g.promoted_lead_form)||void 0===n?void 0:n.lead_form_id,is_lead_ad:1}}),w({event_type:12,view_type:P||S.viewType,view_parameter:b||S.viewParameter,component:null,object_id_str:g.id,aux_data:_({lead_form_id:null===(t=g.promoted_lead_form)||void 0===t?void 0:t.lead_form_id,is_lead_ad:1},(0,o.Kl)(g)||{})})):(w({event_type:101,component:m||S.componentType,element:y,object_id_str:j,view_type:P||S.viewType,view_parameter:b||S.viewParameter,aux_data:_(_({},v),(0,o.Kl)(g,v)||{})}),w({event_type:8948,view_type:P||S.viewType,view_parameter:b||S.viewParameter,component:m||S.componentType,element:y,object_id_str:j,aux_data:_(_({closeup_navigation_type:"click"},v),(0,o.Kl)(g,v)||{})})),N({event:i})},fullWidth:"fullSize"===p,fullHeight:"fullSize"===p,href:A,role:"link",children:f})}},520333:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var i=t(658379),r=t(867221),o=t(802071),a=t(249444),l=t(604094),s=t(633917),c=t(643183),d=t(806681),u=t(970588),p=t(536042),_=t(63262),f=t(550140),h=t(389282);function m(e){var n=(0,p.ZP)(),t=e.onHide,i=(0,h.jsx)(a.xv,{children:n._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,h.jsx)(f.ZP,{onHide:t,text:i})}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var g=function(e){var n=e.anchor,t=e.onDismiss,r=e.pinId,l=e.signals,s=(0,p.ZP)(),c=v((0,i.useState)(0),2),d=c[0],f=c[1],y=(0,o.Z)(),g=(0,_.F9)().showOneToast;if(!y.isEmployee)return null;var b=l.map((function(e){var n=e.signal_message;return{href:"#",text:null!=n?n:""}})),P=l[d],x=P.background_color,w=P.icon_url,S=P.signal_id,O=P.signal_message;return(0,h.jsx)(a.mh,{children:(0,h.jsx)(a.J2,{anchor:n,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(a.xu,{padding:4,width:"100%",children:[l.length>1&&(0,h.jsx)(a.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,h.jsx)(a.mQ,{activeTabIndex:d,onChange:function(e){var n=e.event,t=e.activeTabIndex;(0,e.dangerouslyDisableOnNavigation)(),function(e){var n=e.activeTabIndex;e.event.preventDefault(),f(n)}({activeTabIndex:t,event:n})},tabs:b})}),(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(a.X6,{size:"400",children:s._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,h.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:w?(0,h.jsx)(a.Ee,{alt:s._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:w}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:x}},height:40,width:40})}),(0,h.jsx)(a.xv,{size:"200",children:O})]})}),(0,h.jsx)(a.xu,{marginBottom:3,children:(0,h.jsx)(a.xv,{size:"200",children:s._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:s._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){(0,u.Z)({url:"/v3/pins/".concat(r,"/signal_request_review/"),method:"POST",data:{signal_id:S,user:y.id}}),t(),g((function(e){var n=e.hideToast;return(0,h.jsx)(m,{onHide:n})}))}}),(0,h.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:s._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};function b(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function x(e){var n=e.signals,t=e.pinId,r=n[0],o=r.background_color,u=r.icon_url,p=r.signal_message,_=b((0,i.useState)(!1),2),f=_[0],m=_[1],v=(0,i.useRef)();return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(s.Z,{children:(0,h.jsx)(d.q,{children:function(e){var n=e.hovered,t=e.onMouseEnter,i=e.onMouseLeave;return(0,h.jsx)(a.iP,{onTap:function(){return m((function(e){return!e}))},rounding:"pill",onMouseEnter:t,onMouseLeave:i,children:(0,h.jsxs)(a.xu,{color:n?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:v,children:[(0,h.jsx)(a.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,h.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,h.jsx)(a.Ee,{alt:"",color:o,src:null!=u?u:"",naturalHeight:1,naturalWidth:1})})}),(0,h.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:p})]})})}})})})})}),f&&v&&v.current&&(0,h.jsx)(g,{anchor:v.current,onDismiss:function(){return m(!1)},pinId:t,signals:n})]})}var w=function(e){var n,t=e.signal,i=e.anchor,r=e.setShowFlyout,o=e.setStore,l=(0,d.Z)(),s=l.hovered,c=l.onMouseEnter,u=l.onMouseLeave;return(0,h.jsx)(a.iP,{onTap:function(){return function(e){r((function(e){return!e})),o(e)}(t)},rounding:"pill",onMouseEnter:c,onMouseLeave:u,children:(0,h.jsxs)(a.xu,{color:s?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:i,children:[(0,h.jsx)(a.xu,{display:"flex",minWidth:24,height:24,rounding:"circle",marginEnd:1,color:"default",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(a.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,h.jsx)(a.Ee,{alt:"",color:t.background_color,src:null!==(n=t.icon_url)&&void 0!==n?n:"",naturalHeight:1,naturalWidth:1})})}),(0,h.jsx)(a.xv,{color:"inverse",size:"200",weight:"bold",children:t.signal_message})]})})};var S=function(e){var n=e.anchor,t=e.onDismiss,i=e.pinId,r=e.signal,l=(0,p.ZP)(),s=(0,o.Z)(),c=(0,_.F9)().showOneToast;if(!s.isEmployee)return null;var d=r.background_color,f=r.icon_url,v=r.signal_id,y=r.signal_message;return(0,h.jsx)(a.mh,{children:(0,h.jsx)(a.J2,{anchor:n,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,h.jsxs)(a.xu,{padding:4,width:"100%",children:[(0,h.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,h.jsx)(a.X6,{size:"400",children:l._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,h.jsx)(a.xu,{paddingY:3,children:(0,h.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"center",children:[(0,h.jsx)(a.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:f?(0,h.jsx)(a.Ee,{alt:l._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:f}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d}},height:40,width:40})}),(0,h.jsx)(a.xv,{size:"200",children:y})]})}),(0,h.jsx)(a.xu,{marginBottom:3,children:(0,h.jsx)(a.xv,{size:"200",children:l._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,h.jsxs)(a.kC,{alignItems:"center",gap:2,justifyContent:"start",children:[(0,h.jsx)(a.zx,{fullWidth:!0,color:"red",size:"md",text:l._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:function(){(0,u.Z)({url:"/v3/pins/".concat(i,"/signal_request_review/"),method:"POST",data:{signal_id:v,user:s.id}}),t(),c((function(e){var n=e.hideToast;return(0,h.jsx)(m,{onHide:n})}))}}),(0,h.jsx)(a.zx,{fullWidth:!0,color:"gray",size:"md",text:l._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function I(e){var n=e.signals,t=e.pinId,r=O((0,i.useState)(!1),2),o=r[0],d=r[1],u=(0,i.useRef)(null),p=O((0,i.useState)(n[0]),2),_=p[0],f=p[1];return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(l.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,h.jsx)(c.Z,{children:(0,h.jsx)(a.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,h.jsx)(s.Z,{children:(0,h.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:n.map((function(e){return(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(w,{signal:e,anchor:u,setShowFlyout:d,setStore:f})},e.signal_id)}))})})})})}),o&&(0,h.jsx)(S,{anchor:u.current,onDismiss:function(){return d(!1)},pinId:t,signal:_})]})}function A(e){var n=e.pin,t=(0,o.Z)(),a=(0,r.useLocation)().search,l=(0,i.useMemo)((function(){return new URLSearchParams(a)}),[a]);if(!t.isEmployee)return null;var s=n.id,c=n.deb_ads,d=n.deb_content_quality,u=n.deb_inclusive_product,p=n.deb_shopping,_=n.deb_trust_and_safety;if(c)return(0,h.jsx)(x,{pinId:s,signals:c});if(d)return(0,h.jsx)(x,{pinId:s,signals:d});if(u){if("skin_tone"===l.get("type")){var f=u.filter((function(e){return"visual_signals_hair_pattern_v1"!==e.signal_id}));return(0,h.jsx)(I,{pinId:s,signals:f})}var m=u.filter((function(e){return"visual_body_analyses_v2_0"!==e.signal_id}));return(0,h.jsx)(I,{pinId:s,signals:m})}return p?(0,h.jsx)(x,{pinId:s,signals:p}):_?(0,h.jsx)(x,{pinId:s,signals:_}):null}},126645:function(e,n,t){"use strict";t.d(n,{ZP:function(){return g}});var i=t(658379),r=t(249444),o=t(388011),a=t(536042),l=t(649796),s=t(176172),c=t(946543),d=t(389282);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){_(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var m={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:s.Oc,filter:"blur(10px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}}},v=["followed","related","search"],y=["pfy","pfyBoard"];function g(e){var n,t=e.feedbackType,u=e.pin,_=e.hideContents,h=void 0!==_&&_,g=(0,o.v)().logContextEvent,b=(0,a.ZP)(),P=f((0,i.useState)(!1),2),x=P[0],w=P[1],S=f((0,i.useState)(!1),2),O=S[0],j=S[1];(0,i.useEffect)((function(){return w(!0)}),[]);var I=function(){return j(!0)},A=u.feedbackText,T=u.images,E=u.showFeedbackOverlay,k=u.undoAction,R=T&&(null===(n=T["236x"])||void 0===n?void 0:n.url),C=null!=A?A:{},D=C.image,N=C.subTitle,B=C.title,z=C.unfollow,M=!v.includes(t),L=y.includes(t),Z="Reported"===B,G=function(){g({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,d.jsxs)(r.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,d.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:s.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[R&&(0,d.jsx)(c.Z,{additionalStyles:p(p(p({},m.background.base),x?m.background.blurred:{}),{},{backgroundImage:'url("'.concat(R,'")')})}),(0,d.jsx)(c.Z,{additionalStyles:p(p({},m.backdrop.base),m.backdrop.blurred)})]}),(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:p(p({},m.feedbackOverlayContainer.base),!E&&x?m.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%",children:!h&&(0,d.jsx)(r.xu,{height:"100%",children:(0,d.jsxs)(r.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,d.jsx)(r.xu,{marginBottom:2,children:(0,d.jsx)(r.X6,{color:"light",size:"400",children:B})}),(0,d.jsxs)(r.xu,{display:"flex",marginBottom:1,children:[D&&(0,d.jsx)(r.xu,{marginEnd:3,children:(0,d.jsx)(r.zd,{width:D.width,height:D.height,rounding:2,wash:!0,children:(0,d.jsx)(r.Ee,{alt:N||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:D.url||""})})}),(0,d.jsx)(r.xv,{color:"light",overflow:"normal",children:N})]}),(0,d.jsxs)(i.Fragment,{children:[k&&!Z&&(0,d.jsx)(r.xu,{children:(0,d.jsx)(r.iP,{onTap:k,children:(0,d.jsx)(r.xv,{color:"inverse",weight:"bold",overflow:"normal",children:b._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,d.jsxs)(r.xu,{marginTop:"auto",children:[!k&&!O&&z&&!L&&(0,d.jsx)(r.zx,{fullWidth:!0,color:"white",onClick:function(){return(0,l.t)(z.action,z.actionOptions,I)},text:b._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),M&&(0,d.jsx)(r.ZP,{color:"white",fullWidth:!0,href:"/edit",onClick:G,text:b._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]})]})})})]})}},181453:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var i=t(249444),r=t(388011),o=t(536042),a=t(649796),l=t(958083),s=t(325438),c=t(154522),d=t(389282);function u(e){var n=e.anchor,t=e.feedbackData,u=e.feedbackType,p=e.pinId,_=e.onDismiss,f=e.onHide,h=e.recommendationReason,m=e.viewParameter,v=e.viewType,y=(0,r.v)().logContextEvent,g=(0,o.ZP)(),b=function(e,n){var i=(0,s.Z)({feedbackData:t,feedbackType:u,pinId:p,recommendationReason:h&&{board:h.board&&{entityId:h.board.entityId},reasonId:h.reasonId,reason:h.reason,throughProperties:h.throughProperties},complaintReason:e}),r=i.action,o=i.actionOptions;!function(e){y({event_type:101,view_type:v,view_parameter:m,element:e,component:(0,l.nb)(u)})}(n),(0,a.t)(r,o),f()},P="promoted"===u?[{text:g._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:g._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:g._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:g._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:g._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:g._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:g._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:g._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,d.jsx)(i.Lt,{anchor:n,idealDirection:"down",onDismiss:_,zIndex:c.lI,id:"pin-action-dropdown",children:(0,d.jsx)(i.Lt.Section,{label:g._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:P.map((function(e){var n=e.text,t=e.reason,r=e.elementType;return(0,d.jsx)(i.Lt.Item,{onSelect:function(){return b(t,r)},option:{value:"hide-reason-".concat(n.split(" ").join("-")),label:n},dataTestId:"hide-reason-".concat(n.split(" ").join("-"))})}))})})}},87663:function(e,n,t){"use strict";var i=t(658379),r=t(750130),o=t.n(r),a=t(249444),l=t(536042),s=t(874261),c=t(51536),d=t(28630),u=t(389282);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function h(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function m(e,n){return m=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},m(e,n)}function v(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,i=g(e);if(n){var r=g(this).constructor;t=Reflect.construct(i,arguments,r)}else t=i.apply(this,arguments);return function(e,n){if(n&&("object"===p(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,t)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var P=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&m(e,n)}(p,e);var n,t,r,l=v(p);function p(){var e;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,p);for(var n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];return b(y(e=l.call.apply(l,[this].concat(t))),"state",{showBoardName:!1}),e}return n=p,(t=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.state.showBoardName,n=this.props,t=n.isDenseView,r=n.isNewlySaved,l=n.name,p=n.shouldUseLegoStyles,_=n.type,f=n.url;if(p&&t)return null;var h,m,v="boardless"===_?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):l;if(!r||e||p){var y=p?(0,u.jsx)(a.xv,{color:"inverse",size:"300",weight:"bold",children:v.length<=20?v:(0,c.Z)(v,20)}):(0,u.jsx)(a.X6,{color:"inverse",size:"400",lineClamp:1,children:v}),g=(0,d.Z)({url:f})?"nofollow":"none";h=f?(0,u.jsx)(a.rU,{rel:g,href:f,children:y}):y}else h=(0,u.jsx)(a.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return r&&(m=e?"board":"saved"),(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!p&&o()("SavedAnimation",m),children:h})]})}}])&&h(n.prototype,t),r&&h(n,r),p}(i.Component);n.Z=function(e){var n=(0,l.ZP)();return(0,u.jsx)(P,f(f({},e),{},{i18n:n}))}},159262:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(958083);function r(e){var n=e.feedbackType,t=e.viewParameter,r=e.boardFollowedByMe,o=e.hasPromoter,a=e.isDownstreamPromotion,l=e.pinnerFollowedByMe,s=e.hasRecommendationReason,c=e.recommendationReasonHasBoard,d=e.recommendationReasonReason;return(0,i.hP)({boardFollowedByMe:r,feedbackType:n,promotion:o?{isDownstreamPromotion:a}:void 0,pinnerFollowedByMe:l,recommendationReason:s?{hasBoard:c,reason:d}:void 0,viewParameter:t})}},981628:function(e,n,t){"use strict";t.d(n,{W:function(){return l},Z:function(){return s}});var i=t(249444),r=t(536042),o=t(389282),a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},l={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function s(e){var n=e.isCloseupButton,t=e.isDisabled,s=e.isFavorited,c=e.onTap,d=e.size,u=(0,r.ZP)();return n?(0,o.jsx)(i.hU,{accessibilityLabel:u._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:s?l:a,disabled:t,iconColor:"darkGray",onClick:c,size:"lg"}):(0,o.jsx)(i.iP,{disabled:t,onTap:c,children:(0,o.jsx)(i.JO,{accessibilityLabel:u._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:s?l:a,size:d})})}},924255:function(e,n,t){"use strict";function i(e){var n=e.split("/");return[n[2],n[1]]}function r(e,n){return!e||!e.some((function(e){return e.pin_type===n}))}t.d(n,{E:function(){return r},J:function(){return i}})},105848:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var i=t(249444),r=t(536042),o=t(734417),a=t(630089),l=t(31407),s=t(282802),c=t(846226),d=t(458870),u=t(389282),p=function(e){var n=e.rating,t=e.textSize;if("single"===e.type){var r=parseFloat(n);return Number.isNaN(r)?null:(0,u.jsxs)(i.kC,{alignItems:"center",children:[(0,u.jsx)(l.A,{fill:"full",width:12}),(0,u.jsx)(i.xv,{size:t,children:r.toFixed(1)})]})}return(0,u.jsx)(l.Z,{rating:n,width:12})},_=function(e){var n=e.bracket,t=e.count,l=e.countFormat,d=e.countType,p=e.marginStart,_=e.textSize,f=e.underline,h=(0,s.B)().locale,m=(0,r.ZP)(),v=(0,o.Z)();if(null==t)return null;var y=v(h,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===l){var g="review"===d?m.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');y=(0,a.nk)(g,{count:t}).join("")}return n&&(y="(".concat(y,")")),(0,u.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:f?"1px solid gray":"none"}},marginStart:p,children:(0,u.jsx)(i.xv,{color:f?"subtle":"default",size:_,underline:f,children:(0,u.jsx)(c.Z,{id:"ratings-count-text",display:"inlineBlock",children:y})})})};function f(e){var n=e.bracket,t=e.count,r=e.countFormat,o=e.countType,a=e.rating,l=e.textSize,s=e.underline;return(0,d.Z)({count:t,rating:a})?(0,u.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(p,{rating:a,textSize:l,type:"multiple"}),(0,u.jsx)(_,{bracket:n,count:t,countFormat:r,countType:o,textSize:l,underline:s})]}):null}},458870:function(e,n,t){"use strict";function i(e){var n=e.count,t=e.rating;return Boolean(t&&"None"!==t&&Number.isFinite(n))}t.d(n,{Z:function(){return i}})},462887:function(e,n,t){"use strict";t.d(n,{Z:function(){return c},j:function(){return s}});var i=t(249444),r=t(536042),o=t(630089),a=t(245410),l=t(389282),s=[0,2,3];function c(e){var n,t=e.hasAffiliateProducts,c=e.href,d=e.isPromoted,u=e.onNavigateSponsorClick,p=e.sponsorName,_=e.sponsorUsername,f=e.sponsorshipStatus,h=e.textWeight,m=void 0===h?"bold":h,v=(0,r.ZP)(),y=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,b=c||(_?"/".concat(_,"/"):null),P=b&&p?(0,l.jsx)(i.rU,{href:b,onClick:u,children:(0,l.jsx)(i.xv,{weight:m,size:"200",children:p})},p):void 0;d?n=(0,o.nk)(v._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:P}):f||0===f?p&&!s.includes(f)?n=(0,o.nk)(v._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:P}):g&&2===f||(n=v._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):t&&(n=v._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));var x=y&&!d?"Ad  ":"";return(0,l.jsxs)(i.xv,{inline:!0,size:"200",lineClamp:2,children:[x,n]})}},27991:function(e,n,t){"use strict";t.d(n,{Nb:function(){return l},Of:function(){return s},YO:function(){return a},x4:function(){return d}});var i=t(658379),r=t(310646),o=t(578702),a=function(e){var n=e.showProductDetailPage,t=e.isLargerPane,i=e.showCloseupContentRight;return n&&t?i?o.Uj:o.zT:1},l=(0,r.qe)((function(e){return{paneWidth:e.paneWidth,pdpCarouselSlotToPaneRatio:e.pdpCarouselSlotToPaneRatio,showCloseupContentRight:e.showCloseupContentRight,showProductDetailPage:e.showProductDetailPage,viewportSize:e.viewportSize,maxWidth:e.maxWidth,descriptionPaneWidth:e.descriptionPaneWidth}})),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:o.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:o.u6,descriptionPaneWidth:o.u6-o.Gg},c=(0,i.createContext)(s);function d(){var e=(0,i.useContext)(c);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}n.ZP=c},251951:function(e,n,t){"use strict";t.d(n,{R:function(){return o},q:function(){return r}});var i=(0,t(583592).Z)("CloseupPageContext"),r=i.Provider,o=i.useHook},979275:function(e,n,t){"use strict";var i=t(249444),r=t(536042),o=t(282802),a=t(389282);n.Z=function(e){var n=e.onSendButtonClick,t=e.trackShareTap,l=e.color,s=e.size,c=e.bgColor,d=(0,r.ZP)(),u="android"===(0,o.B)().userAgent.platform;return(0,a.jsx)(i.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:function(e){var i=e.event;n(i),t()},size:s||"lg",bgColor:c||"transparent",iconColor:l||"darkGray",icon:u?"android-share":"share"})}},925428:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var i=t(261783),r=t(249444),o=t(572559),a=t(374749),l=t(388011),s=t(27991),c=t(533451),d=t(525104),u=t(389282);function p(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){m(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0;if(!(arguments.length>10?arguments[10]:void 0)){var u=o.carousel_slots,p=o.id;e({event_type:108,object_id_str:t,component:c,view_type:s,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[i])&&Number(u[i].id),carouselDataId:Number(p),carouselSlotIndex:i,toCarouselSlotIndex:r}},aux_data:h(h({},d),(0,a.Kl)(n)||{})})}},y=8;function g(e){var n,t,a=e.carouselData,_=e.carouselIndex,f=e.componentType,h=e.contextLogData,m=e.handleCarouselSwipe,g=e.isCloseup,b=e.isEditMode,P=e.pinId,x=e.viewParameter,w=e.viewType,S=e.variant,O=(0,l.v)().logContextEvent,j=(0,d.S6)()(P),I=a||(0,o.Z)({carouselData:null==j?void 0:j.carousel_data,images:null==j?void 0:j.images,product:null===(n=(null==j?void 0:j.rich_metadata)||(null==j?void 0:j.rich_summary))||void 0===n||null===(t=n.products)||void 0===t?void 0:t[0]}),A=(0,i.useDispatch)();if(!I)return null;var T=I.carousel_slots,E=void 0===T?[]:T,k=I.index,R=void 0!==_?_:k,C="default"===S,D=C?"white":"#555",N=C?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(s.ZP.Consumer,{children:function(e){return"sm"===e.viewportSize?null:(0,u.jsx)(r.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:g?"end":"center",paddingY:b?1:0,children:p(Array(E.length).keys()).map((function(e){var n;return(0,u.jsx)(r.xu,{paddingX:1,children:(0,u.jsx)(r.iP,{accessibilityLabel:null!==(n=E[e].title)&&void 0!==n?n:"",fullWidth:!1,onTap:function(n){return function(e,n,t){b||void 0===c.yR||(e.preventDefault(),e.stopPropagation(),A((0,c.yR)(String(P),t))),void 0!==m&&m(t),v(O,j,P,n,t,I,x,w,f,h,b)}(n.event,R,e)},rounding:"circle",children:(0,u.jsx)(r.xu,{"data-test-id":"ellipsis-size",height:y,width:y,dangerouslySetInlineStyle:{__style:{backgroundColor:e===R?D:N}},rounding:"circle"})})},P+e)}))})}})}},449879:function(e,n,t){"use strict";t.d(n,{ZP:function(){return l},tY:function(){return c},Yh:function(){return s}});var i=t(261783),r=t(819079),o=t(802071);var a={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1};function l(e){var n,t=(0,o.Z)(),i=t.isAuth&&t.id===e,a=(0,r.Z)(!t.isAuth||i?null:{name:"UserResource",options:{field_set_key:"quicksave",user_id:e}});return{showEnabledSaveBehavior:i&&t.has_quicksave_board||!(!t.isAuth||null===(n=(null!=a?a:{}).data)||void 0===n||!n.has_quicksave_board)}}function s(e){var n,t=(0,i.useDispatch)(),a=(0,o.Z)(),l=a.isAuth&&!!a.boardCount&&a.boardCount<5&&e,s=(0,r.Z)(l&&e?{name:"UserResource",options:{field_set_key:"save_behavior",user_id:a.isAuth&&a.id}}:null);return a.isAuth&&void 0===a.save_behavior&&s&&null!==(n=s.data)&&void 0!==n&&n.id&&t({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:s.data.save_behavior}}),{showEnabledSaveBehavior:l}}function c(e){var n,t=(0,o.Z)();return e&&(t.save_behavior===a.SAVE_TO_PROFILE?n={type:"classic"}:t.save_behavior===a.SHOW_BOARD_PICKER&&(n={type:"inline"})),{saveBehaviorType:n}}},838419:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var i=t(867221),r=t(819079);function o(){var e=(0,i.useParams)().username;return(0,r.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},533451:function(e,n,t){"use strict";function i(e,n){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:n}}}function r(e,n){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:n}}}function o(e,n,t,i,r){return{type:"PIN_SAVE",payload:{id:e,boardId:n,title:t,url:i,localPinId:r}}}function a(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,undoAction:e.undoAction,undoActionOptions:e.undoActionOptions,undoText:e.undoText}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,n){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:n}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function p(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function f(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}t.d(n,{Gb:function(){return a},I1:function(){return c},Ib:function(){return u},NA:function(){return s},Ur:function(){return o},Vw:function(){return l},b9:function(){return _},i0:function(){return p},mO:function(){return r},q1:function(){return d},yR:function(){return i},yj:function(){return f}})},755040:function(e,n,t){"use strict";t.d(n,{k:function(){return o},s:function(){return a}});var i=t(658379),r=(0,i.createContext)(Object.freeze({})),o=r.Provider;function a(){return(0,i.useContext)(r)}},385929:function(e,n,t){"use strict";t.d(n,{Ac:function(){return o},c7:function(){return r},cg:function(){return i}});var i=-1,r=5,o=6},196039:function(e,n,t){"use strict";t.d(n,{Ai:function(){return I},B5:function(){return v},CR:function(){return _},Cc:function(){return c},HG:function(){return w},R_:function(){return u},Wz:function(){return d},_P:function(){return x},dX:function(){return O},gx:function(){return f},h8:function(){return l},hk:function(){return p},lp:function(){return g},lt:function(){return m},oe:function(){return S},r4:function(){return P},rM:function(){return j},tD:function(){return h}});var i=t(249444);function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},s={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},c=o(o({},s),{},{font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28}),d=o(o({},s),{},{font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48}),u=64,p=64,_=48,f=48,h=new i.Ry(5),m=new i.H3([h]),v=new i.H3([m]),y=new i.H3([h]),g=new i.H3([y]),b=2,P=4;function x(e){return e?{paddingX:0,paddingY:0}:{paddingX:b,paddingY:P}}var w=6,S=47,O=8,j=4,I=5}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/93734-430ed5271f4577c7.js.map