"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[97902,78369],{243600:function(e,t){var n=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif"].join(",");t.Z=n},882973:function(e,t,n){n.d(t,{Pw:function(){return r},SB:function(){return o},ZP:function(){return a},x9:function(){return i}});var r=80,o=56,i=function(e){return"phone"===e?o:r};function a(e,t){return t?0:i(e)}},369840:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(658379),o=n(249444),i=n(243600),a=n(536042),s=n(389282);function l(e){var t=e.dataTestId,n=e.focusOptionId,l=e.isFocused,c=e.name,u=e.onBlur,d=e.onChange,h=e.onClick,p=void 0===h?function(){}:h,_=e.onFocus,f=e.onKeyDown,g=e.onSearchTrigger,b=e.placeholder,y=e.value,x=e.disabled,m=void 0!==x&&x,v=(0,a.ZP)(),w=(0,r.useRef)(null);return(0,r.useEffect)((function(){w.current&&g&&w.current.addEventListener("searchTrigger",g)}),[]),(0,r.useEffect)((function(){w.current&&(document.activeElement===w.current!==l&&(l?w.current.focus():w.current.blur()))}),[l]),(0,s.jsxs)(o.xu,{height:"100%",flex:"grow",children:[(0,s.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":n,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":v._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),"aria-expanded":l,"data-test-id":t,name:c,onBlur:u,onChange:function(e){d(e.target.value)},onClick:p,onFocus:_,onKeyDown:f,placeholder:b||v._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),ref:w,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:i.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:y,disabled:m}),(0,s.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:v._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}},118482:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(739425);function o(e){var t,n=(0,r.mB)(e.search)||{};if(n.q){var o=e.pathname.split("/");t=o.length>2?o[2]:"pins"}if(n.q&&t){var i=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,s=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:s,query:i||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t||"idea_pins"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},197902:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var r=n(867221),o=n(249444),i=n(988014),a=n(245410),s=n(549201),l=n(219097),c=n(363893),u=n(261783),d=n(563962),h=n(788241),p=n(377234),_=n(784964),f=function(e){var t,n,r=e.children,o=e.fallback;return t=(0,u.useSelector)((function(e){var t;return!(null==e||null===(t=e.session)||void 0===t||!t.isSeoBot)})),n=(0,_.Z)(),t||n?r:o||null},g=n(536042),b=n(282802),y=n(618569),x=n(882973),m=n(700453),v=n(799006),w=n(536540),j=n(352865),P=n(98736);var S=n(339544),k=n(389282);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){var e=(0,g.ZP)(),t=(0,r.useLocation)(),n=(0,r.useHistory)(),s=(0,h.SU)(),l=s.viewType,c=s.viewParameter,_=(0,u.useSelector)((function(e){return e.session})),A=_.userAgentPlatform,z=_.userAgent,O=(0,b.B)().isBot,B=(0,j.Rp)({isBot:O,platform:A,userAgent:z}),I=(0,S.Z)(),T=function(){var e=(0,b.B)().isBot;return function(t,n){e||(0,P.NC)(t,n)}}(),L=(0,v.Z)(),E=(0,a.F)().checkExperiment,Z=(0,d.Z)(),D=(0,y.Z)(),U=E("pcons_mweb_sign_in_copy").anyEnabled?e._('Sign in', 'unauth.sign_in.text', 'Label for sign in button'):e._('Log in', 'Label for log in button', 'Label for log in button'),F=e._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),M=!B&&!(0,i.Xn)(t),R=((0,i.dr)(t)||(0,i.$Y)(t)||(0,i.E0)(t))&&!E("lex_follow_button").group.includes("main_cta"),q=!L||I||R?"signup":"download",H=E("mweb_unauth_login_primary_header").group,N=H.includes("login_primary"),W=!N&&H.includes("login"),$=e._('Download', 'mweb.unauth.interstitial_upsell.download_button_text', 'CTA on the app interstitial upsell to install the app'),K=(M?U.length:0)+("signup"===q?F.length:0)+("download"===q?$.length:0),G=(0,k.jsx)(o.zx,{fullWidth:!0,color:N?"white":R?"red":"gray",onClick:function(){D({action:"click",within:"unauth-header",item:"signup-button"}),Z({component:13198,element:31,event_type:102,view_type:l,view_parameter:c}),T("press_header_signup"),Z({event_type:14688,element:31,component:14215,view_type:l,view_parameter:c,aux_data:{upsell_reason:"click_signup_on_header"}}),n.push({pathname:"/signup",state:C({attributionLabel:"click_signup_on_header"},t.state)})},size:"md",text:F});return(0,k.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)",backgroundColor:(0,p.Yc)()?"#333":"white",transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:"translateY(0)"}},top:!0,left:!0,width:"100vw",position:"relative",paddingX:3,children:(0,k.jsxs)(o.xu,{alignItems:"center","data-test-id":"unauth-header",direction:"row",display:"flex",justifyContent:"between",children:[(0,k.jsx)(o.iP,{accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell'),onTap:function(){D({action:"click",within:"unauth-header",item:"pinterest-logo"})},children:(0,k.jsxs)(o.xu,{alignItems:"center",display:"flex",direction:"row",marginEnd:3,children:[(0,k.jsx)(o.xu,{alignItems:"center",display:"flex",height:x.SB,justifyContent:"center",rounding:2,"data-test-id":"pinterest-logo-icon",children:(0,k.jsx)(o.iP,{role:"link",tapStyle:"none",href:"/",children:B?(0,k.jsx)(w.Z,{size:24}):(0,k.jsx)(o.hU,{icon:"pinterest",iconColor:"brandPrimary",padding:1,size:"xl",accessibilityLabel:e._('Pinterest App', 'Pinterest icon for app upsell', 'Pinterest icon for app upsell')})})}),(0,k.jsx)(o.xu,{paddingY:2,paddingX:1,"data-test-id":"pinterest-logo-text",children:K<18&&(0,k.jsxs)(o.xu,{children:[(0,k.jsx)(o.X6,{color:"error",size:"400",overflow:"normal",children:B?e._('Pinterest Lite', 'Pinterest lite brand for the app upsell', 'Pinterest lite brand for the app upsell'):e._('Pinterest', 'Pinterest brand for the app upsell', 'Pinterest brand for the app upsell')}),B&&(0,k.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,k.jsx)(o.xu,{children:(0,k.jsx)(o.xv,{inline:!0,size:"100",color:"subtle",children:e._('Save space on your device', 'Unauth app upsell copy that describe Pinterest product core value to users', 'Unauth app upsell copy that describe Pinterest product core value to users')})})})]})})]})}),(0,k.jsx)(f,{children:(0,k.jsxs)(o.xu,{marginEnd:0,flex:"none",alignItems:"center",display:"flex",direction:"row","data-test-id":"UnauthAppUpsellButton",children:["signup"===q&&N&&(0,k.jsx)(o.xu,{"data-test-id":"signup-button",children:G}),M&&(0,k.jsx)(o.xu,{"data-test-id":"login-button",children:(0,k.jsx)(o.zx,{fullWidth:!0,color:H.includes("red")&&"signup"===q?"red":H.includes("gray")&&"signup"===q?"gray":"white",onClick:function(){D({action:"click",within:"unauth-header",item:"login-button"}),Z({component:13198,element:30,event_type:102,view_type:l,view_parameter:c}),T("press_header_login"),Z({event_type:14688,element:30,component:14213,view_type:l,view_parameter:c,aux_data:{upsell_reason:"click_login_on_header"}}),n.push({pathname:"/login",state:C({attributionLabel:"click_login_on_header"},t.state)})},size:"md",text:U})}),"signup"!==q||W||N?"signup"!==q&&(0,k.jsx)(o.xu,{"data-test-id":"download-button",children:(0,k.jsx)(m.Z,{componentType:14161,within:"unauth-header",children:function(e){var n=e.handleOpenApp;return(0,k.jsx)(o.zx,{fullWidth:!0,color:(0,i.j8)(t)||E("lex_follow_button").group.includes("main_cta")?"gray":"red",onClick:function(){return n()},size:"md",text:$})}})}):(0,k.jsx)(o.xu,{"data-test-id":"signup-button",children:G})]})})]})})}var B=n(348401),I=new o.Ry(5),T=new o.Ry(1),L={signup:{attributionLabel:"click_signup_on_header",signupFlow:{type:"signup"},source:"defaultSource"},login:{attributionLabel:"click_login_on_header",signupFlow:{type:"login"},source:"login"}},E=function(e){return(0,i.mP)(e)||(0,i.hd)(e)},Z=function(e){return(0,i.Ni)(e)||(0,i.Xn)(e)||(0,i.C$)(e)||(0,i.kY)(e)||"/invited/"===e.pathname},D=function(e){var t=e.deviceType,n=(0,r.useLocation)(),s=(0,l.Z)(),u=(0,B.Z)(),d=(0,a.F)().checkExperiment,h=(0,k.jsxs)(o.xu,{color:"default",children:["tablet"===t?!(0,i.En)(n)&&!(0,i.Xn)(n)&&(0,k.jsx)(c.Z,{}):("enabled_ignore_app_upsell_eligibility"===d("pcons_header_on_created_and_saved_tab").group?!s:"enabled"===d("pcons_header_on_created_and_saved_tab").group?u&&!s:u&&(!function(e){return e.pathname.includes("_created")||e.pathname.includes("boards")||e.pathname.includes("_saved")}(n)||"enabled_add_tabs"===d("pcons_header_on_created_and_saved_tab").group)&&!s)&&(0,k.jsx)(O,{})," "]});return function(e){return(0,i.mP)(e)}(n)?(0,k.jsx)(o.xu,{zIndex:I,position:"fixed",width:"100%",children:h}):(0,k.jsx)(o.Le,{top:0,zIndex:I,children:h})};function U(e){var t=e.showDesktopSignupModal,n=(0,s.ZP)(),i=(0,r.useLocation)();if("desktop"===n){var a=(0,k.jsx)(c.Z,{showDesktopSignupModal:t&&function(e){return t({signupFlow:L[e].signupFlow,attributionLabel:L[e].attributionLabel,source:L[e].source,container:"unauth_header",reason:"CLICK_LOGIN_OR_SIGNUP"})}});return E(i)?(0,k.jsx)(o.xu,{width:"100%",position:"fixed",zIndex:T,children:a}):!Z(i)&&a}return(0,k.jsx)(D,{deviceType:n})}},363893:function(e,t,n){n.d(t,{Z:function(){return re}});var r=n(658379),o=n(867221),i=n(249444),a=n(563962),s=n(788241),l=n(536042),c=n(98736),u=n(618569),d=n(604094),h=n(988014),p=n(245410),_=n(643183),f=n(846226),g=n(282802),b=n(806685),y=n(578369),x=n(389282);function m(e){var t=e.isDesktop,n=(0,l.ZP)(),r=(0,o.useRouteMatch)(),a=(0,u.Z)(),s=(0,g.B)(),c=s.country,d=s.isBot,h=s.isAuthenticated,p=s.locale,_=(0,b.bl)(),f="en"===p.slice(0,2),m=f,v=d||!h&&f,w=[];_&&w.push({text:n._('Today', 'unauth.header.tabs.today', 'label for today tab'),href:(0,y.tG)()}),m&&w.push({text:n._('Watch', 'unauth.header.tabs.videos', 'label for the videos hub tab'),href:"/videos/"}),v&&w.push({text:n._('Shop', 'unauth.header.tabs.shop', 'label for the shopping hub tab'),href:"/shopping/"}),w.push({text:h||"JP"!==c?n._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'):n._('Explore ideas', 'unauth.header.tabs.ideas.jp', 'label for jp ideas hub'),href:"/ideas/"});var j=-1;return r.path.startsWith("/today/")?j=w.findIndex((function(e){return e.href===(0,y.tG)()})):r.path.startsWith("/ideas/")?j=w.findIndex((function(e){return"/ideas/"===e.href})):r.path.startsWith("/videos/")?j=w.findIndex((function(e){return"/videos/"===e.href})):r.path.startsWith("/shopping/")&&(j=w.findIndex((function(e){return"/shopping/"===e.href}))),(0,x.jsx)(i.mQ,{activeTabIndex:j,onChange:function(e){var n=e.activeTabIndex;w[n].href===(0,y.tG)()?a({action:"click",item:"site-map-today"}):"/videos/"===w[n].href?a({action:"click",item:"site-map-videos"}):"/ideas/"===w[n].href?a({action:"click",item:"site-map-ideas"}):"/shopping/"===w[n].href&&a({action:"click",item:"root-nav-shopping"}),t&&(window.location.href=w[n].href)},tabs:w})}var v=n(965533),w=n(819079),j=n(497088),P=n(369840),S=n(118482),k=n(649715),A=(0,n(583592).Z)("UnauthHeaderContext"),C=A.Provider,z=A.useHook,O=n(882973),B=n(198541);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t){return Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,n)}}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=(0,r.lazy)((function(){return n.e(26384).then(n.bind(n,826384))})),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(a,e);var t,n,r,o=D(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),M(U(t=o.call(this,e)),"onResize",(function(){t.setState({windowHeight:window.innerHeight})})),M(U(t),"handleTypeaheadItemHover",(function(e){t.setState({hoverItem:e})})),M(U(t),"handleTypeaheadItemSelected",(function(e,n){var r=(0,k.Z)(n),o=e.query||"",i=e.url;if(i){var a={eq:r,etslf:Date.now()-t._lastFocused};i=(0,B.Z)(i,a),t.setState({focused:!1,hoverItem:void 0,text:o,query:o}),t.navigate(o,i)}})),M(U(t),"handleTypeaheadMouseOut",(function(){t.setState({hoverItem:void 0})})),M(U(t),"handleBlur",(function(){t.props.onBlur&&t.props.onBlur(),t.setState({focused:!1})})),M(U(t),"handleClick",(function(){t.props.trackInteraction({action:"click",item:"search-input"}),t.setState({focused:!0})})),M(U(t),"handleFocus",(function(){(0,c.My)("unauth.search_box.click.focus"),(0,c.NC)("focus_search_box",!0),t._lastFocused=Date.now(),t.setState({focused:!0})})),M(U(t),"handleKeyDown",(function(e){var n=t.state.hoverItem;switch(e.key){case"Enter":t.handleSubmit(e);break;case"Escape":t.handleBlur();break;case"ArrowUp":case"ArrowDown":e.preventDefault();var r,o="ArrowUp"===e.key,i=t.state.typeaheadSuggestions;r=n?i.indexOf(n)+(o?-1:1):o?i.length-1:0,t.handleTypeaheadItemHover(i[r])}})),M(U(t),"handleSubmit",(function(e){(0,c.My)("unauth.search_box.submit-search"),e.preventDefault(),t.state.hoverItem?t.handleTypeaheadItemSelected(t.state.hoverItem,t.state.text):t.handleTypedSubmission(e)})),M(U(t),"handleTypeaheadSuggestionsChange",(function(e){t.setState({typeaheadSuggestions:e})})),M(U(t),"handleTypedSubmission",(function(e){var n=t.state.text.trim();if(""!==n){var r=encodeURIComponent(n),o=t.state.currentScope||"pins",i="recent_week"===t.state.currentBoost?"/search/pins/recent/?q=".concat(r):"/search/".concat(o,"/?q=").concat(r);i+="&rs=typed";var a=(0,k.Z)(n);t.setState({text:a,query:a}),t.handleBlur(),t.navigate(n,i)}})),M(U(t),"handleTextChange",(function(e){t.state.hoverItem?t.setState({hoverItem:void 0,text:e}):t.setState({text:e})})),M(U(t),"clearAndFocusSearchBox",(function(){t.setState({text:"",query:"",focused:!0})}));var n=e.queryString;return t.state={currentBoost:"",currentScope:"",focused:!!e.initialFocus,hoverItem:void 0,prevOriginalQuery:e.initialText||n,query:n,text:n||e.initialText||"",typeaheadSuggestions:[],windowHeight:void 0},t}return t=a,n=[{key:"componentDidMount",value:function(){this.onResize(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"logSearchPinNavigateClick",value:function(){this.props.logContextEvent({component:43,element:227,event_type:101,view_type:2,view_parameter:43}),(0,c.My)("unauth.search_box.search")}},{key:"navigate",value:function(e,t){this.logSearchPinNavigateClick(),(0,v.Z)(t,!1),setTimeout((function(){(0,c.NC)("searchbox_query",!0)}),0)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.headerOffsetTop,o=n.i18n,a=this.state,s=a.focused,l=a.hoverItem,c=a.query,u=a.text,h=a.windowHeight,p=s&&c?"":o._('Search for easy dinners, fashion, etc.', ' - ', ' -- ');h&&this._form&&this._form.getBoundingClientRect&&(e=h-14-this._form.getBoundingClientRect().bottom);var _=O.Pw+r;return(0,x.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:(0,x.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[s&&(0,x.jsx)(i.xu,{position:"fixed",right:!0,bottom:!0,left:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)",top:"".concat(_,"px")}}}),(0,x.jsx)("form",{action:"/search/pins/",method:"get",name:"search",onSubmit:this.handleSubmit,ref:function(e){t._form=e},style:{flexGrow:"1"},children:(0,x.jsxs)(i.xu,{display:"block",position:"relative",width:"100%",children:[(0,x.jsxs)(i.xu,{alignItems:"center",borderStyle:"lg",color:"default",display:"flex",height:48,position:"relative",rounding:6,children:[(0,x.jsx)("em",{}),(0,x.jsx)(i.xu,{flex:"none",marginStart:4,marginEnd:2,children:(0,x.jsx)(i.JO,{accessibilityLabel:o._('search', 'accessible label for search icon', 'accessible label for search icon'),icon:"search",size:16})}),(0,x.jsxs)(i.kC,{alignItems:"center",flex:"grow",justifyContent:"start",overflow:"hidden",children:[(0,x.jsx)(P.Z,{dataTestId:"search-input",isFocused:s,name:"q",onBlur:this.handleBlur,onChange:this.handleTextChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,placeholder:p,value:l&&l.label||u}),u&&(0,x.jsx)(i.xu,{marginEnd:1,children:(0,x.jsx)(i.hU,{accessibilityLabel:o._('cancel', 'accessible label for cancel icon', 'accessible label for cancel icon'),icon:"clear",onClick:this.clearAndFocusSearchBox,size:"md",iconColor:"gray"})})]})]}),(0,x.jsx)(d.Z,{name:"SafeSuspense_UnauthHeaderSearchBox_SearchTypeahead",children:(0,x.jsx)(j.Z,{children:(0,x.jsx)(R,{emptySuggestions:this.props.emptySuggestions,focused:s,hoverItem:this.state.hoverItem,maxHeight:e,onBlur:this.handleBlur,onHover:this.handleTypeaheadItemHover,onTypeaheadItemSelected:this.handleTypeaheadItemSelected,onTypeaheadMouseOut:this.handleTypeaheadMouseOut,onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,typeaheadSuggestions:this.state.typeaheadSuggestions,value:u})})})]})})]})})}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.initialText,r=e.queryString,o=n||r;return o!==t.prevOriginalQuery?{prevOriginalQuery:o,currentBoost:"",text:o,query:o,currentScope:"",hoverItem:void 0}:{}}}],n&&E(t.prototype,n),r&&E(t,r),a}(r.PureComponent);function H(e){var t=(0,a.Z)(),n=(0,u.Z)(),r=(0,l.ZP)(),i=z().headerOffsetTop,s=void 0===i?0:i,c=(0,o.useLocation)(),d=(0,S.Z)(c).query,h=(0,p.F)().checkExperiment("dweb_unauth_slp_content").anyEnabled,_=(0,w.Z)({name:"SearchTabResource"}).data;return(0,x.jsx)(q,L(L({},e),{},{emptySuggestions:h&&null!=_?_:[],headerOffsetTop:s,i18n:r,location:c,logContextEvent:t,trackInteraction:n,queryString:d}))}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=(0,r.lazy)((function(){return n.e(98253).then(n.bind(n,398253))})),K=(0,r.lazy)((function(){return n.e(14837).then(n.bind(n,114837))})),G=(0,r.forwardRef)((function(e,t){var n=e.isDesktop,a=e.onPrimaryButtonClick,s=e.onLoginButtonClick,g=e.primaryButtonText,b=N((0,r.useState)(!1),2),y=b[0],v=b[1],w=N((0,r.useState)(!1),2),j=w[0],P=w[1],S=(0,l.ZP)(),k=(0,o.useLocation)(),A=(0,r.useRef)(null),C=(0,r.useRef)(null),z=(0,r.useRef)(null),B=(0,r.useRef)(null),I=(0,r.useRef)(null),T=(0,p.F)().checkExperiment,L=(0,u.Z)(),E=n&&(0,h.C$)(k),Z=n&&!(0,h.C$)(k),D=n&&!(0,h.C$)(k)&&T("dweb_unauth_profile_v0").anyEnabled,U=N((0,h.C$)(k)&&["red","gray"]||(0,h.uM)(k)&&["transparent","gray"]||["gray","red"],2),F=U[0],M=U[1];return(0,r.useEffect)((function(){if(Z){var e=function(e){var t,n,r=e.target;!(r instanceof Node)||null!==(t=z.current)&&void 0!==t&&t.contains(r)||null!==(n=C.current)&&void 0!==n&&n.contains(r)||v(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}}),[Z]),(0,r.useEffect)((function(){if(D){var e=function(e){var t,n,r=e.target;!(r instanceof Node)||null!==(t=I.current)&&void 0!==t&&t.contains(r)||null!==(n=B.current)&&void 0!==n&&n.contains(r)||P(!1)};return window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}}),[D]),(0,x.jsxs)(i.xu,{alignItems:"center",color:"default",direction:"row",display:"flex",height:O.Pw,justifyContent:"between",padding:4,ref:t,width:"100%",children:[(0,x.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,x.jsx)(i.iP,{onTap:function(){L({action:"click",item:"pinterest-logo",within:"unauth-header"})},children:(0,x.jsx)(f.Z,{id:"unauth-header-logo",children:(0,x.jsx)(i.rU,{href:"/",target:"self",display:"inlineBlock",tapStyle:"compress",rounding:"pill",underline:"none",onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},children:(0,x.jsxs)(i.xu,{display:"flex",alignItems:"center",direction:"row",paddingX:3,children:[(0,x.jsx)(i.JO,{accessibilityLabel:S._('Pinterest', 'Pinterest logo', 'Pinterest logo'),icon:"pinterest",size:E?32:24,color:"brandPrimary"}),n&&(0,x.jsx)(i.xu,{marginStart:1,dangerouslySetInlineStyle:{__style:{letterSpacing:"-1px"}},onClick:function(){L({action:"click",item:"pinterest-logo"})},children:(0,x.jsx)(i.X6,{size:"400",color:"error",overflow:"normal",accessibilityLevel:E?1:2,children:S._('Pinterest', 'Company name', 'Company name')})})]})})})}),!((0,h.C$)(k)&&n)&&(0,x.jsx)(m,{isDesktop:n})]}),!(0,h.C$)(k)&&(0,x.jsx)(i.xu,{display:"none",mdDisplay:"block",flex:"grow",paddingX:2,"data-test-id":"search-box-container",children:(0,x.jsx)(H,{})}),(0,x.jsxs)(i.kC,{alignItems:"center",direction:"row",flex:"none",justifyContent:"start",children:[(0,h.C$)(k)&&(0,x.jsxs)(i.xu,{display:"flex",alignItems:"center",justifyContent:"between",marginEnd:6,children:[(0,x.jsx)(i.xu,{margin:4,"data-test-id":"header-about-button",children:(0,x.jsx)(i.xv,{weight:"bold",children:(0,x.jsx)(i.rU,{href:"/_/_/about/",target:"blank",onClick:function(){(0,c.My)("unauth.homepage_redesign.about_button_click"),L({action:"click",item:"header-about-button"})},children:S._('About', 'Link to page describing what Pinterest is.', 'Link to page describing what Pinterest is.')})})}),(0,x.jsx)(i.xu,{margin:4,"data-test-id":"header-business-button",children:(0,x.jsx)(i.xv,{weight:"bold",children:(0,x.jsx)(i.rU,{href:"/_/_/business/",target:"blank",onClick:function(){(0,c.My)("unauth.homepage_redesign.business_button_click"),L({action:"click",item:"header-business-button"})},children:S._('Business', 'unauth.homepage.link', 'Link to the Pinterest business site.')})})}),(0,x.jsx)(i.xu,{margin:4,"data-test-id":"header-blog-button",children:(0,x.jsx)(i.xv,{weight:"bold",children:(0,x.jsx)(i.rU,{href:"/_/_/blog/",target:"blank",onClick:function(){(0,c.My)("unauth.homepage_redesign.blog_button_click"),L({action:"click",item:"header-blog-button"})},children:S._('Blog', 'Link to the Pinterest business site.', 'Link to the Pinterest business site.')})})})]}),(0,x.jsx)(i.xu,{marginEnd:2,"data-test-id":E?"simple-login-button":"login-button",children:(0,x.jsx)(i.zx,{text:S._('Log in', 'Label for log in button', 'Label for log in button'),onClick:function(e){var t=e.event;return s(t)},size:E?"md":"lg",color:n&&T("pcons_login_primary_dweb").anyEnabled?n&&(0,h.uM)(k)&&T("pcons_login_primary_dweb").group.includes("pin_page_secondary")?"gray":"red":F,ref:A})}),(!n||!T("pcons_login_primary_dweb").anyEnabled)&&(0,x.jsx)(i.xu,{"data-test-id":E?"simple-signup-button":"signup-button",children:(0,x.jsx)(i.zx,{text:g,onClick:function(e){a(e.event)},color:T("lex_follow_button").group.includes("main_cta")?"gray":M,size:E?"md":"lg"})}),D&&(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(i.xu,{ref:B,children:(0,x.jsx)(i.xu,{display:"flex",marginStart:3,marginTop:3,marginBottom:3,justifyContent:"center",children:(0,x.jsx)(i.iP,{rounding:"circle",onTap:function(e){var t=e.event;t.preventDefault(),t.stopPropagation();var n=j;P(!j),(0,c.My)("unauth.dweb.header.profile_icon.click.".concat(n?"hide":"show"))},children:(0,x.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,x.jsxs)("g",{clipPath:"url(#clip0_4_10)",children:[(0,x.jsx)("path",{d:"M24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24C18.6274 24 24 18.6274 24 12Z",fill:"#E9E9E9"}),(0,x.jsx)("path",{d:"M4.57597 21.4285C5.09588 17.7938 8.22157 15 12 15C15.7784 15 18.9041 17.7938 19.424 21.4285C17.3815 23.039 14.803 24 12 24C9.19702 24 6.6185 23.039 4.57597 21.4285Z",fill:"#7B7A7A"}),(0,x.jsx)("path",{d:"M12 14.25C14.2785 14.25 16.125 12.4035 16.125 10.125C16.125 7.8465 14.2785 6 12 6C9.7215 6 7.875 7.8465 7.875 10.125C7.875 12.4035 9.7215 14.25 12 14.25Z",fill:"#7B7A7A"})]}),(0,x.jsx)("defs",{children:(0,x.jsx)("clipPath",{id:"clip0_4_10",children:(0,x.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})})})}),j&&(0,x.jsx)(d.Z,{name:"SafeSuspense_UnauthHeader_UnauthProfileFlyout",children:(0,x.jsx)(_.Z,{fallback:(0,x.jsx)(i.xu,{}),children:(0,x.jsx)(i.xu,{ref:I,children:(0,x.jsx)(K,{anchor:B.current,isSignupFocused:"enabled_signup"===T("dweb_unauth_profile_v0").group,onClick:function(){"enabled_signup"===T("dweb_unauth_profile_v0").group?a():s(),(0,c.My)("unauth.dweb.header.profile_flyout.click")}})})})})]},"profileButton"),Z&&(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(i.xu,{ref:C,children:(0,x.jsx)(i.xu,{display:"flex",marginStart:3,marginTop:3,marginBottom:3,justifyContent:"center","data-test-id":"setting-button",children:(0,x.jsx)(i.hU,{accessibilityLabel:S._('Setting', 'unauthHeaderBar.seetingsButton', 'Text for the setting button in the header'),icon:"arrow-down",size:"xs",onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),(0,c.NC)("click_header_setting"),L({action:"click",item:"setting-button"}),v(!y)},iconColor:"gray"})})}),y&&(0,x.jsx)(d.Z,{name:"SafeSuspense_UnauthHeader_UnauthSettingFlyout",children:(0,x.jsx)(_.Z,{fallback:(0,x.jsx)(i.xu,{}),children:(0,x.jsx)(i.xu,{ref:z,children:(0,x.jsx)($,{anchor:C.current})})})})]},"settingButton")]})]})}));G.displayName="UnauthHeader";var X=G,Y=n(549201),Q=n(700453),J=n(799006),V=n(580337);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){var t=e.showDesktopSignupModal,n=(0,l.ZP)(),d=(0,Y.ZP)(),h=(0,o.useHistory)(),p=(0,o.useLocation)(),_="desktop"===d,f=(0,J.Z)(),g=(0,a.Z)(),b=(0,u.Z)(),y=(0,s.SU)(),m=y.viewType,v=y.viewParameter,w=function(){(0,c.My)("unauth.login_button.click"),(0,c.NC)("mweb_press_header_login"),b({action:"click",within:"unauth-header",item:"login-button"}),t?t("login"):(g({event_type:14688,element:30,component:14213,view_type:m,view_parameter:v,aux_data:{upsell_reason:"click_login_on_header"}}),h.push({pathname:"/login",state:te({attributionLabel:"click_login_on_header"},p.state)}))},j=(0,r.useMemo)((function(){return{headerOffsetTop:0,searchBoxType:_?"full":"simple"}}),[_]);return(0,x.jsxs)(r.Fragment,{children:[(0,x.jsx)(i.xu,{"data-test-id":"unauth-header",position:"fixed",top:!0,width:"100%",zIndex:V.Z,children:(0,x.jsx)(C,{value:j,children:f?(0,x.jsx)(Q.Z,{componentType:14161,within:"unauth-header",children:function(e){var t=e.handleOpenApp;return(0,x.jsx)(X,{isDesktop:_,primaryButtonText:n._('Download app', 'mweb.unauth_header.download_app', 'CTA on the app interstitial upsell to install the app'),onLoginButtonClick:w,onPrimaryButtonClick:function(){return t({deepLinkUri:"/"===p.pathname?p.pathname:p.pathname.substr(1)})}})}}):(0,x.jsx)(X,{isDesktop:_,primaryButtonText:n._('Sign up', 'Text on button on the top bar that leads users to signing up.', 'Text on button on the top bar that leads users to signing up.'),onLoginButtonClick:w,onPrimaryButtonClick:function(){(0,c.My)("unauth.signup_button.click"),(0,c.NC)("mweb_press_header_signup"),b({action:"click",within:"unauth-header",item:"signup-button"}),t?t("signup"):(g({event_type:14688,element:31,component:14215,view_type:m,view_parameter:v,aux_data:{upsell_reason:"click_signup_on_header"}}),h.push({pathname:"/signup",state:te({attributionLabel:"click_signup_on_header"},p.state)}))}})})}),(0,x.jsx)(i.xu,{height:O.Pw})]})}},348401:function(e,t,n){var r=n(867221),o=n(14100),i=n(282802),a=n(739425),s=n(199999);t.Z=function(){var e=(0,r.useLocation)(),t=(0,s.a)(),n=(0,i.B)(),l=n.locale,c=n.userAgent,u=c.platform,d=c.raw;if(!t)return!1;var h=t.appInstallBannerIsEnabled,p=t.pinPageGlobalContext,_=!!(0,a.mB)(e.search).invite_code;return h&&!(0,o.$)(d)&&!(l.includes("ar")&&"ios"!==u)&&!(!0===(null==p?void 0:p.isStoryPin)&&_)}},339544:function(e,t,n){var r=n(261783),o=n(867221),i=n(40660),a=n(14100),s=n(988014),l=n(282802),c=n(173085),u=n(549201),d=n(799006),h=n(352865),p=n(684288);t.Z=function(){var e=(0,l.B)().isBot,t=(0,o.useLocation)(),n=(0,r.useSelector)((function(e){return e.session})),_=n.userAgentPlatform,f=n.userAgent,g=(0,d.Z)();return!((0,u.ml)()&&!g)&&!(0,h.Rp)({isBot:e,platform:_,userAgent:f})&&((0,s.uM)(t)||(0,s.am)(t))&&!(0,p.P)()&&!function(e){return!!(0,a.d)(e)&&((0,c.qn)("ufausfiiab")||(i.Z.increment("unauth.floating_app_upsell.suppress_for_instagram_in_app_browser"),(0,c.Nh)("ufausfiiab","1")),!0)}(f)}},578369:function(e,t,n){function r(e,t){return t?"".concat(e,"?").concat(new URLSearchParams(t).toString()):e}function o(e){return r("/admin/",e)}function i(e){return r("/admin/oauth/logout/",e)}function a(e){return r("/today/",e)}n.d(t,{HF:function(){return o},Kn:function(){return i},tG:function(){return a}})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/97902-748015b6e46de41e.js.map