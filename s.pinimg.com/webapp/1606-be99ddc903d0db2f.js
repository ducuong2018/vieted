"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1606,97776,5962],{364098:function(e){var t,n,r,i,o={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"updatedSettings"}],kind:"Fragment",metadata:null,name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:n=[{fields:[{kind:"Variable",name:"updatedSettings",variableName:"updatedSettings"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3PostSettingsAllNotificationsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"7162348715dcaf7d8e559b82fdb2855ec99a3a7d15a86739a8ff186c6878a257",metadata:{},name:"UserSettingsDesktopPageWrapperPostSettingsAllNotificationsMutation",operationKind:"mutation",text:null}};o.hash="d9bfbc19f803dd86d2747e77438af7d3",e.exports=o},61849:function(e,t,n){n.d(t,{CB:function(){return b},y9:function(){return g}});var r=n(658379),i=n(583592),o=n(249444),a=n(970588),l=n(88622),s=n(536042),c=n(389282);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.onConfirm,n=(0,s.ZP)(),i=u((0,r.useState)(!1),2),d=i[0],f=i[1],_=function(){f(!0),(0,a.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(l.ZP,{accessibilityModalLabel:n._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:t,heading:n._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,c.jsxs)(o.kC,{justifyContent:"end",gap:{row:2,column:0},children:[d?(0,c.jsx)(o.zx,{fullWidth:!0,size:"lg",color:"gray",text:n._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:d,onClick:_}):(0,c.jsx)(o.zx,{fullWidth:!0,size:"lg",color:"gray",text:n._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:d,onClick:_}),(0,c.jsx)(o.zx,{fullWidth:!0,size:"lg",color:"red",text:n._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:t})]}),role:"alertdialog",children:(0,c.jsx)(o.xu,{padding:8,children:(0,c.jsx)(o.xv,{align:"center",size:"300",children:n._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})};function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,i.Z)("EmailVerificationReminderModal"),m=p.Provider,g=p.useHook;function b(e){var t=e.children,n=_((0,r.useState)(!1),2),i=n[0],o=n[1],a=(0,r.useMemo)((function(){return{showEmailVerificationReminderModal:function(){o(!0)}}}),[]);return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(m,{value:a,children:t}),i&&(0,c.jsx)(f,{onConfirm:function(){o(!1)}})]})}},36521:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(249444),i=n(536042),o=n(389282);function a(e){var t=e.accessibilityLabel,n=e.fixedPosition,a=e.rounding,l=(0,i.ZP)();return(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:n?"fixed":"absolute",right:!0,top:!0,zIndex:new r.Ry(101),children:(0,o.jsx)(r.$j,{accessibilityLabel:t||l._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,o.jsx)(r.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:n?"fixed":"absolute",right:!0,top:!0,zIndex:new r.Ry(100),rounding:a})]})}},838642:function(e,t,n){var r=n(249444),i=n(682126),o=n(88622),a=n(536042),l=n(549201),s=n(389282);t.Z=function(e){var t=e.age,n=e.closeModal,c=e.onConfirm,u=(0,a.ZP)(),d=(0,l.HG)(),f=(0,i.ew)(t,u),_=u._('Close Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal Close Icon');return(0,s.jsxs)(o.ZP,{mobileIsSlideUp:!0,mobileAccessibilityCloseIconLabel:_,isOpen:!0,accessibilityModalLabel:u._('Birthdate Confirmation Modal', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Confirmation Modal'),onDismiss:n,closeOnOutsideClick:!1,size:d?"sm":"lg",heading:d?(0,s.jsxs)(r.kC,{justifyContent:"between",children:[(0,s.jsx)(r.xu,{marginStart:6,flex:"grow",children:(0,s.jsx)(r.X6,{size:"500",align:"center",accessibilityLevel:1,children:f})}),(0,s.jsx)(r.hU,{accessibilityLabel:_,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:n,size:"xs"})]}):null,footer:(0,s.jsx)(r.xu,{marginBottom:d?0:11,children:(0,s.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,s.jsx)(r.xu,{paddingX:d?1:5,width:"50%",justifyContent:d?"end":"center",display:"flex",children:(0,s.jsx)(r.zx,{text:u._('Edit info', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.EditButton', 'Edit info button label on the modal dialog to return to editing the birthdate'),onClick:n,size:"lg",fullWidth:!d})}),(0,s.jsx)(r.xu,{paddingX:d?1:5,width:"50%",justifyContent:d?"start":"center",display:"flex",children:(0,s.jsx)(r.zx,{color:"red",onClick:function(){c()},text:u._('Confirm', 'profile.Settings.Edit.Birthdate.BirthdateConfirmationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate'),size:"lg",fullWidth:!d})})]})}),children:[d?null:(0,s.jsx)(r.xu,{marginBottom:4,paddingX:4,children:(0,s.jsx)(r.X6,{size:"600",align:"center",accessibilityLevel:"none",children:f})}),(0,s.jsx)(r.xu,{marginBottom:d?0:8,paddingX:4,children:(0,s.jsx)(r.kC,{justifyContent:"start",direction:"column",alignItems:"stretch",children:(0,s.jsx)(r.xv,{size:d?"300":"400",align:"center",children:(0,i.ML)(u)})})})]})}},60933:function(e,t,n){var r=n(249444),i=n(88622),o=n(536042),a=n(630089),l=n(814247),s=n(819079),c=n(837792),u=n(549201),d=n(802071),f=n(712968),_=n(389282);t.Z=function(){var e=(0,o.ZP)(),t=(0,l.aU)(),n=(0,u.HG)(),h=(0,d.Z)(),p=h.isAuth?h.id:"",m=(0,f.mN)()(p);(0,s.Z)({name:"UserSettingsResource"});var g=function(){t({redirectUrl:"/",source:"underage_user_deactivation_logout"})};return(0,_.jsx)(i.ZP,{mobileIsSlideUp:!0,isOpen:!0,accessibilityModalLabel:e._('User Account Deactivation Modal', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AccessibilityLabel', 'Accessibility label for the User Account Deactivation Modal'),onDismiss:g,closeOnOutsideClick:!1,size:n?"sm":"lg",heading:(0,_.jsx)(r.xu,{marginTop:n?0:6,marginBottom:4,paddingX:4,children:(0,_.jsx)(r.X6,{size:n?"500":"600",align:"center",accessibilityLevel:"none",children:e._('We\'ve deactivated your account', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.Heading', 'Heading for showing that the account has been deactivated')})}),footer:(0,_.jsx)(r.xu,{marginBottom:n?0:11,children:(0,_.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,_.jsx)(r.xu,{paddingX:5,width:n?"auto":"100%",justifyContent:"center",display:"flex",children:(0,_.jsx)(r.zx,{color:"red",onClick:g,text:e._('Close', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmButotn', 'Confirm button label on the modal dialog to return to editing the birthdate'),size:"lg",fullWidth:!0})})})}),children:(0,_.jsx)(r.xu,{marginBottom:n?0:8,paddingX:4,children:(0,_.jsxs)(r.kC,{justifyContent:"start",direction:"column",alignItems:"stretch",children:[(0,_.jsx)(r.xu,{marginBottom:4,children:(0,_.jsx)(r.xv,{size:"300",children:(0,a.nk)(e._('Unfortunately the birthdate you provided means you\'re not old enough for a Pinterest account according to our {{ tosLink }}.', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.ConfirmationMessage', 'Confirmation text for verifying that the inputted birthdate is valid, tosLink: Links to Pinterest terms of service page'),{tosLink:(0,_.jsx)(r.rU,{href:c.F2,display:"inlineBlock",target:"blank",children:e._('terms of service', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.TermsOfService', 'Terms of service text')},"termsOfServiceLink")})})}),(0,_.jsx)(r.xu,{children:(0,_.jsxs)(r.aV,{label:(0,_.jsx)(r.xv,{size:"300",weight:"bold",children:e._('What you can do now', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HeadingText', 'Heading text for for outlining possible steps')}),type:"unordered",spacing:"condensed",children:[(0,_.jsx)(r.aV.Item,{text:e._('You can file an appeal if you think your account was deactivated by mistake', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.AppealText', 'Text describing the potential to appeal a birthdate deactivation')}),(0,_.jsx)(r.aV.Item,{text:(0,_.jsx)(r.xv,{children:(0,a.nk)(e._('What you can do now More information and instructions for an appeal have been sent to {{ email }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailText', 'Text describing an email being sent to the user about deactivation, email: user email'),{email:(0,_.jsx)(r.xv,{weight:"bold",inline:!0,children:null==m?void 0:m.email},"user-email-birthdate-verification-modal")})})}),(0,_.jsx)(r.aV.Item,{text:(0,_.jsx)(r.xv,{children:(0,a.nk)(e._('If you no longer have access to that email address, {{ helpLink }}', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.HelpText', 'Help text for informing users without access to that email, helpLink: Link that leads to the Pinterest help page for inaccessible emails'),{helpLink:(0,_.jsx)(r.rU,{href:c.MA,display:"inlineBlock",target:"blank",children:e._('we can help', 'profile.Settings.Edit.Birthdate.BirthdateDeactivationModal.EmailHelpLinkText', 'Text for the link to get help for emails no longer accessible')},"emailHelpLink")})})})]})})]})})})}},180306:function(e,t,n){var r=n(249444),i=n(88622),o=n(536042),a=n(630089),l=n(549201),s=n(389282);t.Z=function(e){var t=e.userEmail,n=e.closeModal,c=(0,o.ZP)(),u=(0,l.HG)(),d=c._('We need more information', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.Header', 'Header text for the Birthdate Verification Modal'),f=u?c._('Close Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.CloseAccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal Close Icon'):"",_=function(){n()};return(0,s.jsx)(i.ZP,{mobileIsSlideUp:!0,mobileAccessibilityCloseIconLabel:f,isOpen:!0,accessibilityModalLabel:c._('Birthdate Verification Modal', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.AccessibilityLabel', 'Accessibility label for the Birthdate Verification Modal'),onDismiss:_,closeOnOutsideClick:!1,size:"sm",heading:u?(0,s.jsxs)(r.kC,{justifyContent:"between",children:[(0,s.jsx)(r.xu,{marginStart:6,flex:"grow",children:(0,s.jsx)(r.X6,{size:"500",align:"center",accessibilityLevel:1,children:d})}),(0,s.jsx)(r.hU,{accessibilityLabel:f,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:_,size:"xs"})]}):(0,s.jsx)(r.xu,{marginBottom:4,marginTop:6,children:(0,s.jsx)(r.X6,{size:"500",align:"center",accessibilityLevel:"none",children:d})}),footer:(0,s.jsx)(r.xu,{marginBottom:u?0:11,children:(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,s.jsx)(r.xu,{paddingX:5,width:u?"auto":"100%",justifyContent:"center",display:"flex",children:(0,s.jsx)(r.zx,{color:"red",onClick:_,text:c._('Got it', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.GotItButotn', 'Got it button action on the birthdate verification modal'),size:"lg",fullWidth:!u})})})}),children:(0,s.jsx)(r.xu,{paddingX:4,marginBottom:u?0:8,children:(0,s.jsx)(r.xv,{align:"center",children:(0,a.nk)(c._('The change to your birthdate hasn\u2019t been saved yet.\xA0 We\u2019ve sent an email to {{ userEmail }} for more information.', 'profile.Settings.Edit.Birthdate.BirthdateJumioVerificationModal.ExplanationText', 'This text explain to the user that his new birthday wasnt set and he needs to check his email that contains additional info userEmail:The user email that is going to be displayed on the text'),{userEmail:(0,s.jsx)(r.xv,{weight:"bold",inline:!0,children:t},"user-email-birthdate-verification-modal")})})})})}},784964:function(e,t,n){var r=n(658379);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(!0)}),[]),t}},33476:function(e,t,n){n.d(t,{Z:function(){return v}});var r=n(658379),i=n(261783),o=n(527386),a=n(216702),l=n(389282);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,n)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,i,o=p(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(m(e=o.call.apply(o,[this].concat(n))),"state",{hasCompleted:[],hasDismissed:[]}),b(m(e),"view",(function(){var t=e.props,n=t.experience,r=t.isBackendExperience,i=t.targeting,o=t.viewExperience,a=t.viewExperienceObject;n&&"viewed"!==n.status&&(r?(n.status="viewed",a(n)):i?o(n.placement_id,n.experience_id,i):o(n.placement_id,n.experience_id))})),b(m(e),"complete",(function(t){var n=e.props,r=n.completeExperience,i=n.completeExperienceObject,o=n.experience,a=n.isBackendExperience,l=n.preventRemoval,s=n.targeting,c=t||1;if(o&&!e.state.hasCompleted.includes(o.experience_id)){var u=o||{},f=u.placement_id,_=u.experience_id,h=l||2===c;(1===c||h)&&f&&_&&(a?i(o,h):s?r(f,_,h,s):r(f,_,h),e.setState((function(e){return{hasCompleted:[].concat(d(e.hasCompleted),[_])}})))}})),b(m(e),"dismiss",(function(){var t=e.props,n=t.dismissExperience,r=t.dismissExperienceObject,i=t.experience,o=t.isBackendExperience,a=t.preventRemoval,l=t.targeting,s=i||{},c=s.placement_id,u=s.experience_id;i&&!e.state.hasDismissed.includes(u)&&(o?r(i):l?n(c,u,!!a,l):n(c,u,!!a),e.setState((function(e){return{hasDismissed:[].concat(d(e.hasDismissed),[u])}})))})),b(m(e),"shouldRenderExperience",(function(){var t=e.props.experience;if(t){var n=e.props,r=n.eligibleIds,i=n.eligibleTypes,o=n.predicate,a=n.transitionType,l=t.experience_id,s=t.type;if(r&&r.includes(l))return!0;if(null==r||!r.length){if(o&&o(t))return!0;if(i&&i.includes(s))return!0;if(a&&a===s)return!0}}return!1})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.disableAutoView||this.props.experience&&this.shouldRenderExperience()&&this.view()}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.experience,i=e.disableAutoView;return n&&this.shouldRenderExperience()?"function"==typeof t?t(u({experience:n,complete:this.complete,dismiss:this.dismiss},i?{view:this.view}:Object.freeze({}))):r.Children.only(t):null}}])&&_(t.prototype,n),i&&_(t,i),a}(r.Component);function v(e){var t=(0,i.useSelector)((function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)})),n=(0,i.useDispatch)();return(0,l.jsx)(y,u(u({},e),{},{experience:t,completeExperience:function(e,t,r,i){return n((0,o.CK)(e,t,r,!1,{},i))},completeExperienceObject:function(e,t){return n((0,a.Tl)(e,t))},dismissExperience:function(e,t,r,i){return n((0,o.Qu)(e,t,r,void 0,i))},dismissExperienceObject:function(e){return n((0,a.CF)(e))},viewExperience:function(e,t,r){return n((0,o.UT)(e,t,!1,!1,void 0,r))},viewExperienceObject:function(e){return n((0,a.dy)(e))}}))}b(y,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},297776:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(658379),i=n(249444),o=n(33476),a=n(389282);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,o=u(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(d(e=o.call.apply(o,[this].concat(n))),"onScroll",(function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout((function(){t(),e.dismissed=!0,e.timer=void 0}),3e3))})),_(d(e),"dismissed",!1),e}return t=l,(n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,r=e.thumbnails,o=e.idealDirection,l=r.slice(-3);return(0,a.jsx)(i.J2,{anchor:t,color:"white",idealDirection:o,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(i.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(i.xv,{color:"default",weight:"bold",children:n})}),(0,a.jsx)(i.xu,{display:"flex",marginEnd:-2,paddingX:2,children:l.map((function(e){return(0,a.jsx)(i.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(i.zd,{rounding:2,height:60,children:(0,a.jsx)(i.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)}))})]})})}}])&&s(t.prototype,n),r&&s(t,r),l}(r.PureComponent),p=n(133149);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var g=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}(this,n)}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(c,e);var t,n,l,s=x(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return A(P(e=s.call.apply(s,[this].concat(n))),"dismissRef",(0,r.createRef)()),A(P(e),"state",{paused:!1}),A(P(e),"dismissCb",(function(){var t,n;null===(t=(n=e.dismissRef).current)||void 0===t||t.call(n)})),A(P(e),"handlePulsarClick",(function(t,n){t?e.setState({paused:!0}):n()})),e}return t=c,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultPulsarTooltip",value:function(e){var t=function(e){return!(null==e)};e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}},{key:"getText",value:function(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,l=t.customWrapper,s=t.experienceIds,c=t.boardTextOverride,u=t.flyoutSize,d=t.fontSize,f=t.hasFullWidthButton,_=void 0===f||f,m=t.idealDirection,y=t.useMasonryFlyout,v=t.noClickToDismiss,x=t.onClickComplete,P=t.onClickDismiss,j=t.placementId,A=t.positionRelativeToAnchor,w=t.shouldTimeoutDismiss,S=t.showCaret,z=t.textAlign,k=t.textOverflow,C=t.textOverrideFn,O=t.textWeight,E=t.customizedComplete,I=t.pulsarZIndex,T=t.advertiserId,M=l||function(e){var t=e.children;return y?(0,a.jsx)(i.mh,{children:t}):t},B="blue";return(0,a.jsx)(o.Z,{eligibleIds:s,placementId:j,eligibleTypes:[8],targeting:T?{advertiserId:parseInt(T,10)}:null,children:function(t){var o=t.complete,l=t.dismiss,s=t.experience,f=s.display_data,j=f.scroll_to_dismiss,T=f.scroll_to_dismiss_delay_in_seconds,L=void 0===T?0:T,D=b(f,g),R=j&&n,Z=function(){V(),setTimeout(l,1e3*L)},V=function(){R&&(window.removeEventListener("scroll",Z),window.removeEventListener("touchmove",Z))},U=function(){V(),o()};if(R&&(window.addEventListener("scroll",Z),window.addEventListener("touchmove",Z)),e.setDefaultPulsarTooltip(D),!D.has_pulsar&&!D.has_tooltip)return U(),null;w&&D.disappearTime&&D.disappearTime>0&&(e.timer=setTimeout((function(){return Z(),null}),D.disappearTime));var H=501041===s.experience_id||505086===s.experience_id;return D.has_tooltip&&!D.has_pulsar&&(e.dismissRef.current=Z,null==n||n.addEventListener("click",e.dismissCb)),(0,a.jsxs)(r.Fragment,{children:[D.has_pulsar&&(0,a.jsx)(p.Z,{anchor:n,leftOverride:H?342:void 0,onTouch:function(){return e.handlePulsarClick(D.has_tooltip,U)},paused:e.state.paused,topOverride:H?-5:void 0,zIndex:I&&I.index()}),D.has_tooltip&&(!D.has_pulsar||e.state.paused)&&(D.thumbnail_urls?(0,a.jsx)(h,{anchor:n,dismiss:Z,idealDirection:m||"down",text:D.text,thumbnails:D.thumbnail_urls}):(0,a.jsx)(M,{children:(0,a.jsx)(i.J2,{anchor:n,color:"deprecatedBlue",idealDirection:m||"down",onDismiss:v?function(){}:Z,positionRelativeToAnchor:!y&&A,shouldFocus:!1,_deprecatedShowCaret:S,size:u,children:(0,a.jsxs)(i.xu,{column:12,padding:3,children:[(0,a.jsxs)(i.xv,{align:"right"===z?"end":z,color:"inverse",overflow:k,size:d,weight:O||"bold",children:[e.getText(D,c,C),D.secondary_cta_link&&(0,a.jsx)(i.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(i.xv,{size:d,weight:"bold",color:"inverse",children:(0,a.jsx)(i.rU,{display:"inlineBlock",target:"blank",href:D.secondary_cta_link.url,underline:"hover",children:D.secondary_cta_link.text})})})]}),D.sub_text&&(0,a.jsx)(i.xu,{paddingY:2,children:(0,a.jsx)(i.xv,{color:"inverse",size:d,children:D.sub_text})}),(D.dismiss_button_text||D.complete_button_text)&&(0,a.jsxs)(i.xu,{display:"flex",alignItems:"center",marginTop:2,children:[D.dismiss_button_text&&(0,a.jsx)(i.xu,{marginEnd:1,column:6,children:(0,a.jsx)(i.zx,{fullWidth:_,color:B,onClick:function(){P&&P(),Z()},size:"md",text:D.dismiss_button_text})}),D.complete_button_text&&(0,a.jsx)(i.xu,{column:D.dismiss_button_text?6:12,children:E?(0,a.jsx)(i.iP,{fullHeight:!0,onTap:function(){U(),x&&x()},rounding:2,children:(0,a.jsx)(i.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(i.xv,{color:"shopping",weight:"bold",children:D.complete_button_text})})}):(0,a.jsx)(i.kC,{justifyContent:"center",children:(0,a.jsx)(i.zx,{fullWidth:_,color:"white",href:D.complete_button_cta_url,role:D.complete_button_cta_url?"link":"button",size:"md",target:D.complete_button_cta_url?"blank":null,text:D.complete_button_text,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),U(),x&&x()}})})})]})]})})}))]})}})}}])&&y(t.prototype,n),l&&y(t,l),c}(r.Component);A(w,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},216702:function(e,t,n){n.d(t,{CF:function(){return l},Tl:function(){return a},dy:function(){return s}});var r=n(690108),i=n(527386),o=function(e,t){return function(n,o){return function(a){if(n&&n.id){var l=r.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then((function(){a((0,i.fO)())}));break;case"completed":l.callUpdate().then((function(){o||a((0,i.fO)())}));break;case"viewed":l.callUpdate()}}}}},a=o("UserExperienceCompletedResource","completed"),l=o("UserExperienceResource","dismissed"),s=o("UserExperienceViewedResource","viewed")},133149:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(249444),i=n(658379),o=n(389282);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t,n,r){return{horizontalOffset:-(r/2-t/2),verticalOffset:-(n/2-e/2)}};function c(e){var t=e.anchor,n=e.children,l=e.zIndex,c=e.leftOverride,u=e.topOverride,d=(0,i.useRef)(null),f=a((0,i.useState)(0),2),_=f[0],h=f[1],p=a((0,i.useState)(0),2),m=p[0],g=p[1],b=t.getBoundingClientRect(),y=b.height,v=b.width;(0,i.useEffect)((function(){var e=d.current;if(t&&e){var n=e.getBoundingClientRect(),r=n.height,i=n.width,o=s(y,v,r,i),a=o.horizontalOffset,l=o.verticalOffset;h(a),g(l)}}));var x=c||_,P=u||m;return(0,o.jsx)(r.xu,{position:"absolute",zIndex:l?new r.Ry(l):void 0,dangerouslySetInlineStyle:{__style:{left:x,top:P}},ref:d,children:n})}var u=function(e){var t=e.anchor,n=e.leftOverride,i=e.onTouch,a=e.onMouseEnter,l=e.paused,s=e.size,u=e.topOverride,d=e.zIndex;return t?(0,o.jsx)(c,{anchor:t,leftOverride:n,topOverride:u,zIndex:d,children:(0,o.jsx)(r.iP,{fullWidth:!1,onTap:function(e){var t=e.event;return i(t)},onMouseEnter:a,rounding:"circle",children:(0,o.jsx)(r.o3,{paused:l,size:s})})}):null}},394760:function(e,t,n){n.d(t,{A:function(){return O},J:function(){return C}});var r=n(658379),i=n(867221),o=n(563962),a=n(583592),l=n(249444),s=n(88622),c=n(536042),u=n(630089),d=n(36521),f=n(900379),_=n(837792),h=n(549201),p=n(392881),m=n(389282);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){var t=e.onClose,n=e.handleSubmit,a=e.errorMessage,b=e.currentViewParameter,y=e.currentComponent,v=(0,c.ZP)(),x=(0,o.Z)(),P=(0,h.HG)(),j=(0,i.useLocation)(),A=(0,(0,f.Z)("").getSingleValidator)("passcode"),w=g((0,r.useState)(!1),2),S=w[0],z=w[1],k=g((0,r.useState)(!1),2),C=k[0],O=k[1],E=g((0,r.useState)({value:"",error:void 0}),2),I=E[0],T=E[1],M=g((0,r.useState)(),2),B=M[0],L=M[1],D=v._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),R=v._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),Z=(0,u.nk)(v._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,m.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(l.rU,{display:"inlineBlock",href:_.a$,target:"blank",underline:"hover",onClick:function(e){e.event.stopPropagation(),b&&y&&x({event_type:102,view_type:7,view_parameter:b,element:12765,component:y})},children:v._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,r.useEffect)((function(){b&&y&&x({event_type:13,view_type:7,view_parameter:b,component:y})}),[b,y,x]),(0,r.useEffect)((function(){z(!!I.value&&!I.error)}),[I]);var V=(0,r.useCallback)((function(){x({event_type:14590,view_type:7,view_parameter:b,component:14374})}),[b,x]);(0,r.useEffect)((function(){var e=j.pathname.replace(/\/$/,"");a&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(V(),O(!1)),L(a)}),[a,V,j.pathname]);var U=function(){C||(b&&y&&x({event_type:P?101:102,view_type:7,view_parameter:b,component:y,element:11925}),t())};return(0,m.jsx)(s.ZP,{accessibilityModalLabel:v._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),mobileAccessibilityCloseIconLabel:D,align:"start",size:656,mobileIsFullscreen:!0,mobileIsSlideUp:!0,closeOnOutsideClick:!C,onDismiss:U,heading:P?(0,m.jsxs)(l.kC,{justifyContent:"between",children:[(0,m.jsxs)(l.kC,{direction:"column",gap:{row:0,column:2},alignItems:"start",children:[(0,m.jsx)(l.X6,{size:"500",align:"start",accessibilityLevel:1,children:R}),(0,m.jsx)(l.xv,{children:Z})]}),(0,m.jsx)(l.hU,{accessibilityLabel:D,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:U,size:"lg"})]}):(0,m.jsx)(l.X6,{size:"300",align:"center",accessibilityLevel:"none",children:v._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),footer:(0,m.jsxs)(l.kC,{alignItems:"center",justifyContent:P?"end":"center",children:[P?(0,m.jsx)(l.xu,{paddingX:1,children:(0,m.jsx)(l.zx,{disabled:C,onClick:U,text:v._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog'),size:"lg"})}):null,(0,m.jsx)(l.xu,{paddingX:P?1:4,flex:P?"shrink":"grow",children:(0,m.jsx)(l.zx,{disabled:!S||C,color:"red",onClick:function(){O(!0),b&&y&&x({event_type:P?101:102,view_type:7,view_parameter:b,component:y,element:12019}),n(I.value),O(!1)},text:v._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog'),size:"lg",fullWidth:!P})})]}),children:(0,m.jsx)(l.xu,{paddingX:P?6:4,paddingY:3,children:(0,m.jsxs)(l.kC,{justifyContent:P?"start":"center",direction:"column",alignItems:"center",children:[P?null:(0,m.jsx)(l.xu,{marginBottom:7,maxWidth:325,children:(0,m.jsxs)(l.kC,{direction:"column",alignItems:"center",children:[(0,m.jsx)(l.xu,{marginBottom:6,children:(0,m.jsx)(l.X6,{size:"500",align:"center",accessibilityLevel:2,children:R})}),(0,m.jsx)(l.xv,{align:"center",children:Z})]})}),(0,m.jsxs)(l.xu,{position:"relative",width:"100%",marginBottom:P?0:4,children:[(0,m.jsx)(l.nv,{id:"passcode",label:v._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),name:"passcode",onChange:function(e){return function(e){var t=e.replace(/\s/g,"");if(!(e.length>4)){var n=(0,p.a3)(t,A);B&&L(void 0),T({value:e,error:n})}}(e.value)},type:"text",size:"lg",value:I.value,errorMessage:I.error||B,placeholder:"XXXX",labelDisplay:P?"visible":"hidden"}),C?(0,m.jsx)(d.Z,{accessibilityLabel:v._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=(0,a.Z)("ParentalPasscodeValidateModal"),k=z.Provider,C=z.useHook,O=function(e){var t=e.children,n=(0,o.Z)(),a=(0,i.useLocation)(),l=A((0,r.useState)(!1),2),s=l[0],c=l[1],u=A((0,r.useState)(),2),d=u[0],f=u[1],_=A((0,r.useState)(),2),h=_[0],p=_[1],g=A((0,r.useState)(void 0),2),b=g[0],v=g[1],P=A((0,r.useState)([]),2),w=P[0],S=P[1],z=a.pathname.replace(/\/$/,""),C="/parental-passcode"===z||"/settings/account-settings"===z;(0,r.useEffect)((function(){if(s){var e=(n=z).startsWith("/settings/messages")?3709:{"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860}[n],t=function(e,t){return t?14456:14374}(0,C);p(e),f(t)}var n}),[s,z,C]);var O=(0,r.useCallback)((function(e){v(void 0),w.map((function(t){return t(e)}))}),[w]),E=(0,r.useCallback)((function(e){var t=e.handlePasscodeSent;S((function(e){return[].concat(j(e),[t])})),c(!0)}),[]),I=(0,r.useCallback)((function(e){v(e)}),[]),T=(0,r.useCallback)((function(){p(void 0),f(void 0),S([]),v(void 0),c(!1)}),[]),M=(0,r.useCallback)((function(e){e&&!C&&n({event_type:14591,view_type:7,view_parameter:h,component:14374}),T()}),[T,h,n,C]),B=(0,r.useMemo)((function(){return{handleSubmit:O,errorMessage:b,onClose:T,currentViewParameter:h,currentComponent:d}}),[O,b,T,h,d]),L=(0,r.useMemo)((function(){return{getModalProps:B,closeModal:M,isModalOpen:s,setErrorMessage:I,setModalPropsAndOpen:E}}),[B,M,s,I,E]);return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(k,{value:L,children:t}),s?(0,m.jsx)(y,x({},B)):null]})}},900379:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(536042),i=n(392881);function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=4;function s(e){var t=(0,r.ZP)(),n=(0,i.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),a=(0,i.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),s=(0,i.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),c=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),u=(0,i.Gy)({min:l,max:l,minErrorString:c,maxErrorString:c}),d={passcode:[n,s,u],confirmPasscode:[n,s,u],backupEmail:[n,a,function(n){var r=[];return n===e&&r.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:r,warnings:[]}}],confirmBackupEmail:[n,a]},f=function(e,n){switch(e){case"confirmPasscode":return(0,i.sG)({targetValue:n.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,i.sG)({targetValue:n.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return function(){return{errors:[],warnings:[]}}}};return{getSingleValidator:function(e){return d[e]},getValidators:function(e,t){return[].concat(o(d[e]),[f(e,t)])},getMatchingValidator:f}}},814247:function(e,t,n){n.d(t,{aU:function(){return l},hq:function(){return a},o_:function(){return i}});var r=(0,n(583592).Z)("AuthenticationContext"),i=r.Provider,o=r.useHook;function a(){return o().loginContext}function l(){return o().logout}},453972:function(e,t,n){n.d(t,{i:function(){return r}});var r={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},589665:function(e,t,n){n.d(t,{L1:function(){return o},Rz:function(){return s},WZ:function(){return a},cI:function(){return i},fe:function(){return l},hu:function(){return r}});var r=64,i=80,o=22,a="HeaderContent",l=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},101606:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var r=n(658379),i=n(742868),o=n(867221),a=n(137707),l=n(249444),s=n(690108),c=n(838642),u=n(60933),d=n(180306),f=n(682126),_=n(388011),h=n(784964),p=n(61849),m=n(550140),g=n(536042),b=n(630089),y=n(394760),v=n(315219),x=n(245410),P=n(819079),j=n(664334),A=n(626389),w=n(453972),S=n(860438),z=n(846226),k=n(63262),C=n(802071),O=n(392881),E=n(764344),I=n(297776),T=n(589665),M=n(389282);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=690;function R(e){var t=e.index,n=e.isSelected,i=e.label,o=e.onClick,a=e.url,s=e.dataTestId,c=e.anchorRef,u=B((0,r.useState)(!1),2),d=u[0],f=u[1];return(0,M.jsx)(l.xu,{alignSelf:"start",dangerouslySetInlineStyle:{__style:{backgroundColor:d?"rgba(0, 0, 0, 0.06)":void 0}},marginBottom:2,role:"listitem",rounding:2,children:(0,M.jsx)(l.iP,{role:"link",href:a,onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},onTap:o,children:(0,M.jsx)(l.xu,{"data-group-id":"settings-menu-item","data-test-id":s||"settings-menu-item-".concat(t,"-").concat(i),direction:"row",display:"flex",padding:2,ref:c,children:(0,M.jsxs)(l.xu,{display:"inlineBlock",position:"relative",children:[(0,M.jsx)(l.xv,{color:"default",size:"300",weight:"bold",children:i}),n&&(0,M.jsx)(l.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{borderRadius:5,bottom:-9}},height:3,left:!0,position:"absolute",right:!0})]})},"".concat(t,"-").concat(i))})})}function Z(e){var t=e.activeItem,n=e.items,r=e.onClick,i=e.anchorRef;return Object.keys(n).map((function(e,o){var a=n[e],l=a.label,s=a.url,c=a.dataTestId;return(0,M.jsx)(R,{index:o,isSelected:t===e,label:l,onClick:function(t){var n=t.event;return r({activeItem:e,event:n})},url:s,dataTestId:c,anchorRef:"PrivacyAndData"===e?i:null},o)}))}function V(e){var t=e.items,n=e.activeItem,i=e.onClick,a=(0,o.useLocation)(),s=(0,o.useHistory)(),c=(0,r.useRef)(),u=(0,r.useRef)(),d=(0,r.useRef)(),f=(0,M.jsx)(Z,{items:t,activeItem:n,onClick:i,anchorRef:c}),_=(0,M.jsx)(Z,{items:t,activeItem:n,onClick:i,anchorRef:u}),h=B((0,r.useState)(0),2),p=h[0],m=h[1],g=B((0,r.useState)(!0),2),b=g[0],y=g[1],v=function(){m(window.innerHeight),d.current&&y("flex"===window.getComputedStyle(d.current).display)};(0,r.useEffect)((function(){return v(),window.addEventListener("resize",v),function(){return window.removeEventListener("resize",v)}}),[]);var x=d.current&&!a.pathname.startsWith("/settings/privacy");return(0,M.jsxs)(r.Fragment,{children:[(0,M.jsx)(l.xu,{display:"none",mdDisplay:"flex",ref:d,children:(0,M.jsx)(l.xu,{display:"flex",direction:"column",role:"list",position:p<D?"static":"fixed",maxWidth:200,"data-test-id":"settings-menu",children:_})}),(0,M.jsx)(l.xu,{display:"flex",mdDisplay:"none",children:(0,M.jsx)(l.xu,{display:"flex",direction:"column",role:"list","data-test-id":"settings-menu",children:f})}),x&&(0,M.jsx)(l.mh,{zIndex:new l.Ry(T.fe-1),children:(0,M.jsx)(I.default,{anchor:b?u.current:c.current,experienceIds:[505283],placementId:1000458,showCaret:!0,textWeight:"bold",textAlign:"center",flyoutSize:"md",idealDirection:"right",positionRelativeToAnchor:!1,onClickComplete:function(){s.push("/settings/privacy/")}})})]})}var U=n(88622),H=n(729522);function F(e){var t=e.email,n=e.onHide,r=(0,g.ZP)(),i=r._('You\u2019re almost done!', ' - ', ' -- ');return(0,M.jsx)(U.ZP,{accessibilityModalLabel:i,heading:i,onDismiss:n,role:"alertdialog",size:"sm",footer:(0,M.jsx)(l.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:(0,M.jsx)(l.xu,{padding:1,children:(0,M.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:n,size:"lg",text:r._('Okay', ' - ', ' -- ')})})}),children:(0,M.jsx)(l.xu,{paddingX:4,paddingY:2,children:(0,M.jsx)(l.xv,{children:(0,H.Z)(r._('To finish updating your address, look for the confirmation email we sent to {{ currentEmail }}.', ' - ', ' -- '),{currentEmail:t})})})})}function W(e){var t=e.description,n=e.title;return(0,M.jsx)(z.Z,{id:"settings-header",children:(0,M.jsx)(l.kC,{alignItems:"center",direction:"row",justifyContent:"between",children:(0,M.jsx)(l.sg,{span:12,children:(0,M.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,M.jsx)(l.xu,{tabIndex:0,children:(0,M.jsx)(l.X6,{accessibilityLevel:1,size:"500",children:n})}),(0,M.jsx)(l.xu,{marginTop:2}),(0,M.jsx)(l.xv,{overflow:"normal",size:"300",children:t})]})})})})}var X,N=n(926820),G=n(73603),K=n(619277),q=["video_autoplay_setting_on"];function $(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,i)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ee(o,r,i,a,l,"next",e)}function l(e){ee(o,r,i,a,l,"throw",e)}a(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){l=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie={newSaveState:null,evt:void 0,overrides:void 0,isOpen:!1,age:0},oe=function(){var e=void 0!==X?X:X=n(364098),t=ne((0,i.useMutation)(e),1)[0];return function(){var e=te(regeneratorRuntime.mark((function e(n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.notifications_settings||{},i=[],Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){Object.keys(r[e][t]).forEach((function(n){var o=r[e][t][n],a=o.dirty,l=o.value;a&&i.push({type:e,section:t,option:n,value:l})}))}))})),o={updatedSettings:JSON.stringify(i)},e.next=6,new Promise((function(e,n){t({variables:Y({},o),onCompleted:function(t,r){r&&n(r[0]),e()},onError:function(e){return n(e)}})}));case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};function ae(e){var t=(0,j.Z)({name:"UserSettingsResource"}).data,i=(0,P.Z)({name:"UserResource",options:{user_id:null==t?void 0:t.id,field_set_key:"user_tax_forms",noCache:!1}}).data,I=(0,_.v)().logContextEvent,T=(0,x.F)().checkExperiment,B=T("web_profile_visibility_settings").anyEnabled,L=(0,g.ZP)(),D=(0,C.Z)(),R=(0,N.Z)({enableBizEmailValidator:Boolean(D.partner&&D.partner.is_linked_business),i18n:L}),Z=(0,h.Z)(),U=(null==t?void 0:t.email)||"",H=(null==i?void 0:i.has_tax_forms)||!1,X=(0,r.useMemo)((function(){return{EditProfile:{icon:"edit",label:L._('Edit profile', 'userSettingsPage.editProfile.label', 'menu item for edit profile'),toastLabel:L._('Profile', 'toast label for profile', 'toast label for profile'),url:"/settings/edit-profile",dataTestId:"settings-menu-item-public-profile"},PersonalInformation:{icon:"",label:L._('Personal information', 'menu item for personal information', 'menu item for personal information'),toastLabel:L._('Personal information', 'toast label for personal information', 'toast label for personal information'),url:"/settings/personal-information",dataTestId:"settings-menu-item-personal-info"},AccountSettings:{icon:"person",label:L._('Account management', 'userSettingsPage.accountManagement.label', 'menu item for account management'),toastLabel:L._('Account management', 'userSettingsPage.accountManagement.toastLabel', 'toast label for account management'),url:"/settings/account-settings",dataTestId:"settings-menu-item-account-settings"},ProfileVisibility:{icon:"",label:L._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility', 'menu item for Profile visibility'),toastLabel:L._('Profile visibility', 'userSettingsPage.MenuList.MenuItem.ProfileVisibility.toastLabel', 'toast label for Profile visibility'),url:"/settings/profile-visibility"},HomeFeedTuner:{icon:"",label:L._('Tune your home feed', 'userSettingsPage.MenuList.MenuItem.HomeFeedTuner', 'menu item for home feed tuner'),toastLabel:"",url:"/edit"},Claim:{icon:"globe-checked",label:L._('Claimed accounts', 'userSettingsPage.claimedAccounts.label', 'Menu item label on settings page for claimed accounts'),toastLabel:L._('Claim accounts', 'userSettingsPage.claimedAccounts.toastLabel', 'toast label for claim accounts settings'),url:"/settings/claim",dataTestId:"settings-menu-item-claim"},BulkCreatePins:{icon:"publish",label:L._('Bulk create Pins', 'Menu item label on profile page for bulk importing', 'Menu item label on profile page for bulk importing'),toastLabel:L._('Bulk create Pins', 'toast label for bulk importing', 'toast label for bulk importing'),url:"/settings/bulk-create-pins",dataTestId:"settings-menu-item-bulk-create-pins"},Permissions:{icon:"",label:L._('Social permissions', 'userSettingsPage.socialPermissions.label', 'menu item for Social permissions'),toastLabel:L._('Social permissions', 'userSettingsPage.socialPermissions.toastLabel', 'toast label for Social permissions'),url:"/settings/permissions",dataTestId:"settings-menu-item-permissions"},Notifications:{icon:"bell",label:L._('Notifications', 'menu item for notifications', 'menu item for notifications'),toastLabel:L._('Notifications', 'toast label for Notifications', 'toast label for Notifications'),url:"/settings/notifications",dataTestId:"settings-menu-item-notifications"},PrivacyAndData:{icon:"lock",label:L._('Privacy and data', 'menu item for privacy and data', 'menu item for privacy and data'),toastLabel:L._('Privacy and data', 'toast label for Privacy & data', 'toast label for Privacy & data'),url:"/settings/privacy",dataTestId:"settings-menu-item-privacy"},Security:{icon:"security",label:B?L._('Security', 'userSettingsPage.securityAndLogins.labelV2', 'menu item for security'):L._('Security and logins', 'userSettingsPage.securityAndLogins.label', 'menu item for security and logins'),toastLabel:"",url:"/settings/security",dataTestId:"settings-menu-item-security"},BrandedContent:{icon:"",label:L._('Branded Content', 'userSettingsPage.brandedContent.label', 'menu item for branded content opt in'),toastLabel:L._('Branded Content', 'userSettingsPage.brandedContent.toastLabel', 'toast label for branded content opt in'),url:"/settings/branded-content",dataTestId:"settings-menu-item-branded-content"},TaxDocuments:{icon:"",label:L._('Tax documents', 'userSettingsPage.taxDocuments.label', 'menu item for tax documents page'),toastLabel:L._('Tax documents', 'userSettingsPage.taxDocuments.toastLabel', 'toast label for tax documents page'),url:"/settings/tax-documents",dataTestId:"settings-menu-item-tax-document"}}}),[L,B]),J=(0,k.F9)().showToast,ee=(0,o.useHistory)(),re=(0,r.useRef)(),ae=ne((0,r.useState)(null),2),le=ae[0],se=ae[1],ce=ne((0,r.useState)(!1),2),ue=ce[0],de=ce[1],fe=ne((0,r.useState)(ie),2),_e=fe[0],he=fe[1],pe=ne((0,r.useState)(!1),2),me=pe[0],ge=pe[1],be=ne((0,r.useState)(!1),2),ye=be[0],ve=be[1],xe=ne((0,r.useState)(null),2),Pe=xe[0],je=xe[1],Ae=(0,y.J)(),we=Ae.isModalOpen,Se=Ae.setErrorMessage,ze=Ae.setModalPropsAndOpen,ke=Ae.closeModal,Ce=oe(),Oe=(0,r.useRef)();Oe.current=we;var Ee=ne((0,r.useState)(e.activeItem),2),Ie=Ee[0],Te=Ee[1],Me=(0,p.y9)().showEmailVerificationReminderModal,Be=D.isAuth?D:{},Le=Be.isPartner,De=Be.isAnyWebsiteVerified,Re=Boolean(null==t?void 0:t.video_upload_allowed)||Le&&!!De,Ze=D.isAuth;(0,r.useEffect)((function(){return function(){re.current&&clearTimeout(re.current)}}),[re]);var Ve,Ue=function(){window.location.reload()},He=(0,r.useCallback)((function(e,t){var n;if(Object.keys(R).includes(e)){var r=R[e];n=Q({},"".concat(e,"Errors"),(0,O.FU)(r,t))}return Y(Q({},e,t),n)}),[R]),Fe=(0,r.useCallback)((function(e,t,r){e&&void 0!==e.video_autoplay_setting_on&&(S.Z.setItem(K._e,e.video_autoplay_setting_on?1:0),I({event_type:101,aux_data:{desktop_video_autoplay_setting_on:String(e.video_autoplay_setting_on||!1)}}));var i=e||{},o=(i.video_autoplay_setting_on,$(i,q));if(e&&e.birthday&&e.birthday instanceof Date){var l=e.birthday,c=(0,f.IA)(l.toString()),u=(0,a.Z)(new Date,l),d=D.country,_=(0,f.yo)(d);if(!(0,f.Cd)(c,_)&&!e.birthdayConfirmed)return void he({newSaveState:e,evt:t,overrides:r,isOpen:!0,age:u});Pe&&je(null),o.birthdate=c,delete o.birthday}if(e&&e.notificationsSettingsUpdated){var h={notifications_settings:e.notifications_settings};T("graphql_migration_notifications_settings").anyEnabled?Ce(h):s.Z.create("NotificationSettingsResource",h).callUpdate()}D.partner&&D.partner.is_linked_business&&s.Z.create("BusinessOwnershipResource",{email:o.biz_email||void 0}).callUpdate({showError:!1}).catch((function(e){Z&&se(e)})),e&&e.third_party_marketing_tracking_enabled&&te(regeneratorRuntime.mark((function e(){var t,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(85225).then(n.bind(n,685225));case 2:return t=e.sent,r=t.getGPCSignalState,i=t.getThirdPartyMarketingTrackingEnabledAfterGPC,o=t.setThirdPartyMarketingTrackingEnabledAfterGPC,e.next=8,r();case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,i();case 13:if(!e.sent){e.next=16;break}return e.abrupt("return");case 16:o();case 17:case"end":return e.stop()}}),e)})))(),s.Z.create("UserSettingsResource",Y(Y({},o),{},{surface_tag:w.i.SETTINGS})).callUpdate({showError:!1}).then((function(e){return o&&(o.locale||o.country)?(0,A.D)("settings").then((function(){return Promise.resolve(e)})):Promise.resolve(e)})).then((function(e){Oe.current&&ke(!0);var t="";switch(Ie){case"AccountSettings":t=L._('Account management settings saved!', 'userSettingsPage.accountManagementSettingsToast', 'Toast message for when account management settings are saved');break;case"Notifications":t=L._('Notifications saved!', 'userSettingsPage.notificationsToast', 'Toast message for when notifications are saved');break;default:t=(0,b.nk)(L._('{{section}} saved!', ' - ', ' -- '),{section:X[Ie].toastLabel}).join("")}if(J((function(e){var n=e.hideToast;return(0,M.jsx)(z.Z,{id:"save-settings-toast",children:(0,M.jsx)(m.ZP,{text:t,onHide:n})})})),!e.resource_response.error){var n=e.resource_response.data;n.email_changing_to&&n.email_changing_to!==U?de(!0):Z&&(r&&r.navigateTo?window.location.replace(r.navigateTo):re.current=setTimeout(Ue,1500))}})).catch((function(e){switch(e.api_error_code){case v.H9:Me();break;case v.RR:Se(e.message);break;case v.mX:ze({handlePasscodeSent:function(e){var t=Y(Y({},o),{},{passcode:e});Fe(t)}}),se(null);break;case v.E:he(ie),je(e.message);break;case v.O:_e.isOpen&&he(ie),ve(!0);break;case v.Jw:he(ie),ge(!0);break;default:se(e)}}))}),[Ie,_e.isOpen,Pe,ke,L,Z,I,X,Se,ze,Me,J,U,D,Ce,T]),We=(0,r.useMemo)((function(){return{getNewFieldSets:He,handleSave:Fe,birthdateFieldErrorMessage:Pe}}),[He,Fe,Pe]);return(0,M.jsxs)(l.xu,{marginTop:5,display:"flex",direction:"row",justifyContent:"start",children:[(0,M.jsxs)(l.xu,{children:[le?(0,M.jsx)(E.Z,{error:le,onHide:function(){se(null)}}):null,ue?(0,M.jsx)(F,{email:U,onHide:Ue}):null,ye?(0,M.jsx)(d.Z,{userEmail:U,closeModal:function(){return ve(!1)}}):null,_e.isOpen?(0,M.jsx)(c.Z,{age:_e.age,onConfirm:function(){Fe(Y(Y({},_e.newSaveState),{},{birthdayConfirmed:!0}),_e.evt,_e.overrides)},closeModal:function(){he(ie)}}):null,me?(0,M.jsx)(u.Z,{}):null]}),(0,M.jsx)(l.xu,{column:12,mdColumn:12,children:(0,M.jsxs)(l.xu,{display:"flex",direction:"column",marginTop:5,marginBottom:5,mdDirection:"row",paddingX:5,"data-test-id":"accountSettingsContainer",children:[(0,M.jsx)(l.xu,{column:12,mdColumn:3,children:(0,M.jsx)(V,{items:(Ve=Re,Object.keys(X).filter((function(e){return(Ve||"BulkCreatePins"!==e)&&(Ze||"BrandedContent"!==e)})).filter((function(e){return B||"ProfileVisibility"!==e})).filter((function(e){return H||"TaxDocuments"!==e})).filter((function(e){return!B||"PersonalInformation"!==e})).reduce((function(e,t){return e[t]=X[t],e}),{})),activeItem:Ie,onClick:function(e){var t=e.activeItem;e.event.preventDefault(),Te(t),X[t]&&ee.replace(X[t].url)}})}),(0,M.jsxs)(l.xu,{column:12,maxWidth:488,mdColumn:9,padding:2,mdPadding:0,marginTop:5,mdMarginTop:0,children:[(0,M.jsx)(W,{description:e.settingsHeaderDescription||"",title:X[Ie].label}),(0,M.jsx)(G.j,{value:We,children:e.children}),(0,M.jsx)(l.xu,{height:80})]})]})})]})}},73603:function(e,t,n){n.d(t,{j:function(){return i},u:function(){return o}});var r=(0,n(583592).Z)("UserSettingsPageContext"),i=r.Provider,o=r.useHook},764344:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(249444),i=n(88622),o=n(536042),a=n(389282);function l(e){var t=e.error,n=e.onHide,l=(0,o.ZP)(),s=l._('Oops!', ' - ', ' -- ');return(0,a.jsx)(i.ZP,{accessibilityModalLabel:s,role:"alertdialog",heading:s,onDismiss:n,size:"sm",footer:(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:(0,a.jsx)(r.zx,{color:"red",onClick:n,size:"lg",text:l._('Okay', ' - ', ' -- ')})}),children:(0,a.jsx)(r.xu,{paddingX:8,children:(0,a.jsx)(r.xv,{align:"center",children:t.message})})})}},139223:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(193413),i=n(459211);function o(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t),a=n.getTime()-o.getTime();return a<0?-1:a>0?1:a}},137707:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(193413),i=n(459211);var o=n(139223);function a(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,r.Z)(t),l=(0,o.Z)(n,a),s=Math.abs(function(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t);return n.getFullYear()-o.getFullYear()}(n,a));n.setFullYear("1584"),a.setFullYear("1584");var c=l*(s-((0,o.Z)(n,a)===-l));return 0===c?0:c}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/1606-be99ddc903d0db2f.js.map