"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[43408],{621514:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(630089);function i(e,t){var n=e.alt_text,i=e.auto_alt_text;return n?(0,r.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:n}).join(""):i?(0,r.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:i}).join(""):null}},424271:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(750130),i=n.n(r),o=n(249444),a=n(621514),u=n(840166),l=n(781493),c=n(536042),s=n(630089),d=n(176172),f=n(65192),p=n(389282);function v(e){var t=e.alt,n=e.onError,r=void 0===n?function(){}:n,i=e.onLoad,a=void 0===i?function(){}:i,u=e.pin,l=u.dominant_color,c=u.images,s=function(e){var t;return"number"==typeof(null===(t=e["474x"])||void 0===t?void 0:t.width)&&"number"==typeof e["474x"].height&&e["474x"].width>e["474x"].height?e["736x"]:e["474x"]}(void 0===c?{}:c)||{},d=s.height,v=s.width,h=s.url;return(0,p.jsx)(o.xu,{width:"100%",dangerouslySetInlineStyle:{__style:{zIndex:f.Z.storyPinImage}},children:(0,p.jsx)(o.Ee,{alt:t,color:l||"transparent",naturalHeight:null!=d?d:1,naturalWidth:null!=v?v:1,onError:r,onLoad:a,src:h||""})})}var h=n(99841),y=function(e){var t,n,r,f=e.cropHeight,y=e.cropWidth,m=e.fallbackColor,g=e.highResOnly,b=e.imageFit,x=e.lowResOnly,O=e.mediumResOnly,w=e.onError,j=e.onLoad,_=e.pin,P=e.saved,S=void 0!==P&&P,A=(0,c.ZP)(),T=(0,u.Xx)(),E=_.carousel_data,D=_.description,C=void 0===D?"":D,I=_.dominant_color,M=_.grid_title,k=_.id,V=_.images,R=_.title,W=(0,s.nk)(A._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:R||M}).join(""),B=(0,a.Z)(_,A)||C.trim().length>0&&C||W;if(E)return(0,p.jsx)(h.Z,{onError:w,onLoad:j,highResOnly:g,lowResOnly:x,pinId:k});var H,Z="",L=0,z=0;if(V){var F,U,N,G,$,q,X,J,K=V["236x"];if(g?K=V["736x"]||V.orig||V["474x"]||V["236x"]:O&&(K=V["474x"]||V.orig||V["236x"]),L=null===(F=K)||void 0===F?void 0:F.height,z=null===(U=K)||void 0===U?void 0:U.width,Z=null===(N=K)||void 0===N?void 0:N.url,x||O||g)H=null!==(G=K)&&void 0!==G&&G.url?"".concat(K.url," 1x"):"";else H=[(null===($=V["236x"])||void 0===$?void 0:$.url)&&"".concat(V["236x"].url," 1x"),(null===(q=V["474x"])||void 0===q?void 0:q.url)&&"".concat(V["474x"].url," 2x"),(null===(X=V["736x"])||void 0===X?void 0:X.url)&&"".concat(V["736x"].url," 3x"),(null===(J=V.orig)||void 0===J?void 0:J.url)&&"".concat(V.orig.url," 4x")].filter(Boolean).join(", ")}return null!=T&&T.image&&(L=T.image.height,z=T.image.width,Z=T.image.url),(0,p.jsx)(o.kC,{alignItems:"center",justifyContent:"start",minHeight:d.Ml,children:(0,p.jsx)(o.xu,{flex:"grow",children:(0,p.jsx)("div",{className:i()({savedGradient:S}),children:_.story_pin_data_id?(0,p.jsx)(v,{alt:B,pin:_,onError:w,onLoad:j}):(0,p.jsx)(o.xu,{height:y?f:void 0,width:y||void 0,"data-test-id":"non-story-pin-image",children:(0,p.jsx)(l.Z,{alt:B,color:"dominant"===m?I:m,fit:b,naturalHeight:null!==(t=L)&&void 0!==t?t:1,naturalWidth:null!==(n=z)&&void 0!==n?n:1,onError:w,onLoad:j,src:null!==(r=Z)&&void 0!==r?r:"",srcSet:H})})})})})}},335700:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(658379),i=n(249444),o=n(424271),a=n(898252),u=n(83503),l=n(886365),c=n(272270),s=n(536042),d=n(389282),f={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},p={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},v={overlay:{__style:{backgroundColor:"#000"}}};function h(e){var t=e.backgroundImage,n=e.naturalHeight,r=e.naturalWidth,o=e.onRestartVideo,a=e.pinId,u=(0,s.ZP)();return(0,d.jsxs)(i.Ee,{alt:u._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:n,naturalWidth:r,src:t,children:[(0,d.jsx)(i.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:v.overlay}),(0,d.jsxs)(i.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":"video-end-card-".concat(a),children:[(0,d.jsx)(i.iP,{rounding:2,children:(0,d.jsxs)(i.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,d.jsx)(i.JO,{accessibilityLabel:u._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:p,size:25}),(0,d.jsx)(i.xu,{margin:1}),(0,d.jsx)(i.xv,{color:"light",lineClamp:1,weight:"bold",children:u._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,d.jsx)(i.xu,{margin:3}),(0,d.jsx)(i.iP,{onTap:o,rounding:2,children:(0,d.jsxs)(i.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,d.jsx)(i.JO,{accessibilityLabel:u._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:f,size:25}),(0,d.jsx)(i.xu,{margin:1}),(0,d.jsx)(i.xv,{color:"light",lineClamp:1,weight:"bold",children:u._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}function y(e){var t=e.aspectRatio,n=e.children;return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:t}},children:n})}var m=n(197083);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){u=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=new Set(["ConversationView","TodayTabFeed"]);function _(e){var t,n,s=e.inAdsDesktopVideoExperiment,f=e.isAutoplay,p=e.cropHeight,v=e.currentTime,g=e.lowResOnly,x=e.highResOnly,w=e.onLoad,_=e.onError,P=e.saved,S=e.onTimeChange,A=e.isExperimentalPinRep,T=e.pin,E=e.surface,D=e.playing,C=e.rootMargin,I=e.viewType,M=e.viewParameter,k=e.onVisibilityChanged,V=e.trackFullVisible,R=e.inVisibilityChangedHookExperiment,W=e.imageHeightModifier,B=e.cropWidth,H=O((0,r.useState)(!1),2),Z=H[0],L=H[1],z=O((0,r.useState)(!0),2),F=z[0],U=z[1],N=T.is_downstream_promotion,G=T.promoter,$=(0,a.jL)(N,!!G),q=$&&!T.is_eligible_for_web_closeup,X=A&&$&&T.is_eligible_for_web_closeup&&!j.has(E),J=(0,l.I)().setCurrentVideo,K=q||!A||!$,Q=(0,u.Z)({onVisibilityChanged:k,inAdsDesktopVideoExperiment:s,trackFullVisible:V,rootMargin:C}),Y=!D;s&&(Y=F,f&&D&&F&&U(!1));var ee=((null===(t=T.images)||void 0===t?void 0:t["236x"])||{}).url,te=T.id,ne=T.is_promoted,re=(0,r.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),J({pinId:te,isPromoted:Boolean(ne),currentTime:0}),L(!1)}),[ne,te,J]),ie=(0,r.useCallback)((function(){ne&&L(X)}),[X,ne]);if(!T.videos||null===(n=T.videos.video_list)||void 0===n||!n.V_HLSV4)return null;var oe,ae=T.videos.video_list.V_HLSV4||{},ue=ae.height,le=ae.thumbnail,ce=ae.width,se=ae.url,de=T.videos.id,fe=[{type:"video/m3u8",src:se}],pe=(null!=ce?ce:1)/(null!=ue?ue:1),ve=s&&E&&(0,c.Z)(E);if(ve&&(pe=1,oe="transparent",W&&(pe-=W-1)),Z&&$)return(0,d.jsx)(i.xu,{ref:R?Q:null,children:(0,d.jsx)(h,{backgroundImage:null!=ee?ee:"",naturalHeight:null!=ue?ue:1,naturalWidth:null!=ce?ce:1,pinId:T.id,onRestartVideo:re})});if(Y){var he={highResOnly:x,lowResOnly:g,onError:_,onLoad:w,pin:T,saved:P};return ve&&(he=b(b({},he),{},{cropHeight:p,cropWidth:B,imageFit:"contain"})),(0,d.jsx)(i.xu,{ref:R?Q:null,children:(0,d.jsx)(y,{aspectRatio:pe,children:(0,d.jsx)(o.Z,b({},he))})})}return(0,d.jsx)(i.xu,{ref:R?Q:null,children:(0,d.jsx)(m.ZP,{isAutoPlay:!!f,cropHeight:p,rootMargin:C,surface:E,inAdsDesktopVideoExperiment:s,contextLogData:{viewParameter:M,component:0,objectId:T.id,video_id:de,view:I},aspectRatio:pe,backgroundColor:oe,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:v||-1},loop:K,onTimeChange:S,playing:D,onPlay:function(){},onPlayError:function(){},poster:ee||le,src:null!=fe?fe:[],videoStartTime:v,volume:0,onEnded:ie})})}var P=n(282802),S=n(245438);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=n(566827),C=n(997394);function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}(this,n)}}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=(0,S.Z)(_),z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var t,n,r,i=W(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(B(e=i.call.apply(i,[this].concat(n))),"calculateCurrentVideoTime",(function(){var t=e.props,n=t.currentTimeFromPinRep,r=t.pin,i=t.videosAutoplaying,o=r.id,a=(0,D.Z)(o,i);return e.currentVideoCurrentTime||a||n})),Z(B(e),"handleVisibilityChanged",(function(t){var n=e.props,r=n.currentTimeFromPinRep,i=n.pin,o=n.requestContext,a=n.setCurrentVideo,u=n.pauseAutoplay,l=n.videosAutoplaying,c=i.id,s=i.is_promoted,d=(0,C.Z)(c,l),f=function(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,i=T(T({},n),r);for(var o in i){var a=i[o].paused;if(o!==e&&!a)return!1}return!0}(c,l);if(t){if(s)a({pinId:c,isPromoted:s,currentTime:e.calculateCurrentVideoTime()});else if(f){var p=(o.experimentsClient.checkExperiment("hfp_web_video_autoplay_in_grid")||{}).anyEnabled;a({pinId:c,isPromoted:Boolean(s),currentTime:e.calculateCurrentVideoTime(),inVideoGridAutoplayExp:p})}}else!t&&d&&u({pinId:c,isPromoted:Boolean(s),currentTime:r||e.currentVideoCurrentTime})})),Z(B(e),"handleVideoTimeChange",(function(t){var n=e.props,r=n.pin,i=n.onTimeChange,o=n.videosAutoplaying,a=r.id;(0,C.Z)(a,o)&&(e.currentVideoCurrentTime=t.time),i&&i(t)})),e}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,r=n.appInFocus,i=n.currentTimeFromPinRep,o=n.pauseAutoplay,a=n.pin,u=n.setCurrentVideo,l=n.videosAutoplaying,c=a.id,s=a.is_promoted,d=(0,C.Z)(c,l);r!==t&&!r&&d?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:Boolean(s),currentTime:i||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&r&&(this.pausedDueToBrowserOutOfFocus=!1,u({pinId:c,isPromoted:Boolean(s),currentTime:this.calculateCurrentVideoTime()}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,r=e.pin,i=e.videosAutoplaying,o=r.id,a=r.is_promoted;(0,C.Z)(o,i)&&n({pinId:o,isPromoted:Boolean(a),currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.cropHeight,n=e.isAutoplay,r=e.pin,i=e.surface,o=e.videosAutoplaying,a=e.viewParameter,u=e.viewType,l=e.highResOnly,c=e.lowResOnly,s=e.onError,f=e.onLoad,p=e.saved,v=e.inAdsDesktopVideoExperiment,h=e.isExperimentalPinRep,y=e.rootMargin,m=e.cropWidth,g=e.imageHeightModifier,b=r.id,x=(0,D.Z)(b,o),O=(0,C.Z)(b,o)&&n;return(0,d.jsx)(L,{cropHeight:t,rootMargin:y,currentTime:x,inAdsDesktopVideoExperiment:v,isAutoplay:n,viewParameter:a,viewType:u,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:r,surface:i,playing:O,trackFullVisible:!1,highResOnly:l,lowResOnly:c,onError:s,onLoad:f,saved:p,isExperimentalPinRep:h,cropWidth:m,imageHeightModifier:g})}}])&&V(t.prototype,n),r&&V(t,r),o}(r.Component);function F(e){var t=(0,l.I)(),n=t.appUI,r=n.appInFocus,i=n.isAutoplay,o=n.videosAutoplaying,a=t.pauseAutoplay,u=t.setCurrentVideo;return(0,d.jsx)(z,k(k({},e),{},{appInFocus:r,isAutoplay:i,pauseAutoplay:a,requestContext:(0,P.B)(),setCurrentVideo:u,videosAutoplaying:o}))}},840166:function(e,t,n){n.d(t,{wH:function(){return A},wA:function(){return P},Xx:function(){return T}});var r=n(658379),i=n(150456),o=n(393272);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){u=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n=e.dimensionName,r=e.variants,i=e.selectedTuple,o=e.variantStatuses,l=i.filter((function(e){return u(e,1)[0]!==n})),c=a(r);try{var s=function(){var e=t.value,r=e.dimensions,i=void 0===r?{}:r,a=e.offer_summary,c=void 0===a?{}:a;if(!l.every((function(e){var t=u(e,2),n=t[0],r=t[1];return i[n]===r})))return"continue";var s=o.find((function(e){return e.value===i[n]}));s&&(s.status=c.in_stock||"available"===s.status?"available":"outOfStock")};for(c.s();!(t=c.n()).done;)s()}catch(d){c.e(d)}finally{c.f()}},v=function(e){var t=e.variants,n=e.selectedMap,r=void 0===n?{}:n,i=e.variantMap,o=Object.entries(r);for(var a in i){var u=i[a];u&&p({dimensionName:a,variants:t,selectedTuple:o,variantStatuses:u})}},h=function(e){var t,n=d({},(null===(t=e.find((function(e){return!!e.is_preselected})))||void 0===t?void 0:t.dimensions)||{});for(var r in n)n[r]||delete n[r];return n},y=function(e){var t=e.selectedMap;return e.variants.filter((function(e){var n=e.dimensions,r=void 0===n?{}:n;for(var i in t){var o=t[i];if(r[i]!==o)return!1}return!0}))},m=n(388011),g=n(389282);function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,r.createContext)(undefined),P=function(e){var t;if(!e.variants)return!1;var n=null===(t=e.dimension_metadata)||void 0===t?void 0:t.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return!!(n&&n.name&&n.values&&1!==n.values.length)},S=function(e){var t=e.pinId,n=e.children,u=e.dimensionMetadata,l=e.primaryDimName,c=e.variants,s=e.primaryDimensionThumbnailImages,p=(0,r.useCallback)((function(e){var t=e.selectedMap,n=function(e){var t=e.defaultStatus,n=void 0===t?"available":t,r=e.dimensionMetadataNameValues,i=e.primaryDimName,a=e.primaryDimensionThumbnailImages;return r.reduce((function(e,t){var r=t.values,u=t.name;return u&&r?d(d({},e),{},f({},u,r.map((function(e,t){var r={status:n,value:e};if(u===i){var l=null==a?void 0:a[t.toString()];if(l)return d(d({},r),{},{image:(0,o.Z)({images:l.canonical_images})})}return r})))):e}),{})}({dimensionMetadataNameValues:u.map((function(e){return{name:e.name,values:e.values}})),primaryDimName:l,primaryDimensionThumbnailImages:s,defaultStatus:"invalid"});return v({variantMap:n,selectedMap:t,variants:c}),n}),[u,l,s,c]),x=(0,m.v)().logContextEvent,O=c.find((function(e){return e.is_preselected})),P=(0,i.a)()||{},S=P.pinsState,A=P.setPinState,T=S&&S[t],E=T?T.selectedMap:h(c),D=T?T.selectedVariants:y({selectedMap:E,variants:c}),C=T?T.variantMap:p({selectedMap:E}),I=!!T&&T.isSelectedByUser,M=T?T.variantUrl:(null==O?void 0:O.pin_id)||t,k=(0,r.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=y({selectedMap:e,variants:c}),i={selectedMap:e,selectedVariants:r,variantMap:p({selectedMap:e}),isSelectedByUser:n,variantUrl:""},o=r[0].pin_id;o&&(i.variantUrl=o),A&&A(t,i)}),[p,t,A,c]),V=(0,r.useCallback)((function(){var e=h(c);k(e)}),[k,c]),R=(0,r.useCallback)((function(e){var t,n=e.dimensionName,r=e.variant,i=e.isAutoSelection,o=void 0!==i&&i,a=null===(t=C[n])||void 0===t?void 0:t.find((function(e){return e.value===r}));try{if(!a)throw new Error("Unable to find the selected variant ".concat(n,": ").concat(r));if(E[n]===r)return;var u=w(w({},"invalid"!==a.status?E:{}),{},j({},n,r)),l=function(e){var t=e.status,n=e.variantMap,r={};for(var i in n){var o;r[i]=null===(o=n[i])||void 0===o?void 0:o.map((function(e){return d(d({},e),{},{status:t})}))}return r}({variantMap:C,status:"invalid"});v({variantMap:l,selectedMap:u,variants:c}),k(u,!o),x({event_type:10240,component:14092})}catch(s){throw V(),s}}),[C,E,c,k,V,x]),W=D[0].title,B=(0,o.Z)({images:(D[0].additional_images||[])[0].canonical_images}),H=function(e){var t,n,r,i,o,u=!1,l=1===e.length&&e[0].offer_summary||{},c=l.percentage_off,s=l.standard_price,d=a(e);try{for(d.s();!(o=d.n()).done;){var f=o.value.offer_summary||{},p=f.max_price,v=f.max_price_val,h=f.min_price,y=f.min_price_val,m=f.price,g=f.price_val,b=f.price_in_micro_currency,x=f.in_stock,O=g||Number(b);"number"==typeof y&&Number.isFinite(y)&&"number"==typeof v&&Number.isFinite(v)&&((void 0===n||y<n)&&(n=y,t=h),(void 0===i||v>i)&&(i=v,r=p),u=u||!!x),Number.isFinite(O)&&((null==n||O<n)&&(n=O,t=m),(null==i||O>i)&&(i=O,r=m),u=u||!!x)}}catch(w){d.e(w)}finally{d.f()}if(r&&t)return t===r?{in_stock:u,percentage_off:c,price:t,standard_price:s}:{in_stock:u,max_price:r,min_price:t,percentage_off:c,price:t,standard_price:s}}(D),Z=(0,r.useMemo)((function(){var e=((null==O?void 0:O.dimensions)||{})[l],t=C[l]||[],n=t;if(e&&t){var r=t.find((function(t){return t.value===e}));r&&(n=[r].concat(b(t.filter((function(t){return t.value!==e})))))}return{dimensionMetadataNameValues:u.map((function(e){return{name:e.name,values:e.values}})),offerSummary:H,primaryVariants:n,primaryDimName:l,selectedMap:E,isSelectedByUser:I,selectVariant:R,title:W,variants:c,image:B,variantUrl:M}}),[O,l,C,u,H,E,I,R,W,c,B,M]);return(0,g.jsx)(_.Provider,{"data-test-id":"safe-product-pins-feed-context-provider",value:Z,children:n})},A=function(e){var t=e.children,n=e.variantSet,r=e.pinId;if(!e.isEligible)return(0,g.jsx)(_.Provider,{"data-test-id":"undefined-context-provider",value:void 0,children:t});var i=n||{},o=i.dimension_metadata,a=i.primary_dimension_thumbnail_images,u=i.variants,l=null==o?void 0:o.find((function(e){var t;return"color"===(null===(t=e.name)||void 0===t?void 0:t.toLowerCase())}));return(0,g.jsx)(S,{pinId:r,dimensionMetadata:o||[],primaryDimName:(null==l?void 0:l.name)||"",primaryDimensionThumbnailImages:a,variants:u||[],children:t})},T=function(){return(0,r.useContext)(_)}},150456:function(e,t,n){n.d(t,{A:function(){return d},a:function(){return f}});var r=n(658379),i=n(389282);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){u=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=(0,r.createContext)(void 0),d=function(e){var t=e.children,n=l((0,r.useState)({}),2),o=n[0],c=n[1],d=(0,r.useMemo)((function(){return{setPinState:function(e,t){c(a(a({},o),{},u({},e,a(a({},o[e]||{}),t))))},pinsState:o}}),[o]);return(0,i.jsx)(s.Provider,{value:d,children:t})},f=function(){return(0,r.useContext)(s)}},572559:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(38823);function i(e){var t,n=e.carouselData,i=e.images,o=e.product,a=e.shouldUnifyImageSizes;return null!=o&&null!==(t=o.additional_images)&&void 0!==t&&t.length?(0,r.Z)(i,o.additional_images,null==n?void 0:n.index,a,o.id):n||void 0}},346190:function(e,t,n){function r(e){if(!e)return null;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){if(e["736x"]&&e["736x"].url)return e["736x"];if(e["564x"]&&e["564x"].url)return e["564x"]}else{if(e["564x"]&&e["564x"].url)return e["564x"];if(e["736x"]&&e["736x"].url)return e["736x"]}return e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null}n.d(t,{Z:function(){return r}})},393272:function(e,t){function n(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){l=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=["564x","736x","orig","474x","236x"];t.Z=function(e){var t,r=e.images,o=void 0===r?{}:r,a=e.resolutionPreferences,u=n(void 0===a?i:a);try{for(u.s();!(t=u.n()).done;){var l=t.value;if(o[l]&&o[l].url)return o[l]}}catch(c){u.e(c)}finally{u.f()}return null}},867812:function(e,t,n){n.d(t,{X:function(){return r}});var r="favorited"},245438:function(e,t,n){var r=n(658379),i=n(135222),o=n(389282);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,n)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=new Map,h=null,y=function(e){e.forEach((function(e){var t=v.get(e.target);t&&t(e)}))};t.Z=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(m,t);var n,r,a,f=s(m);function m(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(d(e=f.call.apply(f,[this].concat(n))),"seen",!1),p(d(e),"enter",(function(t){var n=t.intersectionRatio>0||t.isIntersecting;e.seen=n,e.seen&&e.props.onVisibilityChanged(!0)})),p(d(e),"leave",(function(){var t=e._node;t&&function(e){return v.has(e)}(t)&&e.seen&&(e.props.onVisibilityChanged(!1),e.seen=!1)})),p(d(e),"observe",(function(t){try{e._node=i.findDOMNode(d(e))}catch(o){return}if(e._node){var n=e.props.inAdsDesktopVideoExperiment,r=e._node;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};h=h||new window.IntersectionObserver(y,r),v.set(e,n),h.observe(e)}(r,t,(function(t){if(v.has(r)){var i=n?t.intersectionRatio>=.5:t.intersectionRatio>0||t.isIntersecting,o=e.props.trackFullVisible?t.intersectionRatio>=1:i,a=e.props.trackFullVisible?0===t.intersectionRatio:!o;!e.seen&&o?e.enter(t):e.seen&&a&&e.leave()}}))}})),e}return n=m,r=[{key:"componentDidMount",value:function(){var e=this.props.rootMargin;this.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this._node;e&&(this.leave(),function(e){h.unobserve(e),v.delete(e)}(e))}},{key:"render",value:function(){return(0,o.jsx)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props))}}],r&&l(n.prototype,r),a&&l(n,a),m}(r.Component);return p(t,"displayName","DeprecatedWithVisibilityChanged(".concat(e.displayName||e.name,")")),t}},83503:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(658379),i=new Map,o=null,a=function(e){e.forEach((function(e){var t=i.get(e.target);t&&t(e)}))},u=function(e){o.unobserve(e),i.delete(e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};o=o||new window.IntersectionObserver(a,r),i.set(e,n),o.observe(e)},c=function(e){return i.has(e)};function s(e){var t=e.onVisibilityChanged,n=e.inAdsDesktopVideoExperiment,o=e.trackFullVisible,a=e.rootMargin,s=(0,r.useRef)(null),d=!1,f=function(){s.current instanceof HTMLElement&&c(s.current)&&d&&(t(!1),d=!1)},p=(0,r.useCallback)((function(e){s.current instanceof HTMLElement&&l(s.current,e,(function(e){if(i.has(s.current)){var r=n?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=o?e.intersectionRatio>=1:r,u=o?0===e.intersectionRatio:!a;!d&&a?function(e){var n=e.intersectionRatio>0||e.isIntersecting;(d=n)&&t(!0)}(e):d&&u&&f()}}))}),[s.current]);return(0,r.useEffect)((function(){return p(a),function(){s.current instanceof HTMLElement&&(f(),u(s.current))}}),[p]),s}},566827:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,o=i(i({},n),r);return o[e]&&o[e].currentTime}n.d(t,{Z:function(){return a}})},997394:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=t.organicVideosAutoplaying,r=t.promotedVideosAutoplaying,o=i(i({},n),r);return!!o[e]&&!o[e].paused}n.d(t,{Z:function(){return a}})},272270:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(795142);function i(e){return r.zI.includes(e)}},65192:function(e,t){t.Z={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},99841:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(658379),i=n(249444),o=n(572559),a=n(346190),u=n(24286),l=n(536042),c=n(183929),s=n(176172),d=n(164377),f=n(525104),p=n(389282);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,o=m(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=o.call.apply(o,[this].concat(n))),"state",{showBadge:!0}),w(g(e),"renderBadge",(function(){var t=e.props,n=t.carouselData,r=t.isCloseup,o=t.showCarouselBadge;if(!n)return null;var a=e.state.showBadge,u=n.carousel_slots,l=n.index,c=a?.8:0;return!r&&o?(0,p.jsx)(i.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:c,transition:"opacity .3s"}},children:(0,p.jsx)(i.xv,{color:"inverse",children:"".concat((null!=l?l:0)+1,"/").concat((null!=u?u:[]).length)})}):null})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;this.hideBadgeTimeout=setTimeout((function(){return e.setState({showBadge:!1})}),3e3)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.state.showBadge,r=e.carouselData,i=this.props.carouselData;if(r&&i){var o=r.index,a=i.index;n&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((function(){return t.setState({showBadge:!1})}),3e3)),o!==a&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}}},{key:"componentWillUnmount",value:function(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCloseup,r=t.carouselIndex,o=t.closeupHeight,l=t.closeupWidth,f=void 0===l?0:l,v=t.widthRatio,h=void 0===v?1:v,y=t.cropHeight,m=t.cropWidth,g=t.carouselData,b=t.disableTransition,x=t.highResOnly,j=t.lowResOnly,_=t.onError,P=t.onLoad,S=t.pinId,A=t.isEditMode,T=t.isDenseView,E=t.pin;if(!g)return null;if(h>1||h<0)throw new Error("widthRatio should be between 0 and 1 inclusive");var D,C=g.carousel_slots,I=void 0===C?[]:C,M=g.index,k=void 0===M?0:M,V=void 0!==r?r:k,R=!n&&m,W=I[V].images;D=n?f:R||(x?474:T?u.Lo:u.yF);var B,H,Z=Math.floor(D*h),L=(null==W?void 0:W["236x"])||{},z=y||L.height||0,F=m||L.width||236,U=o||z/F*Z,N=(B=I.reduce((function(e,t){var n,r=t.images,i=(null==r?void 0:r["736x"])||(null==r?void 0:r["236x"])||{},o=i.height,a=void 0===o?1:o,u=i.width,l=void 0===u?1:u,c="".concat(l,"x").concat(a),s=(null===(n=e[c])||void 0===n?void 0:n.times)||0;return O(O({},e),{},w({},c,{imageHeight:a,imageWidth:l,times:s+1}))}),{}),H=Object.keys(B).reduce((function(e,t){return B[t].times>e.times?B[t]:e}),{times:-1,imageHeight:-1,imageWidth:-1}),Object.keys(B).length>1?{imageHeight:H.imageHeight,imageWidth:H.imageWidth}:null);return(0,p.jsxs)(i.xu,{height:U,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:s.Ml,"data-test-image-signature":null==E?void 0:E.image_signature,children:[!A&&this.renderBadge(),(0,p.jsx)(c.Z,{carouselData:g,trackCarousel:!0,impressionType:"Pin",loggingId:S,slotIndex:k,viewParameter:72,viewType:1,children:(0,p.jsx)(i.xu,{position:"absolute",height:U,width:Z,overflow:"hidden"})},"carousel-impression-key-".concat(V)),(0,p.jsx)(i.xu,{width:Z*I.length,dangerouslySetInlineStyle:{__style:{transition:b?"":"left .3s",left:(0,d.vF)(I.length,Z,D,V)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:I.map((function(t,r){if(n){var o=r===I.length-1;return function(e,t){var n=e.pinId,r=e.slot,o=e.slotIndex,u=e.onError,l=e.onLoad,c=e.widthToUse,s=e.gap,f=(0,a.Z)(r.images)||{},v=f.url,h=f.width,y=f.height,m=r.details,g=void 0===m?"":m,b=(0,d.GH)(g,t,o);return(0,p.jsx)(i.xu,{"data-test-id":"carousel-slot-container",width:c,height:"100%",marginEnd:s,children:(0,p.jsx)(i.zd,{height:"100%",wash:!0,children:(0,p.jsx)(i.Ee,{alt:b,fit:"contain",naturalHeight:null!=y?y:1,naturalWidth:null!=h?h:1,onError:u,onLoad:l,src:null!=v?v:""})})},"carousel-slot-".concat(n,"-").concat(o))}({pinId:S,slot:t,slotIndex:r,onError:_,onLoad:P,widthToUse:Z,gap:Z<D&&!o?1:0},e.props.i18n)}return function(e,t,n,r,o,a,u,l,c,s,f,v,h,y,m){var g,b,x,O,w,j,_,P,S,A,T,E,D=t.images,C=t.details,I=void 0===C?"":C,M=236,k=236,V="";if(o?(M=474,k=D&&Math.min(M/.8,M/((null!==(w=null===(j=D["564x"])||void 0===j?void 0:j.width)&&void 0!==w?w:1)/(null!==(_=null===(P=D["564x"])||void 0===P?void 0:P.height)&&void 0!==_?_:1))),V=D&&(null===(S=D["564x"])||void 0===S?void 0:S.url)):D&&D["736x"]?(k=D&&D["736x"]&&D["736x"].height,M=D&&D["736x"]&&D["736x"].width,V=D&&D["736x"]&&D["736x"].url):D&&D["236x"]&&(k=D&&D["236x"]&&D["236x"].height,M=D&&D["236x"]&&D["236x"].width,V=D&&D["236x"]&&D["236x"].url),h&&y&&(k=Math.min(h*y,null!==(A=k)&&void 0!==A?A:1)),a)O="".concat(null!==(T=null==D||null===(E=D["236x"])||void 0===E?void 0:E.url)&&void 0!==T?T:""," 1x");else if(o){var R,W;O="".concat(null!==(R=null==D||null===(W=D["564x"])||void 0===W?void 0:W.url)&&void 0!==R?R:""," 1x")}else{var B,H,Z;O=[(null==D?void 0:D["474x"])&&"".concat(null!==(B=D["474x"].url)&&void 0!==B?B:""," 2x"),(null==D?void 0:D["736x"])&&"".concat(null!==(H=D["736x"].url)&&void 0!==H?H:""," 3x"),(null==D?void 0:D.orig)&&"".concat(null!==(Z=D.orig.url)&&void 0!==Z?Z:""," 4x")].filter(Boolean).join(", ")}var L=(0,d.GH)(I,e,r),z=v?void 0:k,F=v?void 0:M,U=m?{boxHeight:null==m?void 0:m.imageHeight,boxWidth:null==m?void 0:m.imageWidth}:{boxHeight:z,boxWidth:F},N=U.boxHeight,G=U.boxWidth;return(0,p.jsx)(i.xu,{"data-test-id":"carousel-slot-container",height:N,width:G,children:(0,p.jsx)(i.xu,{height:v?f:void 0,width:v||void 0,"data-test-id":"carousel-img-".concat(r),children:(0,p.jsx)(i.Ee,{alt:L,fit:v?"cover":"none",naturalHeight:null!==(g=k)&&void 0!==g?g:1,naturalWidth:null!==(b=M)&&void 0!==b?b:1,onError:u,onLoad:l,src:null!==(x=V)&&void 0!==x?x:"",srcSet:O})})},"carousel-slot-".concat(n,"-").concat(r))}(e.props.i18n,t,S,r,x,j,_,P,0,0,y,m,U,Z,N)}))})]})}}])&&h(t.prototype,n),r&&h(t,r),l}(r.Component);function _(e){var t,n,r=(0,l.ZP)(),i=(0,f.S6)()(e.pinId)||e.pin,a=(0,o.Z)({carouselData:null==i?void 0:i.carousel_data,images:null==i?void 0:i.images,product:null===(t=(null==i?void 0:i.rich_metadata)||(null==i?void 0:i.rich_summary))||void 0===t||null===(n=t.products)||void 0===n?void 0:n[0],shouldUnifyImageSizes:!0});return(0,p.jsx)(j,O(O({},e),{},{carouselData:a,i18n:r}))}w(j,"defaultProps",{showCarouselBadge:!0})},164377:function(e,t,n){n.d(t,{CU:function(){return o},GH:function(){return l},Iw:function(){return u},gA:function(){return c},tD:function(){return a},vF:function(){return s}});var r=function e(t){var n=t.containerWidth,r=t.contentWidth,i=t.index,o=t.slotAndGapWidth,a=i-1,u=a*o;return r-u>=n?u:e({index:a,slotAndGapWidth:o,containerWidth:n,contentWidth:r})},i=function(e){var t=e.containerWidth,n=e.contentWidth,i=e.gap,o=e.index,a=e.slidesShownPerPosition,u=e.slotAndGapWidth,l=r({containerWidth:t,contentWidth:n,index:o,slotAndGapWidth:u}),c=function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n}({slidesShownPerPosition:a,slotAndGapWidth:u});return l+c-i},o=function(e){var t=e.containerWidth,n=e.gap,r=e.index,o=e.numberOfSlides,a=e.slotWidth+n,u=a*o;if(u<=t)return 0;var l=t/a,c=function(e){var t=e.index,n=e.numberOfSlides,r=e.slidesShownPerPosition;return n-t-Math.floor(r)<1}({index:r,numberOfSlides:o,slidesShownPerPosition:l}),s=c?i({containerWidth:t,contentWidth:u,gap:n,index:r,slidesShownPerPosition:l,slotAndGapWidth:a}):r*a;return s?Math.round(-s):0},a=function(e){var t=e.containerWidth,n=e.gap,r=e.index,i=e.numberOfSlides,a=e.slotWidth,u=(a+n)*i;if(u<=t||0===t)return!0;var l=o({containerWidth:t,gap:n,index:r,numberOfSlides:i,slotWidth:a}),c=u-t;return Math.abs(l)+n>=c},u=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,i=e.index,a=e.numberOfSlides,u=e.slotWidth,l=u+r;return l*a<=t||0===t||o({containerWidth:t,gap:r,index:n,numberOfSlides:a,slotWidth:u})+l*i<t+l},l=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)},c=function(e){var t,n,r,i,o,a,u,l=e.highResOnly,c=e.lowResOnly,s=e.slot.images;return c?"".concat(null!==(i=null==s||null===(o=s["236x"])||void 0===o?void 0:o.url)&&void 0!==i?i:""," 1x"):l?"".concat(null!==(a=null==s||null===(u=s["564x"])||void 0===u?void 0:u.url)&&void 0!==a?a:""," 1x"):[(null==s?void 0:s["474x"])&&"".concat(null!==(t=s["474x"].url)&&void 0!==t?t:""," 2x"),(null==s?void 0:s["736x"])&&"".concat(null!==(n=s["736x"].url)&&void 0!==n?n:""," 3x"),(null==s?void 0:s.orig)&&"".concat(null!==(r=s.orig.url)&&void 0!==r?r:""," 4x")].filter(Boolean).join(", ")},s=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(n===t)return r*t*-1;var o=Math.floor(n-t),a=t+i;return r===e-1?-1*r*a+o:-1*r*a}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/43408-f0dd4e342a984356.js.map