"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2401],{128340:function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{b:function(){return l}});var l=function(e){return Object.entries(e).reduce((function(e,t){var r,n=u(t,2),a=n[0],l=n[1];return o(o({},e),{},i({},a,l&&{height:(r=l).height,url:r.url,width:r.width}))}),{})}},850865:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(282802),o=r(819079),i=r(802071);function u(){var e,t=(0,n.B)(),r=(0,i.Z)(),u=t.advertiser,a=(0,o.Z)(null!=u&&u.merchant_id?null:{name:"UserResource",options:{user_id:u?u.owner_user_id:r.isAuth&&r.id,field_set_key:"merchant_summary"}});return{merchantId:(null==u?void 0:u.merchant_id)||(null===(e=a.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==u?void 0:u.id)||"",ownerUserId:(null==u?void 0:u.owner_user_id)||(r.isAuth?r.id:""),advertiser:u}}},705837:function(e,t,r){r.d(t,{AC:function(){return f},AV:function(){return i},Bm:function(){return d},E2:function(){return s},HS:function(){return a},cb:function(){return n},mX:function(){return c},rf:function(){return o},yo:function(){return u},zv:function(){return l}});var n=150,o=175,i=300,u=700,a=4e3,l=6e3,c={DESC:"desc",ASC:"asc"},s={SHOPIFY:"SHOPIFY",WOOCOMMERCE:"WOOCOMMERCE"},d=32,f=10},259511:function(e,t,r){r.d(t,{G7:function(){return a},Lp:function(){return d},Ib:function(){return v}});var n=r(819079);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,n.Z)(t?null:{name:"FeaturedProductGroupsResource",enabledRouteRefresh:!0,options:e});return i(i({},r),{},{isLoaded:!0,data:r&&r.data||[]})}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.Z)({name:"ProductGroupFilterResource",options:e,enabledRouteRefresh:!0});return c(c({},t),{},{data:t&&t.data||{}})}var f=r(658379),p=r(536042),_=r(637110);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,p.ZP)(),i=(0,n.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:r}),u=(0,f.useMemo)((function(){return i.data&&i.isLoaded?i.data.map((function(e){return e.name=(0,_.GN)(o,e.type,e.name),e})):[]}),[o,i.data,i.isLoaded]);return g(g({},i),{},{data:u})}},524378:function(e,t,r){r.d(t,{$o:function(){return c},GW:function(){return o},Jo:function(){return a},Li:function(){return A},Q8:function(){return m},Ux:function(){return d},VX:function(){return y},Zo:function(){return f},aD:function(){return p},b2:function(){return h},e_:function(){return O},g2:function(){return g},it:function(){return E},kY:function(){return P},lM:function(){return i},oM:function(){return S},qN:function(){return l},s4:function(){return s},tK:function(){return b},ym:function(){return _},zQ:function(){return v}});var n=r(837792),o="/business/hub/?show_vmp=true",i=(n.Rf,n.Rf,n.Rf,n.Rf,["US","GB","CA","AU","DE","FR"]),u=["FR"],a=i.concat(["ES","IT","AT","CH","NL","BR","MX"]).filter((function(e){return!u.includes(e)})),l={PROCESSING:"PROCESSING",FAILED:"FAILED",COMPLETED:"COMPLETED",DISAPPROVED:"DISAPPROVED",UNDER_REVIEW:"UNDER_REVIEW"},c={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},s=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),d=function(e,t){switch(e){case"IN_PROGRESS":return t._('In-progress', 'BizHubHeader.VMPEntryPointStatus.label', 'User is currently in progress of becoming a Verified Merchant');case"ACTIVE":return t._('Active', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently an active Verified Merchant');case"NEEDS_ATTENTION":return t._('Needs attention', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account has an issue that needs attention in order to keep their Verified Merchant Status');case"SUSPENDED":return t._('Suspended', 'BizHubHeader.VMPEntryPointStatus.label', 'Users account is currently a suspended Verified Merchant');default:return e}},f=(s.NON_COMPLIANT,s.SUSPENDED,Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"})),p=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),_="Verified merchant program not yet available in this country",h=2e3,g={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},y=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),v=[y.ACCOUNT_AGE,y.DOMAIN_AGE,y.PROFILE_IMAGE,y.PROFILE_COVER_IMAGE,y.BIO,y.SHOP_TAB,y.PINNER_FEEDBACK],m=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),b=30,P=6048e5,O="show_vmp",A="true",E=Object.freeze({ACTION_CARDS_BANNER:"ACTION_CARDS_BANNER",WELCOME_BANNER:"WELCOME_BANNER",CELEBRATION_BANNER:"CELEBRATION_BANNER"}),S=3},850500:function(e,t,r){r.d(t,{S:function(){return p},w:function(){return _}});var n=r(658379),o=r(583592),i=r(133244),u=r(579733),a=r(389282);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){return r.e(48968).then(r.bind(r,948968))},d=(0,o.Z)("MerchantStorefrontSettings"),f=d.Provider,p=d.useHook;function _(e){var t=e.children,r=l((0,i.Z)(s,u.Z),2),o=r[0],c=r[1],d=(0,n.useMemo)((function(){return{merchantStorefrontSettings:o,updateLocaleStorefrontSetting:function(e,t,r){c({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:r}})},updateStorefrontLastUpdated:function(e){c({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}}}),[c,o]);return(0,a.jsx)(f,{value:d,children:t})}},407387:function(e,t){t.Z={STOREFRONT_LOCALE_STORAGE_KEY:"merchantStorefront.storefrontSettings.locale"}},579733:function(e,t){t.Z={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},471501:function(e,t,r){function n(e){var t=e.user,r=e.viewer;return Boolean(r.isAuth&&(null==t?void 0:t.username)===r.username)}r.d(t,{Z:function(){return n}})},51283:function(e,t,r){r.d(t,{C:function(){return d},Z:function(){return s}});var n=r(658379),o=r(249444),i=r(388011),u=r(880391),a=r(389282);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s={HEIGHT:362,WIDTH:362};function d(e){var t,r,c,d,f,p,_=e.productGroup,h=e.preferredPreviewPinSizes,g=void 0===h?[]:h,y=e.coverFit,v=void 0!==y&&y,m=(0,i.v)().logContextEvent,b=(null===(t=_.coverImages)||void 0===t?void 0:t[0])&&(0,u.cB)(_.coverImages[0]),P=s.WIDTH,O=s.HEIGHT,A=((null===(r=_.previewPins)||void 0===r?void 0:r[0])||{}).images,E=l((0,n.useState)(!b),2),S=E[0],j=E[1];A&&S&&(p=g.concat("orig").map((function(e){return A[e]})).find((function(e){return!!e})));var w=S?null===(c=p)||void 0===c?void 0:c.height:O,x=S?null===(d=p)||void 0===d?void 0:d.width:P,I=S?null===(f=p)||void 0===f?void 0:f.url:b;return w&&x&&I?(0,a.jsx)(o.Ee,{alt:"",naturalHeight:w,naturalWidth:x,src:I,fit:v?"cover":"contain",onError:function(){S||(m({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:b}}),j(!0))}}):null}},492701:function(e,t,r){r.d(t,{Z:function(){return D}});var n=r(658379),o=r(249444),i=r(690108),u=r(388011),a=r(970588),l=r(88622),c=r(550140),s=r(128340),d=r(536042),f=r(630089),p=r(819079),_=r(63262),h=r(802071),g=r(850865),y=r(259511),v=r(475190),m=r(589665),b=r(850500),P=r(880391),O=r(389282);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=new o.H3([new o.Ry(v.HW),new o.Ry(m.fe)]),j=316,w=255,x=155;function I(e){var t=e.onFileUpload,r=(0,d.ZP)(),i=A((0,n.useState)(!1),2),u=i[0],a=i[1],l=(0,n.useRef)(null),c=r._('Upload from computer', 'ProductGroupDetailsModal.uploadFromComputer', 'Dropdown label to upload image file from your computer');return(0,O.jsxs)(o.kC,{justifyContent:"center",children:[(0,O.jsx)(o.hU,{accessibilityExpanded:u,accessibilityHaspopup:!0,accessibilityLabel:r._('Upload product group cover image menu', 'ProductGroupDetailsModal.productGroupCoverImageA11y', 'Accessibility text for upload menu'),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(){return a((function(e){return!e}))},ref:l,size:"lg"}),u&&(0,O.jsx)(o.Lt,{anchor:l.current,id:"product-group-image-dropdown",onDismiss:function(){return a(!1)},children:(0,O.jsx)(o.Lt.Item,{onSelect:function(){a(!1),t()},option:{value:c,label:c}})})]})}function C(e){var t=e.image,r=e.onFileUpload,n=e.onError,i=(0,d.ZP)(),u=i._('Product Group Cover Image', 'ProductGroupDetailsModal.productGroupCoverImageAlt', 'Alt text for product group cover image');return(0,O.jsxs)(o.xu,{position:"relative",children:[(0,O.jsx)(o.xu,{height:j,width:j,rounding:5,overflow:"hidden",children:(0,O.jsx)(o.Ee,{alt:u,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,src:t,onError:n})}),(0,O.jsx)(o.xu,{position:"absolute",top:!0,right:!0,padding:4,children:(0,O.jsx)(I,{onFileUpload:r})})]})}function D(e){var t,r,v,m=e.onDismiss,E=e.onSubmit,I=e.productGroup,D=(0,u.v)().logContextEvent,R=(0,d.ZP)(),T=R._('Edit product group display', 'ProductGroupDetailsModal.heading', 'Modal title'),z=(0,h.Z)().id||"",L="/v3/business/users/".concat(z,"/storefront/product_group_image/"),N=A((0,n.useState)(""),2),G=N[0],M=N[1],U=A((0,n.useState)(""),2),B=U[0],Z=U[1],k=A((0,n.useState)(),2),F=k[0],H=k[1],V=A((0,n.useState)(),2),W=V[0],$=V[1],K=A((0,n.useState)(!1),2),Y=K[0],q=K[1],Q=A((0,n.useState)(0),2),X=Q[0],J=Q[1],ee=A((0,n.useState)((new Date).getTime()),1)[0],te=I.groupType!==P.yh,re=(0,g.Z)(),ne=re.merchantId,oe=re.advertiserId,ie=(0,_.F9)().showOneToast,ue=(0,b.S)().updateStorefrontLastUpdated,ae=(0,y.Ib)({advertiserId:oe,merchantId:ne,productGroupsIds:[I.entityId],uniq:ee},!1,!0),le=(0,p.Z)({name:"ApiResource",options:{url:L,data:{product_group_ids:[I.entityId]},uniq:ee},noCache:!0}),ce=(0,n.useRef)(),se=Number(I.entityId),de=null===(t=ae.data)||void 0===t?void 0:t.find((function(e){return e.id===se})),fe=ae.isLoaded&&le.isLoaded,pe=de&&(G!==de.name||B!==(de.description||"")||!!F),_e=de&&G!==de.name,he=de&&B!==(de.description||""),ge=fe&&(((null===(r=le.data)||void 0===r?void 0:r[I.entityId])||{})[0]||{}),ye=ge?(0,P.cB)((0,s.b)(ge)):null,ve=(null===(v=I.previewPins)||void 0===v?void 0:v[0])||{},me=ve.imageSignature,be=ve.images&&(0,P.cB)(ve.images),Pe=W||[ye,be].filter((function(e){return!!e}))[X];(0,n.useEffect)((function(){de&&(M(de.name||""),Z(de.description||""))}),[de]),(0,n.useEffect)((function(){D({event_type:9854,component:13998})}),[D]);var Oe=function(){m(),D({event_type:9856,component:13998})},Ae=R._('Save', 'ProductGroupDetailsModal.SaveBtn', 'Button to save product group details changes'),Ee=R._('Cancel', 'ProductGroupDetailsModal.CancelBtn', 'Button to cancel product group details changes');return(0,O.jsx)(o.mh,{zIndex:S,children:(0,O.jsx)(l.ZP,{accessibilityModalLabel:T,align:"center",heading:T,onDismiss:Oe,footer:fe?(0,O.jsxs)(o.kC,{alignItems:"start",children:[(0,O.jsx)(o.xu,{width:"50%",children:(0,O.jsx)(o.xv,{size:"300",children:(0,f.nk)(R._('To edit items in this product group, visit {{catalogsLink}}', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form'),{catalogsLink:(0,O.jsx)(o.rU,{href:"/product-catalogs",display:"inlineBlock",target:"blank",underline:"hover",children:(0,O.jsx)(o.xv,{weight:"bold",inline:!0,children:R._('Pinterest Catalogs', 'ProductGroupDetailsModal.catalogsLink', 'link for catalogs')})},"product-catalogs-link")})})}),(0,O.jsx)(o.xu,{width:"50%",children:(0,O.jsxs)(o.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"end",children:[(0,O.jsx)(o.zx,{color:"gray",text:Ee,onClick:Oe}),(0,O.jsx)(o.zx,{color:"red",text:Ae,onClick:function(){var e=ye?F:F||me,t=[],r=[];e&&(t.push((0,a.Z)({url:L,method:"PUT",data:{image_signatures:[e],product_group_id:I.entityId}})),r.push("cover_image")),(_e||he)&&(t.push(i.Z.create("ProductGroupsResource",{name:G,description:B,productGroupId:Number(I.entityId),filters:null==de?void 0:de.filter_v2}).callUpdate()),_e&&r.push("name"),he&&r.push("description")),D({event_type:9857,component:13998,aux_data:{product_group_modal_changes:r.join(",")}}),m(),Promise.all(t).then((function(){E(),ue((new Date).getTime()),ie((function(e){var t=e.hideToast;return(0,O.jsx)("div",{className:"ProductGroupSavedToast",children:(0,O.jsx)(c.ZP,{duration:P.QE,onHide:t,text:R._('Product group saved', 'MerchantStorefront.ProductGroupDetailsModal.pgSaved', 'toast text')})})}))}))},disabled:!pe})]})})]},"product-group-details-footer"):(0,O.jsx)(n.Fragment,{}),size:te?"md":"sm",children:(0,O.jsx)(o.xu,{paddingX:8,marginBottom:2,children:fe?(0,O.jsxs)(o.kC,{justifyContent:"center",children:[(0,O.jsxs)(o.xu,{width:320,children:[(0,O.jsx)(o.xu,{marginBottom:4,children:(0,O.jsx)(o.xv,{size:"300",weight:"bold",children:R._('Cover image', 'ProductGroupDetailsModal.coverImage', 'heading for cover image form')})}),(0,O.jsx)("input",{accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:function(e){if(e.target instanceof HTMLInputElement){var t=e.target.files[0],r=new FileReader;t&&r.readAsDataURL(t),r.addEventListener("load",(function(){q(!0),D({event_type:9855,component:13998}),(0,a.Z)({url:L,method:"POST",data:{image_base64:r.result}}).then((function(e){var t;H(null===(t=e.resource_response.data)||void 0===t?void 0:t.image_signature),q(!1),"string"==typeof r.result&&$(r.result)}))}),!1)}},ref:ce,style:{display:"none"},type:"file"}),Y&&(0,O.jsx)(o.xu,{height:j,width:j,rounding:5,color:"secondary",justifyContent:"center",direction:"column",display:"flex",children:(0,O.jsx)(o.$j,{accessibilityLabel:R._('Uploading product group cover image', 'ProductGroupDetailsModal.uploadingCoverImage', 'spinner accessibility label'),show:!0})}),!Y&&Pe&&(0,O.jsx)(C,{image:Pe,onFileUpload:function(){var e;null===(e=ce.current)||void 0===e||e.click()},onError:function(){return J(X+1)}})]}),te&&(0,O.jsxs)(o.xu,{width:320,marginStart:4,children:[(0,O.jsx)(o.xu,{marginBottom:4,children:(0,O.jsx)(o.xv,{size:"300",weight:"bold",children:R._('Title', 'ProductGroupDetailsModal.name', 'heading for product group name input')})}),(0,O.jsx)(o.nv,{id:"name",onChange:function(e){var t=e.value;return M(t.slice(0,w))},size:"lg",type:"text",value:G}),(0,O.jsxs)(o.xu,{marginTop:2,marginBottom:4,height:30,children:[G&&(0,O.jsx)(o.xv,{size:"100",color:"subtle",children:R._('Changing your product group\'s name in your shop will also change its name in Catalogs', 'ProductGroupDetailsModal.pgName', 'subheading for name form')}),!G&&(0,O.jsx)(o.xv,{size:"100",color:"error",children:R._('This field can\'t be blank!', 'ProductGroupDetailsModal.nameEmptyError', 'error message for an empty name input')})]}),(0,O.jsx)(o.xu,{marginBottom:4,children:(0,O.jsx)(o.xv,{size:"300",weight:"bold",children:R._('Description', 'ProductGroupDetailsModal.description', 'heading for description form')})}),(0,O.jsx)(o.xu,{height:178,children:(0,O.jsx)(o.Kx,{id:"description",onChange:function(e){var t=e.value;return Z(t.slice(0,x))},placeholder:R._('Tell shoppers on Pinterest more about this product group', 'ProductGroupDetailsModal.descriptionPlaceholder', 'textarea placeholder for product group description'),value:B,rows:7})})]})]}):(0,O.jsx)(o.$j,{accessibilityLabel:R._('Loading product group details', 'ProductGroupDetailsModal.loadingSpinner', 'spinner accessibility label'),show:!0})})})})}},826935:function(e,t,r){r.d(t,{Z:function(){return _}});var n=r(658379),o=r(249444),i=r(536042),u=r(51283),a=r(492701),l=r(389282);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(){},f=function(e){var t=e.url,r=e.onClick,n=e.i18n;return(0,l.jsx)(o.ZP,{accessibilityLabel:n._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:n._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",href:t,onClick:r})},p=function(e){var t=e.i18n;return(0,l.jsx)(o.zx,{accessibilityLabel:t._('Shop button', 'ProductGroupV2.shopButton.accessibilityLabel', 'Shop button for product group rep v2'),size:"lg",text:t._('Shop', 'ProductGroupV2.shopButton.text', 'Shop button text for product group rep v2'),color:"white",role:"button"})};function _(e){var t,r,s=e.onClick,_=e.productGroup,h=e.showControls,g=e.url,y=(0,i.ZP)(),v=y._('Edit product group display', 'ProductGroupV2.editTooltip', 'Tooltip text for edit product group button'),m=(y._('Remove product group from shop', 'ProductGroupV2.removeTooltip', 'Tooltip text for remove product group button'),c((0,n.useState)(!1),2)),b=m[0],P=m[1],O=c((0,n.useState)(!1),2),A=O[0],E=O[1],S=!(!g||!s),j=u.Z.WIDTH,w=u.Z.HEIGHT,x=j-64;return(0,l.jsxs)(o.xu,{position:"relative",onMouseEnter:function(){E(!0)},onMouseLeave:function(){E(!1)},children:[(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsxs)(o.zd,{width:j,height:w,rounding:8,children:[(0,l.jsx)(u.C,{productGroup:{coverImages:_.coverImages,groupType:_.groupType,previewPins:null===(t=_.previewPins)||void 0===t?void 0:t.map((function(e){return{imageSignature:e.imageSignature,images:e.images}}))}}),(0,l.jsx)(o.xu,{position:"absolute",width:j,height:w,top:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]}),(0,l.jsx)(o.xu,{position:"absolute",color:"selected",opacity:A?.5:0,width:j,height:w,rounding:8,top:!0})]}),h&&A&&(0,l.jsxs)(o.xu,{position:"absolute",top:!0,right:!0,padding:8,display:"flex",children:[(0,l.jsx)(o.xu,{marginEnd:0,children:(0,l.jsx)(o.u,{text:v,idealDirection:"down",children:(0,l.jsx)(o.hU,{accessibilityLabel:v,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),P(!0)},size:"xl"})})}),false]}),(0,l.jsxs)(o.xu,{position:"absolute",bottom:!0,left:!0,padding:8,children:[(0,l.jsx)(o.xu,{marginBottom:5,maxWidth:x,children:(0,l.jsx)(o.X6,{size:"600",color:"inverse",lineClamp:2,children:_.name})}),A&&(0,l.jsx)(o.xu,{marginBottom:5,maxWidth:x,children:(0,l.jsx)(o.xv,{size:"300",color:"inverse",children:_.description})}),!S&&(0,l.jsx)(p,{i18n:y}),S&&(0,l.jsx)(f,{url:null!=g?g:"",onClick:null!=s?s:d,i18n:y})]}),h&&b&&(0,l.jsx)(a.Z,{onDismiss:function(){return P(!1)},onSubmit:function(){return P(!1)},productGroup:{entityId:_.entityId,groupType:_.groupType,previewPins:null===(r=_.previewPins)||void 0===r?void 0:r.map((function(e){return{imageSignature:e.imageSignature,images:e.images}}))}})]})}},602531:function(e,t,r){r.d(t,{LO:function(){return S},N0:function(){return x},t8:function(){return I},tt:function(){return C}});var n=r(658379),o=r(819079),i=r(611756),u=r(802071),a=r(850865),l=r(548672),c=r(531017),s=r(329689),d=r(384722),f=r(407387),p=r(850500),_=r(471501),h=r(880391),g=r(838419);function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=(0,o.Z)(e?{name:"ApiResource",options:{url:"/v3/catalogs/".concat(e,"/feed_profiles/"),field_sets:["feedprofile.id","feedprofile.display_name","feedprofile.country","feedprofile.locale","feedprofile.all_products_pg_item_count","feedprofile.feed_status"]}}:null);return{feedProfilesResource:t,feedProfiles:(0,c.d9)(t.data||[]).filter((function(e){return e.country&&e.locale&&e.feedStatus===l.Hm.ACTIVE}))}}function S(){var e=(0,a.Z)(),t=e.merchantId,r=e.ownerUserId,n=function(){var e=(0,o.Z)({name:"CountriesResource"});return{countriesResource:e,countries:(e.data||[]).reduce((function(e,t){return O(O({},e),{},A({},t.key,t.name.split(" (")[0]||""))}),{})}}(),i=n.countriesResource,u=n.countries,l=E(t),c=l.feedProfilesResource,s=l.feedProfiles,d=function(e){var t=(0,o.Z)(e?{name:"ApiResource",options:{url:"/v3/business/users/".concat(e,"/storefront/settings/")}}:null);return{storefrontSettingsResource:t,settings:t.data||{}}}(r),f=d.storefrontSettingsResource,p=d.settings;return{countries:u,feedProfiles:s,isLoaded:i.isLoaded&&c.isLoaded&&f.isLoaded,refresh:function(){c.refresh(),f.refresh()},settings:p,userId:r}}function j(){var e=E((0,a.Z)().merchantId),t=e.feedProfilesResource,r=e.feedProfiles,n=function(){var e=(0,o.Z)({name:"UserSettingsResource",options:{field_set_key:"profile"}});return{userSettingsResource:e,userSettings:e.data}}(),i=n.userSettingsResource,u=n.userSettings;return{feedProfiles:r,isLoaded:t.isLoaded&&i.isLoaded,userSettings:u}}function w(){var e=(0,g.Z)().data,t=(0,u.Z)(),r=(0,_.Z)({user:e,viewer:t}),n=(0,s.Z)();return{isORBACProfileManager:(0,d.q6)(t,null==e?void 0:e.id,n),ownProfile:r}}function x(){return w().ownProfile}function I(){var e=w(),t=e.ownProfile,r=e.isORBACProfileManager;return t||r}function C(){var e=j(),t=e.feedProfiles,r=e.userSettings,o=e.isLoaded,u=(0,p.S)(),a=u.merchantStorefrontSettings.currentViewingLocale,l=a.country,c=a.language,s=u.updateLocaleStorefrontSetting,d=S().countries;(0,n.useEffect)((function(){if(o&&(!l||!c||!(0,h.Ee)(t,l,c))){var e,n,u=v(((0,i.qn)(f.Z.STOREFRONT_LOCALE_STORAGE_KEY)||"").split("/"),2),a=u[0],p=u[1],_=(0,h.b8)(t,d),g=(0,h.Ee)(_,a,p),m=(0,h.Ee)(_,null!==(e=null==r?void 0:r.country)&&void 0!==e?e:"",(0,h.Md)(null==r?void 0:r.locale)),b=v(y(_).sort((function(e,t){return(0,h.gE)(t)-(0,h.gE)(e)})),1)[0],P=g||m||b;if(P)s(P.country||"",(0,h.Md)(P.locale),null!==(n=P.id)&&void 0!==n?n:"")}}))}},880391:function(e,t,r){r.d(t,{Ee:function(){return A},LT:function(){return b},Md:function(){return g},Q1:function(){return O},QE:function(){return h},S8:function(){return S},WU:function(){return x},YY:function(){return w},b8:function(){return C},c8:function(){return P},cB:function(){return E},gE:function(){return y},mV:function(){return j},u3:function(){return v},yh:function(){return _},z1:function(){return m}});var n=r(690108),o=r(970588),i=r(806743);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t,r,n,o,i,u){try{var a=e[i](u),l=a.value}catch(c){return void r(c)}a.done?t(l):Promise.resolve(l).then(n,o)}function s(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],u=!0,a=!1;try{for(r=r.call(e);!(u=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);u=!0);}catch(l){a=!0,o=l}finally{try{u||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _="ALL_PRODUCTS",h=5e3,g=function(e){return e?e.split("-")[0].toLowerCase():""},y=function(e){var t;return e.allProductsPGItemCount||(null===(t=e.lastSuccessfulIngestion)||void 0===t?void 0:t.productCount)||0},v=function(e){return[e.country||"",g(e.locale)].join("/").toUpperCase()},m=function(e,t){return e&&t?"".concat(e," (").concat(g(t).toUpperCase(),")"):""},b=function(e,t){var r=d(t.split("/"),2),n=r[0],o=r[1];return m(e[n.toUpperCase()],o)},P=function(e){return!e||void 0===e.shop_visible||e.shop_visible},O=function(e,t){var r=t.map(v);return Object.keys(e).map((function(e){return e.toUpperCase()})).filter((function(t,n,o){return r.includes(t)&&!P(e[t])&&o.indexOf(t)===n}))},A=function(e,t,r){return t&&r?e.find((function(e){return e.country===t&&g(e.locale)===r})):void 0},E=function(e){if(!e)return"";for(var t=0,r=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];t<r.length;t++){var n,o=r[t];if(e[o])return null!==(n=e[o].url)&&void 0!==n?n:""}return""},S=function(e){return e.filter((function(e){return Number.isInteger(e.featured_position)})).map((function(e){return e.id}))},j=function(e,t){var r=new Set(t),n=new Set(e);return{featureProductGroupsSet:new Set(s(n.values()).filter((function(e){return!r.has(e)}))),unfeatureProductGroupsSet:new Set(s(r.values()).filter((function(e){return!n.has(e)})))}},w=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var u,c,d,f,p,_,h,g,y,v,m,b,P,O,A,E,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=S.length>2&&void 0!==S[2]?S[2]:"FEATURED",c=r.featureProductGroupsSet,d=r.unfeatureProductGroupsSet,f=t.userId,p=t.feedProfileId,_=t.countrySetting,h=t.languageSetting,g=t.settings,y="".concat(_,"/").concat(h.toUpperCase()),v=u===i.$B.CATEGORY?[]:s(c.values()).map((function(e){return n.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callCreate()})),m=u===i.$B.CATEGORY?[]:s(d.values()).map((function(e){return n.Z.create("FeaturedProductGroupsResource",{feedProfileId:p,productGroupId:e}).callDelete()})),b=i.yK[u],P=g[y]&&g[y][b]||[],O=s(new Set([].concat(s(P),s(c.values())))).filter((function(e){return!d.has(e)})),A=a(a({},g),{},l({},y,a(a({},g[y]||{}),{},l({},b,O)))),E=(0,o.Z)({url:"/v3/business/users/".concat(f,"/storefront/settings/"),method:"PUT",data:{settings:JSON.stringify(A)}}),e.next=13,Promise.all([E].concat(s(v),s(m)));case 13:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function u(e){c(i,n,o,u,a,"next",e)}function a(e){c(i,n,o,u,a,"throw",e)}u(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),x=function(e,t){return e.length===t.length&&t.every((function(t){return e.includes(t)}))},I=function(e,t){return m(t[e.country||""],e.locale)},C=function(e,t){return e.reduce((function(e,r){var n=e.findIndex((function(e){return I(e,t)===I(r,t)}));return-1===n?e.push(r):y(e[n])<y(r)&&(e[n]=r),e}),[])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/2401-a5e9144d1e706741.js.map